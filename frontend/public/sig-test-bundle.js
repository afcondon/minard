/* Generated by Spago v1.0.3 */
(() => {
  // output/CE2.SigTest.Main/foreign.js
  var createRow = (parentId) => (idx) => (name14) => (category) => (sigText) => (containerId) => (parseOk) => () => {
    const table = document.getElementById(parentId);
    if (!table) return;
    const tr = document.createElement("tr");
    tr.className = parseOk ? "sig-row" : "sig-row sig-row-error";
    const tdIdx = document.createElement("td");
    tdIdx.className = "sig-idx";
    tdIdx.textContent = String(idx);
    tr.appendChild(tdIdx);
    const tdMeta = document.createElement("td");
    tdMeta.className = "sig-meta";
    const nameEl = document.createElement("div");
    nameEl.className = "sig-meta-name";
    nameEl.textContent = name14;
    const catEl = document.createElement("div");
    catEl.className = "sig-meta-cat";
    catEl.textContent = category;
    const rawEl = document.createElement("div");
    rawEl.className = "sig-meta-raw";
    rawEl.textContent = sigText;
    tdMeta.appendChild(nameEl);
    tdMeta.appendChild(catEl);
    tdMeta.appendChild(rawEl);
    tr.appendChild(tdMeta);
    const tdRender = document.createElement("td");
    tdRender.className = "sig-render-cell";
    const renderDiv = document.createElement("div");
    renderDiv.id = containerId;
    tdRender.appendChild(renderDiv);
    tr.appendChild(tdRender);
    table.appendChild(tr);
  };

  // output/CE2.SigTest.Signatures/index.js
  var signatures = [{
    idx: 1,
    category: "simple",
    name: "maxHeaderSize",
    sig: "Int"
  }, {
    idx: 2,
    category: "simple",
    name: "pid",
    sig: "Pid"
  }, {
    idx: 3,
    category: "pure_function",
    name: "head",
    sig: "forall a. NonEmptyArray a -> a"
  }, {
    idx: 4,
    category: "pure_function",
    name: "decayAlpha",
    sig: "Number -> Number -> Number -> Number -> Number"
  }, {
    idx: 5,
    category: "pure_function",
    name: "dropWhile",
    sig: "String -> String -> (Boolean -> Char)"
  }, {
    idx: 6,
    category: "constrained",
    name: "sort",
    sig: "forall a. Ord a => Array a -> Array a"
  }, {
    idx: 7,
    category: "constrained",
    name: "fromFoldable",
    sig: "forall f k v. Ord k => Foldable f => Map k v -> f (Tuple k v)"
  }, {
    idx: 8,
    category: "constrained",
    name: "evalStateT",
    sig: "forall s m a. Functor m => m a -> s -> StateT s m a"
  }, {
    idx: 9,
    category: "constrained",
    name: "experiment",
    sig: "forall f a w s. ComonadStore s w => Functor f => f a -> w a -> (f s -> s)"
  }, {
    idx: 10,
    category: "multi_constraint",
    name: "foldM",
    sig: "forall f m a b. Foldable f => Monad m => m b -> f a -> b -> (m b -> a -> b)"
  }, {
    idx: 11,
    category: "multi_constraint",
    name: "tailRecM3",
    sig: "forall m a b c d. MonadRec m => m d -> c -> b -> a -> (m (Step Record ( a :: a, b :: b, c :: c ) d) -> c -> b -> a)"
  }, {
    idx: 12,
    category: "multi_constraint",
    name: "biall",
    sig: "forall t a b c. Bifoldable t => BooleanAlgebra c => c -> t a b -> (c -> b) -> (c -> a)"
  }, {
    idx: 13,
    category: "record",
    name: "BrushExtent",
    sig: "Record ( x0 :: Number, y0 :: Number, x1 :: Number, y1 :: Number )"
  }, {
    idx: 14,
    category: "record",
    name: "TypeClassInfo",
    sig: "Record ( id :: Int, name :: String, moduleName :: String, packageName :: String, methodCount :: Int, instanceCount :: Int )"
  }, {
    idx: 15,
    category: "record",
    name: "PackState",
    sig: "Record ( circles :: Map CircleId Circle, frontChain :: Array CircleId, nextId :: CircleId )"
  }, {
    idx: 16,
    category: "record",
    name: "ChordLayout",
    sig: "Record ( groups :: Array ChordGroup, chords :: Array Chord )"
  }, {
    idx: 17,
    category: "row_poly",
    name: "setPosition",
    sig: "forall r. Record ( x :: Number, y :: Number | r ) -> Record ( x :: Number, y :: Number | r ) -> Number -> Number"
  }, {
    idx: 18,
    category: "row_poly",
    name: "onValueInput",
    sig: "forall r i. IProp ( value :: String, onInput :: Event | r ) i -> (i -> String)"
  }, {
    idx: 19,
    category: "effect",
    name: "scrollToElement",
    sig: "Effect Unit -> String"
  }, {
    idx: 20,
    category: "effect",
    name: "createWriteStream'",
    sig: "forall r trash. Union r trash WriteStreamOptions => Effect (Writable ()) -> Record r -> FilePath"
  }, {
    idx: 21,
    category: "effect",
    name: "registerTransition",
    sig: "Effect TransitionId -> TransitionSpec -> String -> Element -> ElementTransitionManager"
  }, {
    idx: 22,
    category: "higher_kinded",
    name: "foldMap",
    sig: "forall a m. Monoid m => m -> f a -> (m -> a)"
  }, {
    idx: 23,
    category: "higher_kinded",
    name: "oneOfMap",
    sig: "forall f g a b. Foldable f => Plus g => g b -> f a -> (g b -> a)"
  }, {
    idx: 24,
    category: "higher_kinded",
    name: "takeWhile",
    sig: "forall f a. Applicative f => ListT f a -> ListT f a -> (Boolean -> a)"
  }, {
    idx: 25,
    category: "complex",
    name: "either",
    sig: "forall a b c. c -> Either a b -> (c -> b) -> (c -> a)"
  }, {
    idx: 26,
    category: "complex",
    name: "getFieldOptional'",
    sig: "forall a. Either JsonDecodeError (Maybe a) -> String -> Object Json -> (Either JsonDecodeError a -> Json)"
  }, {
    idx: 27,
    category: "complex",
    name: "combineRoutes",
    sig: "RouteDuplex' (Either left right) -> RouteDuplex' right -> RouteDuplex' left"
  }, {
    idx: 28,
    category: "constructor",
    name: "Nothing",
    sig: "Maybe a"
  }, {
    idx: 29,
    category: "constructor",
    name: "Just",
    sig: "a -> Maybe a"
  }, {
    idx: 30,
    category: "constructor",
    name: "Left",
    sig: "a -> Either a b"
  }, {
    idx: 31,
    category: "constructor",
    name: "Right",
    sig: "b -> Either a b"
  }, {
    idx: 32,
    category: "rank_n",
    name: "runST",
    sig: "forall a. (forall s. ST s a) -> a"
  }, {
    idx: 33,
    category: "rank_n",
    name: "runExists",
    sig: "forall f r. (forall a. f a -> r) -> Exists f -> r"
  }, {
    idx: 34,
    category: "rank_n",
    name: "hoistFree",
    sig: "forall f g a. (forall b. f b -> g b) -> Free f a -> Free g a"
  }, {
    idx: 35,
    category: "nested_record",
    name: "BundleLink",
    sig: "Record ( source :: String, target :: String, path :: Array RadialNode )"
  }, {
    idx: 36,
    category: "nested_record",
    name: "IndexedTransition",
    sig: "Record ( index :: Int, state :: Record ( from :: Number, to :: Number, progress :: Number ) )"
  }, {
    idx: 37,
    category: "nested_record",
    name: "EngineState",
    sig: "Record ( currentScene :: Maybe String, viewport :: Record ( width :: Number, height :: Number ), camera :: Record ( x :: Number, y :: Number, zoom :: Number ) )"
  }, {
    idx: 38,
    category: "nested_record",
    name: "animatedLinkVertical",
    sig: "forall datum. Record ( toSourceX :: datum -> Number, toSourceY :: datum -> Number, toTargetX :: datum -> Number, toTargetY :: datum -> Number ) -> Record ( fromSourceX :: datum -> Number, fromSourceY :: datum -> Number, fromTargetX :: datum -> Number, fromTargetY :: datum -> Number ) -> datum -> String"
  }, {
    idx: 39,
    category: "nested_record",
    name: "lookupGT",
    sig: "forall k v. Ord k => k -> Map k v -> Maybe (Record ( key :: k, value :: v ))"
  }, {
    idx: 40,
    category: "large_record",
    name: "ResourceUsage",
    sig: "Record ( userCPUTime :: Int, systemCPUTime :: Int, maxRSS :: Int, sharedMemorySize :: Int, unsharedDataSize :: Int, unsharedStackSize :: Int, minorPageFault :: Int, majorPageFault :: Int, swappedOut :: Int, fsRead :: Int, fsWrite :: Int, ipcSent :: Int, ipcReceived :: Int, signalsCount :: Int, voluntaryContextSwitches :: Int, involuntaryContextSwitches :: Int )"
  }, {
    idx: 41,
    category: "small_record",
    name: "HandleConfig",
    sig: "Record ( containerSelector :: String, nodesGroupId :: GroupId, linksGroupId :: Maybe GroupId )"
  }, {
    idx: 42,
    category: "bare_row",
    name: "D3_ID",
    sig: "( id :: NodeID | row )"
  }, {
    idx: 43,
    category: "bare_row",
    name: "MouseEvents",
    sig: "( onDoubleClick :: MouseEvent, onClick :: MouseEvent, onMouseDown :: MouseEvent, onMouseEnter :: MouseEvent, onMouseLeave :: MouseEvent, onMouseMove :: MouseEvent, onMouseOver :: MouseEvent, onMouseOut :: MouseEvent, onMouseUp :: MouseEvent | r )"
  }, {
    idx: 44,
    category: "row_combination",
    name: "SimulationNode",
    sig: "Record (D3_ID + D3_XY + D3_VxyFxy + r)"
  }, {
    idx: 45,
    category: "kind_sig",
    name: "Proxy",
    sig: "forall k. k -> Type"
  }, {
    idx: 46,
    category: "kind_sig",
    name: "SProxy",
    sig: "Symbol -> Type"
  }, {
    idx: 47,
    category: "kind_sig",
    name: "TypeEquals",
    sig: "Type -> Type -> Constraint"
  }, {
    idx: 48,
    category: "halogen",
    name: "handleAction",
    sig: "forall m. MonadAff m => Action -> HalogenM State Action () Output m Unit"
  }, {
    idx: 49,
    category: "halogen",
    name: "component",
    sig: "forall q m. MonadAff m => Component q Input Output m"
  }, {
    idx: 50,
    category: "halogen",
    name: "mkEval",
    sig: "forall state query action slots input output m. EvalSpec state query action slots input output m -> HalogenQ query action input -> HalogenM state action slots output m Unit"
  }];

  // output/Data.Array/foreign.js
  var replicateFill = function(count, value12) {
    if (count < 1) {
      return [];
    }
    var result = new Array(count);
    return result.fill(value12);
  };
  var replicatePolyfill = function(count, value12) {
    var result = [];
    var n = 0;
    for (var i = 0; i < count; i++) {
      result[n++] = value12;
    }
    return result;
  };
  var replicateImpl = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;
  var length = function(xs) {
    return xs.length;
  };
  var unconsImpl = function(empty4, next, xs) {
    return xs.length === 0 ? empty4({}) : next(xs[0])(xs.slice(1));
  };
  var indexImpl = function(just, nothing, xs, i) {
    return i < 0 || i >= xs.length ? nothing : just(xs[i]);
  };
  var findMapImpl = function(nothing, isJust2, f, xs) {
    for (var i = 0; i < xs.length; i++) {
      var result = f(xs[i]);
      if (isJust2(result)) return result;
    }
    return nothing;
  };
  var findIndexImpl = function(just, nothing, f, xs) {
    for (var i = 0, l = xs.length; i < l; i++) {
      if (f(xs[i])) return just(i);
    }
    return nothing;
  };
  var reverse = function(l) {
    return l.slice().reverse();
  };
  var concat = function(xss) {
    if (xss.length <= 1e4) {
      return Array.prototype.concat.apply([], xss);
    }
    var result = [];
    for (var i = 0, l = xss.length; i < l; i++) {
      var xs = xss[i];
      for (var j = 0, m = xs.length; j < m; j++) {
        result.push(xs[j]);
      }
    }
    return result;
  };
  var filterImpl = function(f, xs) {
    return xs.filter(f);
  };
  var sortByImpl = /* @__PURE__ */ (function() {
    function mergeFromTo(compare3, fromOrdering, xs1, xs2, from2, to) {
      var mid;
      var i;
      var j;
      var k;
      var x;
      var y;
      var c;
      mid = from2 + (to - from2 >> 1);
      if (mid - from2 > 1) mergeFromTo(compare3, fromOrdering, xs2, xs1, from2, mid);
      if (to - mid > 1) mergeFromTo(compare3, fromOrdering, xs2, xs1, mid, to);
      i = from2;
      j = mid;
      k = from2;
      while (i < mid && j < to) {
        x = xs2[i];
        y = xs2[j];
        c = fromOrdering(compare3(x)(y));
        if (c > 0) {
          xs1[k++] = y;
          ++j;
        } else {
          xs1[k++] = x;
          ++i;
        }
      }
      while (i < mid) {
        xs1[k++] = xs2[i++];
      }
      while (j < to) {
        xs1[k++] = xs2[j++];
      }
    }
    return function(compare3, fromOrdering, xs) {
      var out;
      if (xs.length < 2) return xs;
      out = xs.slice(0);
      mergeFromTo(compare3, fromOrdering, out, xs.slice(0), 0, xs.length);
      return out;
    };
  })();
  var unsafeIndexImpl = function(xs, n) {
    return xs[n];
  };

  // output/Data.Functor/foreign.js
  var arrayMap = function(f) {
    return function(arr) {
      var l = arr.length;
      var result = new Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(arr[i]);
      }
      return result;
    };
  };

  // output/Control.Semigroupoid/index.js
  var semigroupoidFn = {
    compose: function(f) {
      return function(g) {
        return function(x) {
          return f(g(x));
        };
      };
    }
  };

  // output/Control.Category/index.js
  var identity = function(dict) {
    return dict.identity;
  };
  var categoryFn = {
    identity: function(x) {
      return x;
    },
    Semigroupoid0: function() {
      return semigroupoidFn;
    }
  };

  // output/Data.Boolean/index.js
  var otherwise = true;

  // output/Data.Function/index.js
  var flip = function(f) {
    return function(b) {
      return function(a) {
        return f(a)(b);
      };
    };
  };
  var $$const = function(a) {
    return function(v) {
      return a;
    };
  };

  // output/Data.Unit/foreign.js
  var unit = void 0;

  // output/Type.Proxy/index.js
  var $$Proxy = /* @__PURE__ */ (function() {
    function $$Proxy2() {
    }
    ;
    $$Proxy2.value = new $$Proxy2();
    return $$Proxy2;
  })();

  // output/Data.Functor/index.js
  var map = function(dict) {
    return dict.map;
  };
  var mapFlipped = function(dictFunctor) {
    var map13 = map(dictFunctor);
    return function(fa) {
      return function(f) {
        return map13(f)(fa);
      };
    };
  };
  var $$void = function(dictFunctor) {
    return map(dictFunctor)($$const(unit));
  };
  var functorArray = {
    map: arrayMap
  };

  // output/Data.Semigroup/foreign.js
  var concatString = function(s1) {
    return function(s2) {
      return s1 + s2;
    };
  };
  var concatArray = function(xs) {
    return function(ys) {
      if (xs.length === 0) return ys;
      if (ys.length === 0) return xs;
      return xs.concat(ys);
    };
  };

  // output/Data.Symbol/index.js
  var reflectSymbol = function(dict) {
    return dict.reflectSymbol;
  };

  // output/Record.Unsafe/foreign.js
  var unsafeGet = function(label4) {
    return function(rec) {
      return rec[label4];
    };
  };
  var unsafeSet = function(label4) {
    return function(value12) {
      return function(rec) {
        var copy = {};
        for (var key in rec) {
          if ({}.hasOwnProperty.call(rec, key)) {
            copy[key] = rec[key];
          }
        }
        copy[label4] = value12;
        return copy;
      };
    };
  };

  // output/Data.Semigroup/index.js
  var semigroupString = {
    append: concatString
  };
  var semigroupRecordNil = {
    appendRecord: function(v) {
      return function(v1) {
        return function(v2) {
          return {};
        };
      };
    }
  };
  var semigroupArray = {
    append: concatArray
  };
  var appendRecord = function(dict) {
    return dict.appendRecord;
  };
  var semigroupRecord = function() {
    return function(dictSemigroupRecord) {
      return {
        append: appendRecord(dictSemigroupRecord)($$Proxy.value)
      };
    };
  };
  var append = function(dict) {
    return dict.append;
  };
  var semigroupRecordCons = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    return function() {
      return function(dictSemigroupRecord) {
        var appendRecord1 = appendRecord(dictSemigroupRecord);
        return function(dictSemigroup) {
          var append13 = append(dictSemigroup);
          return {
            appendRecord: function(v) {
              return function(ra) {
                return function(rb) {
                  var tail2 = appendRecord1($$Proxy.value)(ra)(rb);
                  var key = reflectSymbol2($$Proxy.value);
                  var insert6 = unsafeSet(key);
                  var get = unsafeGet(key);
                  return insert6(append13(get(ra))(get(rb)))(tail2);
                };
              };
            }
          };
        };
      };
    };
  };

  // output/Control.Alt/index.js
  var alt = function(dict) {
    return dict.alt;
  };

  // output/Control.Apply/foreign.js
  var arrayApply = function(fs) {
    return function(xs) {
      var l = fs.length;
      var k = xs.length;
      var result = new Array(l * k);
      var n = 0;
      for (var i = 0; i < l; i++) {
        var f = fs[i];
        for (var j = 0; j < k; j++) {
          result[n++] = f(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Apply/index.js
  var identity2 = /* @__PURE__ */ identity(categoryFn);
  var applyArray = {
    apply: arrayApply,
    Functor0: function() {
      return functorArray;
    }
  };
  var apply = function(dict) {
    return dict.apply;
  };
  var applyFirst = function(dictApply) {
    var apply1 = apply(dictApply);
    var map11 = map(dictApply.Functor0());
    return function(a) {
      return function(b) {
        return apply1(map11($$const)(a))(b);
      };
    };
  };
  var applySecond = function(dictApply) {
    var apply1 = apply(dictApply);
    var map11 = map(dictApply.Functor0());
    return function(a) {
      return function(b) {
        return apply1(map11($$const(identity2))(a))(b);
      };
    };
  };

  // output/Control.Applicative/index.js
  var pure = function(dict) {
    return dict.pure;
  };
  var when = function(dictApplicative) {
    var pure12 = pure(dictApplicative);
    return function(v) {
      return function(v1) {
        if (v) {
          return v1;
        }
        ;
        if (!v) {
          return pure12(unit);
        }
        ;
        throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var liftA1 = function(dictApplicative) {
    var apply4 = apply(dictApplicative.Apply0());
    var pure12 = pure(dictApplicative);
    return function(f) {
      return function(a) {
        return apply4(pure12(f))(a);
      };
    };
  };

  // output/Control.Bind/foreign.js
  var arrayBind = typeof Array.prototype.flatMap === "function" ? function(arr) {
    return function(f) {
      return arr.flatMap(f);
    };
  } : function(arr) {
    return function(f) {
      var result = [];
      var l = arr.length;
      for (var i = 0; i < l; i++) {
        var xs = f(arr[i]);
        var k = xs.length;
        for (var j = 0; j < k; j++) {
          result.push(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Bind/index.js
  var bindArray = {
    bind: arrayBind,
    Apply0: function() {
      return applyArray;
    }
  };
  var bind = function(dict) {
    return dict.bind;
  };
  var bindFlipped = function(dictBind) {
    return flip(bind(dictBind));
  };

  // output/Control.Lazy/index.js
  var defer = function(dict) {
    return dict.defer;
  };

  // output/Control.Monad/index.js
  var ap = function(dictMonad) {
    var bind4 = bind(dictMonad.Bind1());
    var pure5 = pure(dictMonad.Applicative0());
    return function(f) {
      return function(a) {
        return bind4(f)(function(f$prime) {
          return bind4(a)(function(a$prime) {
            return pure5(f$prime(a$prime));
          });
        });
      };
    };
  };

  // output/Data.Bounded/foreign.js
  var topChar = String.fromCharCode(65535);
  var bottomChar = String.fromCharCode(0);
  var topNumber = Number.POSITIVE_INFINITY;
  var bottomNumber = Number.NEGATIVE_INFINITY;

  // output/Data.Ord/foreign.js
  var unsafeCompareImpl = function(lt) {
    return function(eq3) {
      return function(gt) {
        return function(x) {
          return function(y) {
            return x < y ? lt : x === y ? eq3 : gt;
          };
        };
      };
    };
  };
  var ordIntImpl = unsafeCompareImpl;
  var ordStringImpl = unsafeCompareImpl;
  var ordCharImpl = unsafeCompareImpl;

  // output/Data.Eq/foreign.js
  var refEq = function(r1) {
    return function(r2) {
      return r1 === r2;
    };
  };
  var eqBooleanImpl = refEq;
  var eqIntImpl = refEq;
  var eqCharImpl = refEq;
  var eqStringImpl = refEq;

  // output/Data.Eq/index.js
  var eqString = {
    eq: eqStringImpl
  };
  var eqInt = {
    eq: eqIntImpl
  };
  var eqChar = {
    eq: eqCharImpl
  };
  var eqBoolean = {
    eq: eqBooleanImpl
  };
  var eq = function(dict) {
    return dict.eq;
  };
  var eq2 = /* @__PURE__ */ eq(eqBoolean);
  var notEq = function(dictEq) {
    var eq3 = eq(dictEq);
    return function(x) {
      return function(y) {
        return eq2(eq3(x)(y))(false);
      };
    };
  };

  // output/Data.Ordering/index.js
  var LT = /* @__PURE__ */ (function() {
    function LT2() {
    }
    ;
    LT2.value = new LT2();
    return LT2;
  })();
  var GT = /* @__PURE__ */ (function() {
    function GT2() {
    }
    ;
    GT2.value = new GT2();
    return GT2;
  })();
  var EQ = /* @__PURE__ */ (function() {
    function EQ2() {
    }
    ;
    EQ2.value = new EQ2();
    return EQ2;
  })();
  var eqOrdering = {
    eq: function(v) {
      return function(v1) {
        if (v instanceof LT && v1 instanceof LT) {
          return true;
        }
        ;
        if (v instanceof GT && v1 instanceof GT) {
          return true;
        }
        ;
        if (v instanceof EQ && v1 instanceof EQ) {
          return true;
        }
        ;
        return false;
      };
    }
  };

  // output/Data.Ring/foreign.js
  var intSub = function(x) {
    return function(y) {
      return x - y | 0;
    };
  };

  // output/Data.Semiring/foreign.js
  var intAdd = function(x) {
    return function(y) {
      return x + y | 0;
    };
  };
  var intMul = function(x) {
    return function(y) {
      return x * y | 0;
    };
  };

  // output/Data.Semiring/index.js
  var semiringInt = {
    add: intAdd,
    zero: 0,
    mul: intMul,
    one: 1
  };
  var add = function(dict) {
    return dict.add;
  };

  // output/Data.Ring/index.js
  var ringInt = {
    sub: intSub,
    Semiring0: function() {
      return semiringInt;
    }
  };

  // output/Data.Ord/index.js
  var ordString = /* @__PURE__ */ (function() {
    return {
      compare: ordStringImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqString;
      }
    };
  })();
  var ordInt = /* @__PURE__ */ (function() {
    return {
      compare: ordIntImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqInt;
      }
    };
  })();
  var ordChar = /* @__PURE__ */ (function() {
    return {
      compare: ordCharImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqChar;
      }
    };
  })();
  var compare = function(dict) {
    return dict.compare;
  };
  var comparing = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(f) {
      return function(x) {
        return function(y) {
          return compare3(f(x))(f(y));
        };
      };
    };
  };

  // output/Data.Bounded/index.js
  var top = function(dict) {
    return dict.top;
  };
  var boundedChar = {
    top: topChar,
    bottom: bottomChar,
    Ord0: function() {
      return ordChar;
    }
  };
  var bottom = function(dict) {
    return dict.bottom;
  };

  // output/Data.Show/foreign.js
  var showIntImpl = function(n) {
    return n.toString();
  };

  // output/Data.Show/index.js
  var showInt = {
    show: showIntImpl
  };
  var show = function(dict) {
    return dict.show;
  };

  // output/Data.Maybe/index.js
  var identity3 = /* @__PURE__ */ identity(categoryFn);
  var Nothing = /* @__PURE__ */ (function() {
    function Nothing2() {
    }
    ;
    Nothing2.value = new Nothing2();
    return Nothing2;
  })();
  var Just = /* @__PURE__ */ (function() {
    function Just2(value0) {
      this.value0 = value0;
    }
    ;
    Just2.create = function(value0) {
      return new Just2(value0);
    };
    return Just2;
  })();
  var maybe = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Nothing) {
          return v;
        }
        ;
        if (v2 instanceof Just) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };
  var isNothing = /* @__PURE__ */ maybe(true)(/* @__PURE__ */ $$const(false));
  var isJust = /* @__PURE__ */ maybe(false)(/* @__PURE__ */ $$const(true));
  var functorMaybe = {
    map: function(v) {
      return function(v1) {
        if (v1 instanceof Just) {
          return new Just(v(v1.value0));
        }
        ;
        return Nothing.value;
      };
    }
  };
  var map2 = /* @__PURE__ */ map(functorMaybe);
  var fromMaybe = function(a) {
    return maybe(a)(identity3);
  };
  var fromJust = function() {
    return function(v) {
      if (v instanceof Just) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): " + [v.constructor.name]);
    };
  };
  var eqMaybe = function(dictEq) {
    var eq3 = eq(dictEq);
    return {
      eq: function(x) {
        return function(y) {
          if (x instanceof Nothing && y instanceof Nothing) {
            return true;
          }
          ;
          if (x instanceof Just && y instanceof Just) {
            return eq3(x.value0)(y.value0);
          }
          ;
          return false;
        };
      }
    };
  };
  var applyMaybe = {
    apply: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return map2(v.value0)(v1);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Functor0: function() {
      return functorMaybe;
    }
  };
  var bindMaybe = {
    bind: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return v1(v.value0);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Apply0: function() {
      return applyMaybe;
    }
  };

  // output/Data.Either/index.js
  var Left = /* @__PURE__ */ (function() {
    function Left2(value0) {
      this.value0 = value0;
    }
    ;
    Left2.create = function(value0) {
      return new Left2(value0);
    };
    return Left2;
  })();
  var Right = /* @__PURE__ */ (function() {
    function Right2(value0) {
      this.value0 = value0;
    }
    ;
    Right2.create = function(value0) {
      return new Right2(value0);
    };
    return Right2;
  })();
  var either = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Left) {
          return v(v2.value0);
        }
        ;
        if (v2 instanceof Right) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };

  // output/Data.EuclideanRing/foreign.js
  var intDegree = function(x) {
    return Math.min(Math.abs(x), 2147483647);
  };
  var intDiv = function(x) {
    return function(y) {
      if (y === 0) return 0;
      return y > 0 ? Math.floor(x / y) : -Math.floor(x / -y);
    };
  };
  var intMod = function(x) {
    return function(y) {
      if (y === 0) return 0;
      var yy = Math.abs(y);
      return (x % yy + yy) % yy;
    };
  };

  // output/Data.CommutativeRing/index.js
  var commutativeRingInt = {
    Ring0: function() {
      return ringInt;
    }
  };

  // output/Data.EuclideanRing/index.js
  var mod = function(dict) {
    return dict.mod;
  };
  var euclideanRingInt = {
    degree: intDegree,
    div: intDiv,
    mod: intMod,
    CommutativeRing0: function() {
      return commutativeRingInt;
    }
  };
  var div = function(dict) {
    return dict.div;
  };

  // output/Data.Monoid/index.js
  var semigroupRecord2 = /* @__PURE__ */ semigroupRecord();
  var monoidString = {
    mempty: "",
    Semigroup0: function() {
      return semigroupString;
    }
  };
  var monoidRecordNil = {
    memptyRecord: function(v) {
      return {};
    },
    SemigroupRecord0: function() {
      return semigroupRecordNil;
    }
  };
  var memptyRecord = function(dict) {
    return dict.memptyRecord;
  };
  var monoidRecord = function() {
    return function(dictMonoidRecord) {
      var semigroupRecord1 = semigroupRecord2(dictMonoidRecord.SemigroupRecord0());
      return {
        mempty: memptyRecord(dictMonoidRecord)($$Proxy.value),
        Semigroup0: function() {
          return semigroupRecord1;
        }
      };
    };
  };
  var mempty = function(dict) {
    return dict.mempty;
  };
  var monoidRecordCons = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    var semigroupRecordCons2 = semigroupRecordCons(dictIsSymbol)();
    return function(dictMonoid) {
      var mempty1 = mempty(dictMonoid);
      var Semigroup0 = dictMonoid.Semigroup0();
      return function() {
        return function(dictMonoidRecord) {
          var memptyRecord1 = memptyRecord(dictMonoidRecord);
          var semigroupRecordCons1 = semigroupRecordCons2(dictMonoidRecord.SemigroupRecord0())(Semigroup0);
          return {
            memptyRecord: function(v) {
              var tail2 = memptyRecord1($$Proxy.value);
              var key = reflectSymbol2($$Proxy.value);
              var insert6 = unsafeSet(key);
              return insert6(mempty1)(tail2);
            },
            SemigroupRecord0: function() {
              return semigroupRecordCons1;
            }
          };
        };
      };
    };
  };

  // output/Effect/foreign.js
  var pureE = function(a) {
    return function() {
      return a;
    };
  };
  var bindE = function(a) {
    return function(f) {
      return function() {
        return f(a())();
      };
    };
  };

  // output/Effect/index.js
  var $runtime_lazy = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var monadEffect = {
    Applicative0: function() {
      return applicativeEffect;
    },
    Bind1: function() {
      return bindEffect;
    }
  };
  var bindEffect = {
    bind: bindE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var applicativeEffect = {
    pure: pureE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var $lazy_functorEffect = /* @__PURE__ */ $runtime_lazy("functorEffect", "Effect", function() {
    return {
      map: liftA1(applicativeEffect)
    };
  });
  var $lazy_applyEffect = /* @__PURE__ */ $runtime_lazy("applyEffect", "Effect", function() {
    return {
      apply: ap(monadEffect),
      Functor0: function() {
        return $lazy_functorEffect(0);
      }
    };
  });
  var functorEffect = /* @__PURE__ */ $lazy_functorEffect(20);

  // output/Control.Monad.ST.Internal/foreign.js
  var map_ = function(f) {
    return function(a) {
      return function() {
        return f(a());
      };
    };
  };
  var pure_ = function(a) {
    return function() {
      return a;
    };
  };
  var bind_ = function(a) {
    return function(f) {
      return function() {
        return f(a())();
      };
    };
  };
  var foreach = function(as) {
    return function(f) {
      return function() {
        for (var i = 0, l = as.length; i < l; i++) {
          f(as[i])();
        }
      };
    };
  };

  // output/Control.Monad.ST.Internal/index.js
  var $runtime_lazy2 = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var functorST = {
    map: map_
  };
  var monadST = {
    Applicative0: function() {
      return applicativeST;
    },
    Bind1: function() {
      return bindST;
    }
  };
  var bindST = {
    bind: bind_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var applicativeST = {
    pure: pure_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var $lazy_applyST = /* @__PURE__ */ $runtime_lazy2("applyST", "Control.Monad.ST.Internal", function() {
    return {
      apply: ap(monadST),
      Functor0: function() {
        return functorST;
      }
    };
  });

  // output/Data.Array.ST/foreign.js
  function newSTArray() {
    return [];
  }
  function unsafeFreezeThawImpl(xs) {
    return xs;
  }
  var unsafeFreezeImpl = unsafeFreezeThawImpl;
  var unsafeThawImpl = unsafeFreezeThawImpl;
  function copyImpl(xs) {
    return xs.slice();
  }
  var thawImpl = copyImpl;
  var pushImpl = function(a, xs) {
    return xs.push(a);
  };

  // output/Control.Monad.ST.Uncurried/foreign.js
  var runSTFn1 = function runSTFn12(fn) {
    return function(a) {
      return function() {
        return fn(a);
      };
    };
  };
  var runSTFn2 = function runSTFn22(fn) {
    return function(a) {
      return function(b) {
        return function() {
          return fn(a, b);
        };
      };
    };
  };

  // output/Data.Array.ST/index.js
  var unsafeThaw = /* @__PURE__ */ runSTFn1(unsafeThawImpl);
  var unsafeFreeze = /* @__PURE__ */ runSTFn1(unsafeFreezeImpl);
  var thaw = /* @__PURE__ */ runSTFn1(thawImpl);
  var withArray = function(f) {
    return function(xs) {
      return function __do2() {
        var result = thaw(xs)();
        f(result)();
        return unsafeFreeze(result)();
      };
    };
  };
  var push = /* @__PURE__ */ runSTFn2(pushImpl);

  // output/Data.Foldable/foreign.js
  var foldrArray = function(f) {
    return function(init2) {
      return function(xs) {
        var acc = init2;
        var len = xs.length;
        for (var i = len - 1; i >= 0; i--) {
          acc = f(xs[i])(acc);
        }
        return acc;
      };
    };
  };
  var foldlArray = function(f) {
    return function(init2) {
      return function(xs) {
        var acc = init2;
        var len = xs.length;
        for (var i = 0; i < len; i++) {
          acc = f(acc)(xs[i]);
        }
        return acc;
      };
    };
  };

  // output/Data.Tuple/index.js
  var Tuple = /* @__PURE__ */ (function() {
    function Tuple2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Tuple2.create = function(value0) {
      return function(value1) {
        return new Tuple2(value0, value1);
      };
    };
    return Tuple2;
  })();
  var uncurry = function(f) {
    return function(v) {
      return f(v.value0)(v.value1);
    };
  };
  var snd = function(v) {
    return v.value1;
  };
  var fst = function(v) {
    return v.value0;
  };

  // output/Unsafe.Coerce/foreign.js
  var unsafeCoerce2 = function(x) {
    return x;
  };

  // output/Safe.Coerce/index.js
  var coerce = function() {
    return unsafeCoerce2;
  };

  // output/Data.Newtype/index.js
  var coerce2 = /* @__PURE__ */ coerce();
  var unwrap = function() {
    return coerce2;
  };

  // output/Data.Foldable/index.js
  var identity4 = /* @__PURE__ */ identity(categoryFn);
  var foldr = function(dict) {
    return dict.foldr;
  };
  var traverse_ = function(dictApplicative) {
    var applySecond3 = applySecond(dictApplicative.Apply0());
    var pure5 = pure(dictApplicative);
    return function(dictFoldable) {
      var foldr2 = foldr(dictFoldable);
      return function(f) {
        return foldr2(function($454) {
          return applySecond3(f($454));
        })(pure5(unit));
      };
    };
  };
  var foldl = function(dict) {
    return dict.foldl;
  };
  var foldableMaybe = {
    foldr: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v2.value0)(v1);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldl: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v1)(v2.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      return function(v) {
        return function(v1) {
          if (v1 instanceof Nothing) {
            return mempty2;
          }
          ;
          if (v1 instanceof Just) {
            return v(v1.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name]);
        };
      };
    }
  };
  var foldMapDefaultR = function(dictFoldable) {
    var foldr2 = foldr(dictFoldable);
    return function(dictMonoid) {
      var append4 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldr2(function(x) {
          return function(acc) {
            return append4(f(x))(acc);
          };
        })(mempty2);
      };
    };
  };
  var foldableArray = {
    foldr: foldrArray,
    foldl: foldlArray,
    foldMap: function(dictMonoid) {
      return foldMapDefaultR(foldableArray)(dictMonoid);
    }
  };
  var foldMap = function(dict) {
    return dict.foldMap;
  };
  var fold = function(dictFoldable) {
    var foldMap2 = foldMap(dictFoldable);
    return function(dictMonoid) {
      return foldMap2(dictMonoid)(identity4);
    };
  };
  var find = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(p) {
      var go2 = function(v) {
        return function(v1) {
          if (v instanceof Nothing && p(v1)) {
            return new Just(v1);
          }
          ;
          return v;
        };
      };
      return foldl22(go2)(Nothing.value);
    };
  };

  // output/Data.Function.Uncurried/foreign.js
  var runFn2 = function(fn) {
    return function(a) {
      return function(b) {
        return fn(a, b);
      };
    };
  };
  var runFn3 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return fn(a, b, c);
        };
      };
    };
  };
  var runFn4 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return function(d) {
            return fn(a, b, c, d);
          };
        };
      };
    };
  };

  // output/Data.FunctorWithIndex/foreign.js
  var mapWithIndexArray = function(f) {
    return function(xs) {
      var l = xs.length;
      var result = Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(i)(xs[i]);
      }
      return result;
    };
  };

  // output/Data.FunctorWithIndex/index.js
  var mapWithIndex = function(dict) {
    return dict.mapWithIndex;
  };
  var functorWithIndexArray = {
    mapWithIndex: mapWithIndexArray,
    Functor0: function() {
      return functorArray;
    }
  };

  // output/Data.Traversable/foreign.js
  var traverseArrayImpl = /* @__PURE__ */ (function() {
    function array1(a) {
      return [a];
    }
    function array2(a) {
      return function(b) {
        return [a, b];
      };
    }
    function array3(a) {
      return function(b) {
        return function(c) {
          return [a, b, c];
        };
      };
    }
    function concat2(xs) {
      return function(ys) {
        return xs.concat(ys);
      };
    }
    return function(apply4) {
      return function(map11) {
        return function(pure5) {
          return function(f) {
            return function(array) {
              function go2(bot, top2) {
                switch (top2 - bot) {
                  case 0:
                    return pure5([]);
                  case 1:
                    return map11(array1)(f(array[bot]));
                  case 2:
                    return apply4(map11(array2)(f(array[bot])))(f(array[bot + 1]));
                  case 3:
                    return apply4(apply4(map11(array3)(f(array[bot])))(f(array[bot + 1])))(f(array[bot + 2]));
                  default:
                    var pivot = bot + Math.floor((top2 - bot) / 4) * 2;
                    return apply4(map11(concat2)(go2(bot, pivot)))(go2(pivot, top2));
                }
              }
              return go2(0, array.length);
            };
          };
        };
      };
    };
  })();

  // output/Data.Traversable/index.js
  var identity5 = /* @__PURE__ */ identity(categoryFn);
  var traverse = function(dict) {
    return dict.traverse;
  };
  var sequenceDefault = function(dictTraversable) {
    var traverse22 = traverse(dictTraversable);
    return function(dictApplicative) {
      return traverse22(dictApplicative)(identity5);
    };
  };
  var traversableArray = {
    traverse: function(dictApplicative) {
      var Apply0 = dictApplicative.Apply0();
      return traverseArrayImpl(apply(Apply0))(map(Apply0.Functor0()))(pure(dictApplicative));
    },
    sequence: function(dictApplicative) {
      return sequenceDefault(traversableArray)(dictApplicative);
    },
    Functor0: function() {
      return functorArray;
    },
    Foldable1: function() {
      return foldableArray;
    }
  };
  var sequence = function(dict) {
    return dict.sequence;
  };

  // output/Data.Unfoldable/foreign.js
  var unfoldrArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b) {
              var result = [];
              var value12 = b;
              while (true) {
                var maybe2 = f(value12);
                if (isNothing2(maybe2)) return result;
                var tuple = fromJust6(maybe2);
                result.push(fst2(tuple));
                value12 = snd2(tuple);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/foreign.js
  var unfoldr1ArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b) {
              var result = [];
              var value12 = b;
              while (true) {
                var tuple = f(value12);
                result.push(fst2(tuple));
                var maybe2 = snd2(tuple);
                if (isNothing2(maybe2)) return result;
                value12 = fromJust6(maybe2);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/index.js
  var fromJust2 = /* @__PURE__ */ fromJust();
  var unfoldable1Array = {
    unfoldr1: /* @__PURE__ */ unfoldr1ArrayImpl(isNothing)(fromJust2)(fst)(snd)
  };

  // output/Data.Unfoldable/index.js
  var fromJust3 = /* @__PURE__ */ fromJust();
  var unfoldr = function(dict) {
    return dict.unfoldr;
  };
  var unfoldableArray = {
    unfoldr: /* @__PURE__ */ unfoldrArrayImpl(isNothing)(fromJust3)(fst)(snd),
    Unfoldable10: function() {
      return unfoldable1Array;
    }
  };

  // output/Data.Array/index.js
  var $$void2 = /* @__PURE__ */ $$void(functorST);
  var map3 = /* @__PURE__ */ map(functorMaybe);
  var map1 = /* @__PURE__ */ map(functorArray);
  var map22 = /* @__PURE__ */ map(functorST);
  var fromJust4 = /* @__PURE__ */ fromJust();
  var when2 = /* @__PURE__ */ when(applicativeST);
  var notEq2 = /* @__PURE__ */ notEq(eqOrdering);
  var append2 = /* @__PURE__ */ append(semigroupArray);
  var unsafeIndex = function() {
    return runFn2(unsafeIndexImpl);
  };
  var unsafeIndex1 = /* @__PURE__ */ unsafeIndex();
  var uncons = /* @__PURE__ */ (function() {
    return runFn3(unconsImpl)($$const(Nothing.value))(function(x) {
      return function(xs) {
        return new Just({
          head: x,
          tail: xs
        });
      };
    });
  })();
  var sortBy = function(comp) {
    return runFn3(sortByImpl)(comp)(function(v) {
      if (v instanceof GT) {
        return 1;
      }
      ;
      if (v instanceof EQ) {
        return 0;
      }
      ;
      if (v instanceof LT) {
        return -1 | 0;
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): " + [v.constructor.name]);
    });
  };
  var sortWith = function(dictOrd) {
    var comparing2 = comparing(dictOrd);
    return function(f) {
      return sortBy(comparing2(f));
    };
  };
  var sortWith1 = /* @__PURE__ */ sortWith(ordInt);
  var snoc = function(xs) {
    return function(x) {
      return withArray(push(x))(xs)();
    };
  };
  var singleton2 = function(a) {
    return [a];
  };
  var $$null = function(xs) {
    return length(xs) === 0;
  };
  var mapWithIndex2 = /* @__PURE__ */ mapWithIndex(functorWithIndexArray);
  var index = /* @__PURE__ */ (function() {
    return runFn4(indexImpl)(Just.create)(Nothing.value);
  })();
  var last = function(xs) {
    return index(xs)(length(xs) - 1 | 0);
  };
  var head = function(xs) {
    return index(xs)(0);
  };
  var nubBy = function(comp) {
    return function(xs) {
      var indexedAndSorted = sortBy(function(x) {
        return function(y) {
          return comp(snd(x))(snd(y));
        };
      })(mapWithIndex2(Tuple.create)(xs));
      var v = head(indexedAndSorted);
      if (v instanceof Nothing) {
        return [];
      }
      ;
      if (v instanceof Just) {
        return map1(snd)(sortWith1(fst)((function __do2() {
          var result = unsafeThaw(singleton2(v.value0))();
          foreach(indexedAndSorted)(function(v1) {
            return function __do3() {
              var lst = map22(/* @__PURE__ */ (function() {
                var $183 = function($185) {
                  return fromJust4(last($185));
                };
                return function($184) {
                  return snd($183($184));
                };
              })())(unsafeFreeze(result))();
              return when2(notEq2(comp(lst)(v1.value1))(EQ.value))($$void2(push(v1)(result)))();
            };
          })();
          return unsafeFreeze(result)();
        })()));
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): " + [v.constructor.name]);
    };
  };
  var nub = function(dictOrd) {
    return nubBy(compare(dictOrd));
  };
  var foldl2 = /* @__PURE__ */ foldl(foldableArray);
  var foldM = function(dictMonad) {
    var pure12 = pure(dictMonad.Applicative0());
    var bind12 = bind(dictMonad.Bind1());
    return function(f) {
      return function(b) {
        return runFn3(unconsImpl)(function(v) {
          return pure12(b);
        })(function(a) {
          return function(as) {
            return bind12(f(b)(a))(function(b$prime) {
              return foldM(dictMonad)(f)(b$prime)(as);
            });
          };
        });
      };
    };
  };
  var findMap = /* @__PURE__ */ (function() {
    return runFn4(findMapImpl)(Nothing.value)(isJust);
  })();
  var findIndex = /* @__PURE__ */ (function() {
    return runFn4(findIndexImpl)(Just.create)(Nothing.value);
  })();
  var find2 = function(f) {
    return function(xs) {
      return map3(unsafeIndex1(xs))(findIndex(f)(xs));
    };
  };
  var filter = /* @__PURE__ */ runFn2(filterImpl);
  var cons = function(x) {
    return function(xs) {
      return append2([x])(xs);
    };
  };
  var concatMap = /* @__PURE__ */ flip(/* @__PURE__ */ bind(bindArray));
  var mapMaybe = function(f) {
    return concatMap((function() {
      var $189 = maybe([])(singleton2);
      return function($190) {
        return $189(f($190));
      };
    })());
  };
  var catMaybes = /* @__PURE__ */ mapMaybe(/* @__PURE__ */ identity(categoryFn));

  // output/Data.FoldableWithIndex/index.js
  var foldr8 = /* @__PURE__ */ foldr(foldableArray);
  var mapWithIndex3 = /* @__PURE__ */ mapWithIndex(functorWithIndexArray);
  var foldl8 = /* @__PURE__ */ foldl(foldableArray);
  var foldrWithIndex = function(dict) {
    return dict.foldrWithIndex;
  };
  var foldMapWithIndexDefaultR = function(dictFoldableWithIndex) {
    var foldrWithIndex1 = foldrWithIndex(dictFoldableWithIndex);
    return function(dictMonoid) {
      var append4 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldrWithIndex1(function(i) {
          return function(x) {
            return function(acc) {
              return append4(f(i)(x))(acc);
            };
          };
        })(mempty2);
      };
    };
  };
  var foldableWithIndexArray = {
    foldrWithIndex: function(f) {
      return function(z) {
        var $291 = foldr8(function(v) {
          return function(y) {
            return f(v.value0)(v.value1)(y);
          };
        })(z);
        var $292 = mapWithIndex3(Tuple.create);
        return function($293) {
          return $291($292($293));
        };
      };
    },
    foldlWithIndex: function(f) {
      return function(z) {
        var $294 = foldl8(function(y) {
          return function(v) {
            return f(v.value0)(y)(v.value1);
          };
        })(z);
        var $295 = mapWithIndex3(Tuple.create);
        return function($296) {
          return $294($295($296));
        };
      };
    },
    foldMapWithIndex: function(dictMonoid) {
      return foldMapWithIndexDefaultR(foldableWithIndexArray)(dictMonoid);
    },
    Foldable0: function() {
      return foldableArray;
    }
  };

  // output/Data.TraversableWithIndex/index.js
  var traverseWithIndexDefault = function(dictTraversableWithIndex) {
    var sequence2 = sequence(dictTraversableWithIndex.Traversable2());
    var mapWithIndex4 = mapWithIndex(dictTraversableWithIndex.FunctorWithIndex0());
    return function(dictApplicative) {
      var sequence12 = sequence2(dictApplicative);
      return function(f) {
        var $174 = mapWithIndex4(f);
        return function($175) {
          return sequence12($174($175));
        };
      };
    };
  };
  var traverseWithIndex = function(dict) {
    return dict.traverseWithIndex;
  };
  var traversableWithIndexArray = {
    traverseWithIndex: function(dictApplicative) {
      return traverseWithIndexDefault(traversableWithIndexArray)(dictApplicative);
    },
    FunctorWithIndex0: function() {
      return functorWithIndexArray;
    },
    FoldableWithIndex1: function() {
      return foldableWithIndexArray;
    },
    Traversable2: function() {
      return traversableArray;
    }
  };

  // output/Data.List.Types/index.js
  var Nil = /* @__PURE__ */ (function() {
    function Nil2() {
    }
    ;
    Nil2.value = new Nil2();
    return Nil2;
  })();
  var Cons = /* @__PURE__ */ (function() {
    function Cons2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Cons2.create = function(value0) {
      return function(value1) {
        return new Cons2(value0, value1);
      };
    };
    return Cons2;
  })();
  var foldableList = {
    foldr: function(f) {
      return function(b) {
        var rev3 = (function() {
          var go2 = function($copy_v) {
            return function($copy_v1) {
              var $tco_var_v = $copy_v;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v, v1) {
                if (v1 instanceof Nil) {
                  $tco_done = true;
                  return v;
                }
                ;
                if (v1 instanceof Cons) {
                  $tco_var_v = new Cons(v1.value0, v);
                  $copy_v1 = v1.value1;
                  return;
                }
                ;
                throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): " + [v.constructor.name, v1.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v, $copy_v1);
              }
              ;
              return $tco_result;
            };
          };
          return go2(Nil.value);
        })();
        var $284 = foldl(foldableList)(flip(f))(b);
        return function($285) {
          return $284(rev3($285));
        };
      };
    },
    foldl: function(f) {
      var go2 = function($copy_b) {
        return function($copy_v) {
          var $tco_var_b = $copy_b;
          var $tco_done1 = false;
          var $tco_result;
          function $tco_loop(b, v) {
            if (v instanceof Nil) {
              $tco_done1 = true;
              return b;
            }
            ;
            if (v instanceof Cons) {
              $tco_var_b = f(b)(v.value0);
              $copy_v = v.value1;
              return;
            }
            ;
            throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): " + [v.constructor.name]);
          }
          ;
          while (!$tco_done1) {
            $tco_result = $tco_loop($tco_var_b, $copy_v);
          }
          ;
          return $tco_result;
        };
      };
      return go2;
    },
    foldMap: function(dictMonoid) {
      var append22 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldl(foldableList)(function(acc) {
          var $286 = append22(acc);
          return function($287) {
            return $286(f($287));
          };
        })(mempty2);
      };
    }
  };

  // output/Data.Map.Internal/index.js
  var $runtime_lazy3 = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var Leaf = /* @__PURE__ */ (function() {
    function Leaf2() {
    }
    ;
    Leaf2.value = new Leaf2();
    return Leaf2;
  })();
  var Node = /* @__PURE__ */ (function() {
    function Node2(value0, value1, value22, value32, value42, value52) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
      this.value4 = value42;
      this.value5 = value52;
    }
    ;
    Node2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return function(value42) {
              return function(value52) {
                return new Node2(value0, value1, value22, value32, value42, value52);
              };
            };
          };
        };
      };
    };
    return Node2;
  })();
  var Split = /* @__PURE__ */ (function() {
    function Split2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    Split2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new Split2(value0, value1, value22);
        };
      };
    };
    return Split2;
  })();
  var SplitLast = /* @__PURE__ */ (function() {
    function SplitLast2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    SplitLast2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new SplitLast2(value0, value1, value22);
        };
      };
    };
    return SplitLast2;
  })();
  var unsafeNode = function(k, v, l, r) {
    if (l instanceof Leaf) {
      if (r instanceof Leaf) {
        return new Node(1, 1, k, v, l, r);
      }
      ;
      if (r instanceof Node) {
        return new Node(1 + r.value0 | 0, 1 + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): " + [r.constructor.name]);
    }
    ;
    if (l instanceof Node) {
      if (r instanceof Leaf) {
        return new Node(1 + l.value0 | 0, 1 + l.value1 | 0, k, v, l, r);
      }
      ;
      if (r instanceof Node) {
        return new Node(1 + (function() {
          var $280 = l.value0 > r.value0;
          if ($280) {
            return l.value0;
          }
          ;
          return r.value0;
        })() | 0, (1 + l.value1 | 0) + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): " + [r.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): " + [l.constructor.name]);
  };
  var singleton4 = function(k) {
    return function(v) {
      return new Node(1, 1, k, v, Leaf.value, Leaf.value);
    };
  };
  var unsafeBalancedNode = /* @__PURE__ */ (function() {
    var height8 = function(v) {
      if (v instanceof Leaf) {
        return 0;
      }
      ;
      if (v instanceof Node) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): " + [v.constructor.name]);
    };
    var rotateLeft = function(k, v, l, rk, rv, rl, rr) {
      if (rl instanceof Node && rl.value0 > height8(rr)) {
        return unsafeNode(rl.value2, rl.value3, unsafeNode(k, v, l, rl.value4), unsafeNode(rk, rv, rl.value5, rr));
      }
      ;
      return unsafeNode(rk, rv, unsafeNode(k, v, l, rl), rr);
    };
    var rotateRight = function(k, v, lk, lv, ll, lr, r) {
      if (lr instanceof Node && height8(ll) <= lr.value0) {
        return unsafeNode(lr.value2, lr.value3, unsafeNode(lk, lv, ll, lr.value4), unsafeNode(k, v, lr.value5, r));
      }
      ;
      return unsafeNode(lk, lv, ll, unsafeNode(k, v, lr, r));
    };
    return function(k, v, l, r) {
      if (l instanceof Leaf) {
        if (r instanceof Leaf) {
          return singleton4(k)(v);
        }
        ;
        if (r instanceof Node && r.value0 > 1) {
          return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      if (l instanceof Node) {
        if (r instanceof Node) {
          if (r.value0 > (l.value0 + 1 | 0)) {
            return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
          }
          ;
          if (l.value0 > (r.value0 + 1 | 0)) {
            return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
          }
          ;
        }
        ;
        if (r instanceof Leaf && l.value0 > 1) {
          return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): " + [l.constructor.name]);
    };
  })();
  var $lazy_unsafeSplit = /* @__PURE__ */ $runtime_lazy3("unsafeSplit", "Data.Map.Internal", function() {
    return function(comp, k, m) {
      if (m instanceof Leaf) {
        return new Split(Nothing.value, Leaf.value, Leaf.value);
      }
      ;
      if (m instanceof Node) {
        var v = comp(k)(m.value2);
        if (v instanceof LT) {
          var v1 = $lazy_unsafeSplit(793)(comp, k, m.value4);
          return new Split(v1.value0, v1.value1, unsafeBalancedNode(m.value2, m.value3, v1.value2, m.value5));
        }
        ;
        if (v instanceof GT) {
          var v1 = $lazy_unsafeSplit(796)(comp, k, m.value5);
          return new Split(v1.value0, unsafeBalancedNode(m.value2, m.value3, m.value4, v1.value1), v1.value2);
        }
        ;
        if (v instanceof EQ) {
          return new Split(new Just(m.value3), m.value4, m.value5);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): " + [v.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): " + [m.constructor.name]);
    };
  });
  var unsafeSplit = /* @__PURE__ */ $lazy_unsafeSplit(786);
  var $lazy_unsafeSplitLast = /* @__PURE__ */ $runtime_lazy3("unsafeSplitLast", "Data.Map.Internal", function() {
    return function(k, v, l, r) {
      if (r instanceof Leaf) {
        return new SplitLast(k, v, l);
      }
      ;
      if (r instanceof Node) {
        var v1 = $lazy_unsafeSplitLast(779)(r.value2, r.value3, r.value4, r.value5);
        return new SplitLast(v1.value0, v1.value1, unsafeBalancedNode(k, v, l, v1.value2));
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 776, column 37 - line 780, column 57): " + [r.constructor.name]);
    };
  });
  var unsafeSplitLast = /* @__PURE__ */ $lazy_unsafeSplitLast(775);
  var unsafeJoinNodes = function(v, v1) {
    if (v instanceof Leaf) {
      return v1;
    }
    ;
    if (v instanceof Node) {
      var v2 = unsafeSplitLast(v.value2, v.value3, v.value4, v.value5);
      return unsafeBalancedNode(v2.value0, v2.value1, v2.value2, v1);
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 764, column 25 - line 768, column 38): " + [v.constructor.name, v1.constructor.name]);
  };
  var $lazy_unsafeDifference = /* @__PURE__ */ $runtime_lazy3("unsafeDifference", "Data.Map.Internal", function() {
    return function(comp, l, r) {
      if (l instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Leaf) {
        return l;
      }
      ;
      if (r instanceof Node) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeDifference(841)(comp, v.value1, r.value4);
        var r$prime = $lazy_unsafeDifference(842)(comp, v.value2, r.value5);
        return unsafeJoinNodes(l$prime, r$prime);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 836, column 39 - line 843, column 33): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeDifference = /* @__PURE__ */ $lazy_unsafeDifference(835);
  var $lazy_unsafeIntersectionWith = /* @__PURE__ */ $runtime_lazy3("unsafeIntersectionWith", "Data.Map.Internal", function() {
    return function(comp, app, l, r) {
      if (l instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Leaf) {
        return Leaf.value;
      }
      ;
      if (r instanceof Node) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeIntersectionWith(825)(comp, app, v.value1, r.value4);
        var r$prime = $lazy_unsafeIntersectionWith(826)(comp, app, v.value2, r.value5);
        if (v.value0 instanceof Just) {
          return unsafeBalancedNode(r.value2, app(v.value0.value0)(r.value3), l$prime, r$prime);
        }
        ;
        if (v.value0 instanceof Nothing) {
          return unsafeJoinNodes(l$prime, r$prime);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 827, column 5 - line 831, column 37): " + [v.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 820, column 49 - line 831, column 37): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeIntersectionWith = /* @__PURE__ */ $lazy_unsafeIntersectionWith(819);
  var $lazy_unsafeUnionWith = /* @__PURE__ */ $runtime_lazy3("unsafeUnionWith", "Data.Map.Internal", function() {
    return function(comp, app, l, r) {
      if (l instanceof Leaf) {
        return r;
      }
      ;
      if (r instanceof Leaf) {
        return l;
      }
      ;
      if (r instanceof Node) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeUnionWith(809)(comp, app, v.value1, r.value4);
        var r$prime = $lazy_unsafeUnionWith(810)(comp, app, v.value2, r.value5);
        if (v.value0 instanceof Just) {
          return unsafeBalancedNode(r.value2, app(v.value0.value0)(r.value3), l$prime, r$prime);
        }
        ;
        if (v.value0 instanceof Nothing) {
          return unsafeBalancedNode(r.value2, r.value3, l$prime, r$prime);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): " + [v.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeUnionWith = /* @__PURE__ */ $lazy_unsafeUnionWith(803);
  var unionWith = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(app) {
      return function(m1) {
        return function(m2) {
          return unsafeUnionWith(compare3, app, m1, m2);
        };
      };
    };
  };
  var union = function(dictOrd) {
    return unionWith(dictOrd)($$const);
  };
  var member = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      var go2 = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return false;
          }
          ;
          if (v instanceof Node) {
            var v1 = compare3(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return true;
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go2;
    };
  };
  var lookup = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      var go2 = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return Nothing.value;
          }
          ;
          if (v instanceof Node) {
            var v1 = compare3(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return new Just(v.value3);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go2;
    };
  };
  var intersectionWith = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(app) {
      return function(m1) {
        return function(m2) {
          return unsafeIntersectionWith(compare3, app, m1, m2);
        };
      };
    };
  };
  var intersection = function(dictOrd) {
    return intersectionWith(dictOrd)($$const);
  };
  var insert = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      return function(v) {
        var go2 = function(v1) {
          if (v1 instanceof Leaf) {
            return singleton4(k)(v);
          }
          ;
          if (v1 instanceof Node) {
            var v2 = compare3(k)(v1.value2);
            if (v2 instanceof LT) {
              return unsafeBalancedNode(v1.value2, v1.value3, go2(v1.value4), v1.value5);
            }
            ;
            if (v2 instanceof GT) {
              return unsafeBalancedNode(v1.value2, v1.value3, v1.value4, go2(v1.value5));
            }
            ;
            if (v2 instanceof EQ) {
              return new Node(v1.value0, v1.value1, k, v, v1.value4, v1.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): " + [v2.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): " + [v1.constructor.name]);
        };
        return go2;
      };
    };
  };
  var foldableMap = {
    foldr: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(172)(m$prime.value4, f(m$prime.value3)($lazy_go(172)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(169);
        return function(m) {
          return go2(m, z);
        };
      };
    },
    foldl: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(178)(f($lazy_go(178)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(175);
        return function(m) {
          return go2(z, m);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append13 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go2 = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node) {
            return append13(go2(v.value4))(append13(f(v.value3))(go2(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): " + [v.constructor.name]);
        };
        return go2;
      };
    }
  };
  var foldableWithIndexMap = {
    foldrWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(192)(m$prime.value4, f(m$prime.value2)(m$prime.value3)($lazy_go(192)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(189);
        return function(m) {
          return go2(m, z);
        };
      };
    },
    foldlWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(198)(f(m$prime.value2)($lazy_go(198)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go2 = $lazy_go(195);
        return function(m) {
          return go2(z, m);
        };
      };
    },
    foldMapWithIndex: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append13 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go2 = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node) {
            return append13(go2(v.value4))(append13(f(v.value2)(v.value3))(go2(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): " + [v.constructor.name]);
        };
        return go2;
      };
    },
    Foldable0: function() {
      return foldableMap;
    }
  };
  var keys = /* @__PURE__ */ (function() {
    return foldrWithIndex(foldableWithIndexMap)(function(k) {
      return function(v) {
        return function(acc) {
          return new Cons(k, acc);
        };
      };
    })(Nil.value);
  })();
  var empty2 = /* @__PURE__ */ (function() {
    return Leaf.value;
  })();
  var fromFoldable = function(dictOrd) {
    var insert1 = insert(dictOrd);
    return function(dictFoldable) {
      return foldl(dictFoldable)(function(m) {
        return function(v) {
          return insert1(v.value0)(v.value1)(m);
        };
      })(empty2);
    };
  };
  var difference = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(m1) {
      return function(m2) {
        return unsafeDifference(compare3, m1, m2);
      };
    };
  };

  // output/Data.List/index.js
  var map4 = /* @__PURE__ */ map(functorMaybe);
  var uncons2 = function(v) {
    if (v instanceof Nil) {
      return Nothing.value;
    }
    ;
    if (v instanceof Cons) {
      return new Just({
        head: v.value0,
        tail: v.value1
      });
    }
    ;
    throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): " + [v.constructor.name]);
  };
  var toUnfoldable = function(dictUnfoldable) {
    return unfoldr(dictUnfoldable)(function(xs) {
      return map4(function(rec) {
        return new Tuple(rec.head, rec.tail);
      })(uncons2(xs));
    });
  };

  // output/Data.Set/index.js
  var coerce3 = /* @__PURE__ */ coerce();
  var union2 = function(dictOrd) {
    return coerce3(union(dictOrd));
  };
  var toList = function(v) {
    return keys(v);
  };
  var toUnfoldable2 = function(dictUnfoldable) {
    var $96 = toUnfoldable(dictUnfoldable);
    return function($97) {
      return $96(toList($97));
    };
  };
  var singleton5 = function(a) {
    return singleton4(a)(unit);
  };
  var member2 = function(dictOrd) {
    return coerce3(member(dictOrd));
  };
  var intersection2 = function(dictOrd) {
    return coerce3(intersection(dictOrd));
  };
  var insert2 = function(dictOrd) {
    var insert1 = insert(dictOrd);
    return function(a) {
      return function(v) {
        return insert1(a)(unit)(v);
      };
    };
  };
  var empty3 = empty2;
  var fromFoldable2 = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(dictOrd) {
      var insert1 = insert2(dictOrd);
      return foldl22(function(m) {
        return function(a) {
          return insert1(a)(m);
        };
      })(empty3);
    };
  };
  var difference2 = function(dictOrd) {
    return coerce3(difference(dictOrd));
  };

  // output/Data.String.CodePoints/foreign.js
  var hasArrayFrom = typeof Array.from === "function";
  var hasStringIterator = typeof Symbol !== "undefined" && Symbol != null && typeof Symbol.iterator !== "undefined" && typeof String.prototype[Symbol.iterator] === "function";
  var hasFromCodePoint = typeof String.prototype.fromCodePoint === "function";
  var hasCodePointAt = typeof String.prototype.codePointAt === "function";
  var _unsafeCodePointAt0 = function(fallback) {
    return hasCodePointAt ? function(str) {
      return str.codePointAt(0);
    } : fallback;
  };
  var _singleton = function(fallback) {
    return hasFromCodePoint ? String.fromCodePoint : fallback;
  };
  var _take = function(fallback) {
    return function(n) {
      if (hasStringIterator) {
        return function(str) {
          var accum = "";
          var iter = str[Symbol.iterator]();
          for (var i = 0; i < n; ++i) {
            var o = iter.next();
            if (o.done) return accum;
            accum += o.value;
          }
          return accum;
        };
      }
      return fallback(n);
    };
  };
  var _toCodePointArray = function(fallback) {
    return function(unsafeCodePointAt02) {
      if (hasArrayFrom) {
        return function(str) {
          return Array.from(str, unsafeCodePointAt02);
        };
      }
      return fallback;
    };
  };

  // output/Data.Enum/foreign.js
  function toCharCode(c) {
    return c.charCodeAt(0);
  }
  function fromCharCode(c) {
    return String.fromCharCode(c);
  }

  // output/Data.Enum/index.js
  var bottom1 = /* @__PURE__ */ bottom(boundedChar);
  var top1 = /* @__PURE__ */ top(boundedChar);
  var toEnum = function(dict) {
    return dict.toEnum;
  };
  var fromEnum = function(dict) {
    return dict.fromEnum;
  };
  var toEnumWithDefaults = function(dictBoundedEnum) {
    var toEnum1 = toEnum(dictBoundedEnum);
    var fromEnum1 = fromEnum(dictBoundedEnum);
    var bottom2 = bottom(dictBoundedEnum.Bounded0());
    return function(low2) {
      return function(high2) {
        return function(x) {
          var v = toEnum1(x);
          if (v instanceof Just) {
            return v.value0;
          }
          ;
          if (v instanceof Nothing) {
            var $140 = x < fromEnum1(bottom2);
            if ($140) {
              return low2;
            }
            ;
            return high2;
          }
          ;
          throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): " + [v.constructor.name]);
        };
      };
    };
  };
  var defaultSucc = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a) {
        return toEnum$prime(fromEnum$prime(a) + 1 | 0);
      };
    };
  };
  var defaultPred = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a) {
        return toEnum$prime(fromEnum$prime(a) - 1 | 0);
      };
    };
  };
  var charToEnum = function(v) {
    if (v >= toCharCode(bottom1) && v <= toCharCode(top1)) {
      return new Just(fromCharCode(v));
    }
    ;
    return Nothing.value;
  };
  var enumChar = {
    succ: /* @__PURE__ */ defaultSucc(charToEnum)(toCharCode),
    pred: /* @__PURE__ */ defaultPred(charToEnum)(toCharCode),
    Ord0: function() {
      return ordChar;
    }
  };
  var boundedEnumChar = /* @__PURE__ */ (function() {
    return {
      cardinality: toCharCode(top1) - toCharCode(bottom1) | 0,
      toEnum: charToEnum,
      fromEnum: toCharCode,
      Bounded0: function() {
        return boundedChar;
      },
      Enum1: function() {
        return enumChar;
      }
    };
  })();

  // output/Data.Int/foreign.js
  var toNumber = function(n) {
    return n;
  };
  var fromStringAsImpl = function(just) {
    return function(nothing) {
      return function(radix) {
        var digits;
        if (radix < 11) {
          digits = "[0-" + (radix - 1).toString() + "]";
        } else if (radix === 11) {
          digits = "[0-9a]";
        } else {
          digits = "[0-9a-" + String.fromCharCode(86 + radix) + "]";
        }
        var pattern2 = new RegExp("^[\\+\\-]?" + digits + "+$", "i");
        return function(s) {
          if (pattern2.test(s)) {
            var i = parseInt(s, radix);
            return (i | 0) === i ? just(i) : nothing;
          } else {
            return nothing;
          }
        };
      };
    };
  };

  // output/Data.Number/foreign.js
  var isFiniteImpl = isFinite;
  function fromStringImpl(str, isFinite2, just, nothing) {
    var num = parseFloat(str);
    if (isFinite2(num)) {
      return just(num);
    } else {
      return nothing;
    }
  }
  var cos = Math.cos;
  var pow = function(n) {
    return function(p) {
      return Math.pow(n, p);
    };
  };
  var sin = Math.sin;
  var sqrt = Math.sqrt;

  // output/Data.Number/index.js
  var pi = 3.141592653589793;
  var fromString = function(str) {
    return fromStringImpl(str, isFiniteImpl, Just.create, Nothing.value);
  };

  // output/Data.Int/index.js
  var hexadecimal = 16;
  var fromStringAs = /* @__PURE__ */ (function() {
    return fromStringAsImpl(Just.create)(Nothing.value);
  })();
  var fromString2 = /* @__PURE__ */ fromStringAs(10);

  // output/Data.String.CodeUnits/foreign.js
  var singleton6 = function(c) {
    return c;
  };
  var _charAt = function(just) {
    return function(nothing) {
      return function(i) {
        return function(s) {
          return i >= 0 && i < s.length ? just(s.charAt(i)) : nothing;
        };
      };
    };
  };
  var length2 = function(s) {
    return s.length;
  };
  var _indexOfStartingAt = function(just) {
    return function(nothing) {
      return function(x) {
        return function(startAt) {
          return function(s) {
            if (startAt < 0 || startAt > s.length) return nothing;
            var i = s.indexOf(x, startAt);
            return i === -1 ? nothing : just(i);
          };
        };
      };
    };
  };
  var take = function(n) {
    return function(s) {
      return s.substr(0, n);
    };
  };
  var drop = function(n) {
    return function(s) {
      return s.substring(n);
    };
  };

  // output/Data.String.Unsafe/foreign.js
  var charAt = function(i) {
    return function(s) {
      if (i >= 0 && i < s.length) return s.charAt(i);
      throw new Error("Data.String.Unsafe.charAt: Invalid index.");
    };
  };

  // output/Data.String.CodeUnits/index.js
  var indexOf$prime = /* @__PURE__ */ (function() {
    return _indexOfStartingAt(Just.create)(Nothing.value);
  })();
  var dropRight = function(i) {
    return function(s) {
      return take(length2(s) - i | 0)(s);
    };
  };
  var charAt2 = /* @__PURE__ */ (function() {
    return _charAt(Just.create)(Nothing.value);
  })();

  // output/Data.String.Common/foreign.js
  var replaceAll = function(s1) {
    return function(s2) {
      return function(s3) {
        return s3.replace(new RegExp(s1.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"), "g"), s2);
      };
    };
  };

  // output/Data.String.CodePoints/index.js
  var $runtime_lazy4 = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var fromEnum2 = /* @__PURE__ */ fromEnum(boundedEnumChar);
  var map5 = /* @__PURE__ */ map(functorMaybe);
  var unfoldr2 = /* @__PURE__ */ unfoldr(unfoldableArray);
  var div2 = /* @__PURE__ */ div(euclideanRingInt);
  var mod2 = /* @__PURE__ */ mod(euclideanRingInt);
  var compare2 = /* @__PURE__ */ compare(ordInt);
  var CodePoint = function(x) {
    return x;
  };
  var unsurrogate = function(lead) {
    return function(trail) {
      return (((lead - 55296 | 0) * 1024 | 0) + (trail - 56320 | 0) | 0) + 65536 | 0;
    };
  };
  var isTrail = function(cu) {
    return 56320 <= cu && cu <= 57343;
  };
  var isLead = function(cu) {
    return 55296 <= cu && cu <= 56319;
  };
  var uncons3 = function(s) {
    var v = length2(s);
    if (v === 0) {
      return Nothing.value;
    }
    ;
    if (v === 1) {
      return new Just({
        head: fromEnum2(charAt(0)(s)),
        tail: ""
      });
    }
    ;
    var cu1 = fromEnum2(charAt(1)(s));
    var cu0 = fromEnum2(charAt(0)(s));
    var $43 = isLead(cu0) && isTrail(cu1);
    if ($43) {
      return new Just({
        head: unsurrogate(cu0)(cu1),
        tail: drop(2)(s)
      });
    }
    ;
    return new Just({
      head: cu0,
      tail: drop(1)(s)
    });
  };
  var unconsButWithTuple = function(s) {
    return map5(function(v) {
      return new Tuple(v.head, v.tail);
    })(uncons3(s));
  };
  var toCodePointArrayFallback = function(s) {
    return unfoldr2(unconsButWithTuple)(s);
  };
  var unsafeCodePointAt0Fallback = function(s) {
    var cu0 = fromEnum2(charAt(0)(s));
    var $47 = isLead(cu0) && length2(s) > 1;
    if ($47) {
      var cu1 = fromEnum2(charAt(1)(s));
      var $48 = isTrail(cu1);
      if ($48) {
        return unsurrogate(cu0)(cu1);
      }
      ;
      return cu0;
    }
    ;
    return cu0;
  };
  var unsafeCodePointAt0 = /* @__PURE__ */ _unsafeCodePointAt0(unsafeCodePointAt0Fallback);
  var toCodePointArray = /* @__PURE__ */ _toCodePointArray(toCodePointArrayFallback)(unsafeCodePointAt0);
  var length3 = function($74) {
    return length(toCodePointArray($74));
  };
  var fromCharCode2 = /* @__PURE__ */ (function() {
    var $75 = toEnumWithDefaults(boundedEnumChar)(bottom(boundedChar))(top(boundedChar));
    return function($76) {
      return singleton6($75($76));
    };
  })();
  var singletonFallback = function(v) {
    if (v <= 65535) {
      return fromCharCode2(v);
    }
    ;
    var lead = div2(v - 65536 | 0)(1024) + 55296 | 0;
    var trail = mod2(v - 65536 | 0)(1024) + 56320 | 0;
    return fromCharCode2(lead) + fromCharCode2(trail);
  };
  var singleton7 = /* @__PURE__ */ _singleton(singletonFallback);
  var takeFallback = function(v) {
    return function(v1) {
      if (v < 1) {
        return "";
      }
      ;
      var v2 = uncons3(v1);
      if (v2 instanceof Just) {
        return singleton7(v2.value0.head) + takeFallback(v - 1 | 0)(v2.value0.tail);
      }
      ;
      return v1;
    };
  };
  var take2 = /* @__PURE__ */ _take(takeFallback);
  var eqCodePoint = {
    eq: function(x) {
      return function(y) {
        return x === y;
      };
    }
  };
  var ordCodePoint = {
    compare: function(x) {
      return function(y) {
        return compare2(x)(y);
      };
    },
    Eq0: function() {
      return eqCodePoint;
    }
  };
  var codePointFromChar = function($77) {
    return CodePoint(fromEnum2($77));
  };
  var boundedCodePoint = {
    bottom: 0,
    top: 1114111,
    Ord0: function() {
      return ordCodePoint;
    }
  };
  var boundedEnumCodePoint = /* @__PURE__ */ (function() {
    return {
      cardinality: 1114111 + 1 | 0,
      fromEnum: function(v) {
        return v;
      },
      toEnum: function(n) {
        if (n >= 0 && n <= 1114111) {
          return new Just(n);
        }
        ;
        if (otherwise) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): " + [n.constructor.name]);
      },
      Bounded0: function() {
        return boundedCodePoint;
      },
      Enum1: function() {
        return $lazy_enumCodePoint(0);
      }
    };
  })();
  var $lazy_enumCodePoint = /* @__PURE__ */ $runtime_lazy4("enumCodePoint", "Data.String.CodePoints", function() {
    return {
      succ: defaultSucc(toEnum(boundedEnumCodePoint))(fromEnum(boundedEnumCodePoint)),
      pred: defaultPred(toEnum(boundedEnumCodePoint))(fromEnum(boundedEnumCodePoint)),
      Ord0: function() {
        return ordCodePoint;
      }
    };
  });

  // output/Hylograph.Internal.Behavior.Types/index.js
  var OnHover = /* @__PURE__ */ (function() {
    function OnHover2() {
    }
    ;
    OnHover2.value = new OnHover2();
    return OnHover2;
  })();
  var WhenPrimary = /* @__PURE__ */ (function() {
    function WhenPrimary2() {
    }
    ;
    WhenPrimary2.value = new WhenPrimary2();
    return WhenPrimary2;
  })();
  var WhenRelated = /* @__PURE__ */ (function() {
    function WhenRelated2() {
    }
    ;
    WhenRelated2.value = new WhenRelated2();
    return WhenRelated2;
  })();
  var Primary = /* @__PURE__ */ (function() {
    function Primary3() {
    }
    ;
    Primary3.value = new Primary3();
    return Primary3;
  })();
  var Related = /* @__PURE__ */ (function() {
    function Related3() {
    }
    ;
    Related3.value = new Related3();
    return Related3;
  })();
  var Upstream = /* @__PURE__ */ (function() {
    function Upstream2() {
    }
    ;
    Upstream2.value = new Upstream2();
    return Upstream2;
  })();
  var Downstream = /* @__PURE__ */ (function() {
    function Downstream2() {
    }
    ;
    Downstream2.value = new Downstream2();
    return Downstream2;
  })();
  var Dimmed = /* @__PURE__ */ (function() {
    function Dimmed3() {
    }
    ;
    Dimmed3.value = new Dimmed3();
    return Dimmed3;
  })();
  var Neutral = /* @__PURE__ */ (function() {
    function Neutral3() {
    }
    ;
    Neutral3.value = new Neutral3();
    return Neutral3;
  })();
  var SimpleDrag = /* @__PURE__ */ (function() {
    function SimpleDrag2() {
    }
    ;
    SimpleDrag2.value = new SimpleDrag2();
    return SimpleDrag2;
  })();
  var SimulationDrag = /* @__PURE__ */ (function() {
    function SimulationDrag2(value0) {
      this.value0 = value0;
    }
    ;
    SimulationDrag2.create = function(value0) {
      return new SimulationDrag2(value0);
    };
    return SimulationDrag2;
  })();
  var SimulationDragNested = /* @__PURE__ */ (function() {
    function SimulationDragNested2(value0) {
      this.value0 = value0;
    }
    ;
    SimulationDragNested2.create = function(value0) {
      return new SimulationDragNested2(value0);
    };
    return SimulationDragNested2;
  })();

  // output/Hylograph.Internal.Element.Types/index.js
  var SVGContext = /* @__PURE__ */ (function() {
    function SVGContext2() {
    }
    ;
    SVGContext2.value = new SVGContext2();
    return SVGContext2;
  })();
  var HTMLContext = /* @__PURE__ */ (function() {
    function HTMLContext2() {
    }
    ;
    HTMLContext2.value = new HTMLContext2();
    return HTMLContext2;
  })();
  var Circle = /* @__PURE__ */ (function() {
    function Circle3() {
    }
    ;
    Circle3.value = new Circle3();
    return Circle3;
  })();
  var Rect = /* @__PURE__ */ (function() {
    function Rect2() {
    }
    ;
    Rect2.value = new Rect2();
    return Rect2;
  })();
  var Path = /* @__PURE__ */ (function() {
    function Path2() {
    }
    ;
    Path2.value = new Path2();
    return Path2;
  })();
  var Line = /* @__PURE__ */ (function() {
    function Line3() {
    }
    ;
    Line3.value = new Line3();
    return Line3;
  })();
  var Polygon = /* @__PURE__ */ (function() {
    function Polygon2() {
    }
    ;
    Polygon2.value = new Polygon2();
    return Polygon2;
  })();
  var Text = /* @__PURE__ */ (function() {
    function Text2() {
    }
    ;
    Text2.value = new Text2();
    return Text2;
  })();
  var Group = /* @__PURE__ */ (function() {
    function Group2() {
    }
    ;
    Group2.value = new Group2();
    return Group2;
  })();
  var SVG = /* @__PURE__ */ (function() {
    function SVG2() {
    }
    ;
    SVG2.value = new SVG2();
    return SVG2;
  })();
  var Defs = /* @__PURE__ */ (function() {
    function Defs2() {
    }
    ;
    Defs2.value = new Defs2();
    return Defs2;
  })();
  var LinearGradient = /* @__PURE__ */ (function() {
    function LinearGradient2() {
    }
    ;
    LinearGradient2.value = new LinearGradient2();
    return LinearGradient2;
  })();
  var Stop = /* @__PURE__ */ (function() {
    function Stop2() {
    }
    ;
    Stop2.value = new Stop2();
    return Stop2;
  })();
  var PatternFill = /* @__PURE__ */ (function() {
    function PatternFill2() {
    }
    ;
    PatternFill2.value = new PatternFill2();
    return PatternFill2;
  })();
  var Div = /* @__PURE__ */ (function() {
    function Div2() {
    }
    ;
    Div2.value = new Div2();
    return Div2;
  })();
  var Span = /* @__PURE__ */ (function() {
    function Span2() {
    }
    ;
    Span2.value = new Span2();
    return Span2;
  })();
  var Table = /* @__PURE__ */ (function() {
    function Table2() {
    }
    ;
    Table2.value = new Table2();
    return Table2;
  })();
  var Tr = /* @__PURE__ */ (function() {
    function Tr2() {
    }
    ;
    Tr2.value = new Tr2();
    return Tr2;
  })();
  var Td = /* @__PURE__ */ (function() {
    function Td2() {
    }
    ;
    Td2.value = new Td2();
    return Td2;
  })();
  var Th = /* @__PURE__ */ (function() {
    function Th2() {
    }
    ;
    Th2.value = new Th2();
    return Th2;
  })();
  var Tbody = /* @__PURE__ */ (function() {
    function Tbody2() {
    }
    ;
    Tbody2.value = new Tbody2();
    return Tbody2;
  })();
  var Thead = /* @__PURE__ */ (function() {
    function Thead2() {
    }
    ;
    Thead2.value = new Thead2();
    return Thead2;
  })();
  var Code = /* @__PURE__ */ (function() {
    function Code2() {
    }
    ;
    Code2.value = new Code2();
    return Code2;
  })();
  var Var = /* @__PURE__ */ (function() {
    function Var2() {
    }
    ;
    Var2.value = new Var2();
    return Var2;
  })();
  var Dfn = /* @__PURE__ */ (function() {
    function Dfn2() {
    }
    ;
    Dfn2.value = new Dfn2();
    return Dfn2;
  })();
  var Dl = /* @__PURE__ */ (function() {
    function Dl2() {
    }
    ;
    Dl2.value = new Dl2();
    return Dl2;
  })();
  var Dt = /* @__PURE__ */ (function() {
    function Dt2() {
    }
    ;
    Dt2.value = new Dt2();
    return Dt2;
  })();
  var Dd = /* @__PURE__ */ (function() {
    function Dd2() {
    }
    ;
    Dd2.value = new Dd2();
    return Dd2;
  })();
  var Ol = /* @__PURE__ */ (function() {
    function Ol2() {
    }
    ;
    Ol2.value = new Ol2();
    return Ol2;
  })();
  var Ul = /* @__PURE__ */ (function() {
    function Ul2() {
    }
    ;
    Ul2.value = new Ul2();
    return Ul2;
  })();
  var Li = /* @__PURE__ */ (function() {
    function Li2() {
    }
    ;
    Li2.value = new Li2();
    return Li2;
  })();
  var Small = /* @__PURE__ */ (function() {
    function Small2() {
    }
    ;
    Small2.value = new Small2();
    return Small2;
  })();
  var Em = /* @__PURE__ */ (function() {
    function Em2() {
    }
    ;
    Em2.value = new Em2();
    return Em2;
  })();
  var Strong = /* @__PURE__ */ (function() {
    function Strong2() {
    }
    ;
    Strong2.value = new Strong2();
    return Strong2;
  })();
  var Anchor = /* @__PURE__ */ (function() {
    function Anchor2() {
    }
    ;
    Anchor2.value = new Anchor2();
    return Anchor2;
  })();
  var P = /* @__PURE__ */ (function() {
    function P2() {
    }
    ;
    P2.value = new P2();
    return P2;
  })();
  var Pre = /* @__PURE__ */ (function() {
    function Pre2() {
    }
    ;
    Pre2.value = new Pre2();
    return Pre2;
  })();
  var Section = /* @__PURE__ */ (function() {
    function Section2() {
    }
    ;
    Section2.value = new Section2();
    return Section2;
  })();
  var Mark = /* @__PURE__ */ (function() {
    function Mark2() {
    }
    ;
    Mark2.value = new Mark2();
    return Mark2;
  })();
  var Abbr = /* @__PURE__ */ (function() {
    function Abbr2() {
    }
    ;
    Abbr2.value = new Abbr2();
    return Abbr2;
  })();
  var elementContext = function(v) {
    if (v instanceof Circle) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Rect) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Path) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Line) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Polygon) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Text) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Group) {
      return SVGContext.value;
    }
    ;
    if (v instanceof SVG) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Defs) {
      return SVGContext.value;
    }
    ;
    if (v instanceof LinearGradient) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Stop) {
      return SVGContext.value;
    }
    ;
    if (v instanceof PatternFill) {
      return SVGContext.value;
    }
    ;
    if (v instanceof Div) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Span) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Table) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Tr) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Td) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Th) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Tbody) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Thead) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Code) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Var) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Dfn) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Dl) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Dt) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Dd) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Ol) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Ul) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Li) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Small) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Em) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Strong) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Anchor) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof P) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Pre) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Section) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Mark) {
      return HTMLContext.value;
    }
    ;
    if (v instanceof Abbr) {
      return HTMLContext.value;
    }
    ;
    throw new Error("Failed pattern match at Hylograph.Internal.Element.Types (line 82, column 1 - line 82, column 47): " + [v.constructor.name]);
  };

  // output/Hylograph.HATS/index.js
  var DepthFirst = /* @__PURE__ */ (function() {
    function DepthFirst2() {
    }
    ;
    DepthFirst2.value = new DepthFirst2();
    return DepthFirst2;
  })();
  var BreadthFirst = /* @__PURE__ */ (function() {
    function BreadthFirst2() {
    }
    ;
    BreadthFirst2.value = new BreadthFirst2();
    return BreadthFirst2;
  })();
  var ThunkedMouseEnter = /* @__PURE__ */ (function() {
    function ThunkedMouseEnter2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedMouseEnter2.create = function(value0) {
      return new ThunkedMouseEnter2(value0);
    };
    return ThunkedMouseEnter2;
  })();
  var ThunkedMouseLeave = /* @__PURE__ */ (function() {
    function ThunkedMouseLeave2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedMouseLeave2.create = function(value0) {
      return new ThunkedMouseLeave2(value0);
    };
    return ThunkedMouseLeave2;
  })();
  var ThunkedClick = /* @__PURE__ */ (function() {
    function ThunkedClick2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedClick2.create = function(value0) {
      return new ThunkedClick2(value0);
    };
    return ThunkedClick2;
  })();
  var ThunkedClickWithModifier = /* @__PURE__ */ (function() {
    function ThunkedClickWithModifier2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ThunkedClickWithModifier2.create = function(value0) {
      return function(value1) {
        return new ThunkedClickWithModifier2(value0, value1);
      };
    };
    return ThunkedClickWithModifier2;
  })();
  var ThunkedDrag = /* @__PURE__ */ (function() {
    function ThunkedDrag2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedDrag2.create = function(value0) {
      return new ThunkedDrag2(value0);
    };
    return ThunkedDrag2;
  })();
  var ThunkedZoom = /* @__PURE__ */ (function() {
    function ThunkedZoom2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedZoom2.create = function(value0) {
      return new ThunkedZoom2(value0);
    };
    return ThunkedZoom2;
  })();
  var ThunkedCoordinatedHighlight = /* @__PURE__ */ (function() {
    function ThunkedCoordinatedHighlight2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedCoordinatedHighlight2.create = function(value0) {
      return new ThunkedCoordinatedHighlight2(value0);
    };
    return ThunkedCoordinatedHighlight2;
  })();
  var ThunkedCoordinatedInteraction = /* @__PURE__ */ (function() {
    function ThunkedCoordinatedInteraction2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedCoordinatedInteraction2.create = function(value0) {
      return new ThunkedCoordinatedInteraction2(value0);
    };
    return ThunkedCoordinatedInteraction2;
  })();
  var ThunkedBrush = /* @__PURE__ */ (function() {
    function ThunkedBrush2(value0) {
      this.value0 = value0;
    }
    ;
    ThunkedBrush2.create = function(value0) {
      return new ThunkedBrush2(value0);
    };
    return ThunkedBrush2;
  })();
  var FromArray = /* @__PURE__ */ (function() {
    function FromArray2(value0) {
      this.value0 = value0;
    }
    ;
    FromArray2.create = function(value0) {
      return new FromArray2(value0);
    };
    return FromArray2;
  })();
  var FromTree = /* @__PURE__ */ (function() {
    function FromTree2(value0) {
      this.value0 = value0;
    }
    ;
    FromTree2.create = function(value0) {
      return new FromTree2(value0);
    };
    return FromTree2;
  })();
  var WithContext = /* @__PURE__ */ (function() {
    function WithContext2(value0) {
      this.value0 = value0;
    }
    ;
    WithContext2.create = function(value0) {
      return new WithContext2(value0);
    };
    return WithContext2;
  })();
  var StaticAttr = /* @__PURE__ */ (function() {
    function StaticAttr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    StaticAttr2.create = function(value0) {
      return function(value1) {
        return new StaticAttr2(value0, value1);
      };
    };
    return StaticAttr2;
  })();
  var ThunkedAttr = /* @__PURE__ */ (function() {
    function ThunkedAttr2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ThunkedAttr2.create = function(value0) {
      return function(value1) {
        return new ThunkedAttr2(value0, value1);
      };
    };
    return ThunkedAttr2;
  })();
  var Elem = /* @__PURE__ */ (function() {
    function Elem2(value0) {
      this.value0 = value0;
    }
    ;
    Elem2.create = function(value0) {
      return new Elem2(value0);
    };
    return Elem2;
  })();
  var MkFold = /* @__PURE__ */ (function() {
    function MkFold2(value0) {
      this.value0 = value0;
    }
    ;
    MkFold2.create = function(value0) {
      return new MkFold2(value0);
    };
    return MkFold2;
  })();
  var Empty = /* @__PURE__ */ (function() {
    function Empty3() {
    }
    ;
    Empty3.value = new Empty3();
    return Empty3;
  })();
  var staticStr = function(name14) {
    return function(value12) {
      return new StaticAttr(name14, value12);
    };
  };
  var runSomeFold = function(v) {
    return function(k) {
      return v(k);
    };
  };
  var elem2 = function(elemType) {
    return function(attrs) {
      return function(children2) {
        return new Elem({
          elemType,
          attrs,
          children: children2,
          behaviors: []
        });
      };
    };
  };

  // output/Hylograph.Interaction.Pointer/foreign.js
  function attachSimpleDrag_(element) {
    return () => () => {
      let isDragging = false;
      let transform = { x: 0, y: 0 };
      function handlePointerDown(event) {
        if (event.button !== 0) return;
        isDragging = true;
        element.setPointerCapture(event.pointerId);
        event.preventDefault();
        event.stopPropagation();
        if (element.parentNode) {
          element.parentNode.appendChild(element);
        }
        element.style.cursor = "grabbing";
      }
      function handlePointerMove(event) {
        if (!isDragging) return;
        const svg = element.ownerSVGElement;
        if (svg) {
          const pt = svg.createSVGPoint();
          const ctm = svg.getScreenCTM();
          if (ctm) {
            pt.x = event.movementX;
            pt.y = event.movementY;
            const scale = ctm.a;
            transform.x += event.movementX / scale;
            transform.y += event.movementY / scale;
          } else {
            transform.x += event.movementX;
            transform.y += event.movementY;
          }
        } else {
          transform.x += event.movementX;
          transform.y += event.movementY;
        }
        element.setAttribute("transform", `translate(${transform.x},${transform.y})`);
      }
      function handlePointerUp(event) {
        if (!isDragging) return;
        isDragging = false;
        element.releasePointerCapture(event.pointerId);
        element.style.cursor = "grab";
      }
      function handlePointerCancel(event) {
        if (!isDragging) return;
        isDragging = false;
        element.releasePointerCapture(event.pointerId);
        element.style.cursor = "grab";
      }
      function handleDragStart(event) {
        event.preventDefault();
      }
      element.addEventListener("pointerdown", handlePointerDown);
      element.addEventListener("pointermove", handlePointerMove);
      element.addEventListener("pointerup", handlePointerUp);
      element.addEventListener("pointercancel", handlePointerCancel);
      element.addEventListener("dragstart", handleDragStart);
      element.style.cursor = "grab";
      element.style.touchAction = "none";
      return element;
    };
  }
  var simulationRegistry = /* @__PURE__ */ new Map();
  function getSimulationReheat(simId) {
    const sim = simulationRegistry.get(simId);
    return sim ? sim.reheat : null;
  }
  function attachSimulationDragById_(element) {
    return (simId) => () => {
      let isDragging = false;
      function handlePointerDown(event) {
        if (event.button !== 0) return;
        isDragging = true;
        element.setPointerCapture(event.pointerId);
        event.preventDefault();
        const node = element.__data__;
        if (!node) {
          console.warn("[PointerDrag] No datum on element");
          return;
        }
        const reheat = getSimulationReheat(simId);
        if (reheat) {
          reheat();
        } else {
          console.warn(`[PointerDrag] No simulation registered with ID: ${simId}`);
        }
        node.fx = node.x;
        node.fy = node.y;
        element.style.cursor = "grabbing";
      }
      function handlePointerMove(event) {
        if (!isDragging) return;
        const node = element.__data__;
        if (!node) return;
        const svg = element.ownerSVGElement;
        if (svg) {
          const pt = svg.createSVGPoint();
          pt.x = event.clientX;
          pt.y = event.clientY;
          const parentGroup = element.parentElement;
          const ctm = parentGroup?.getScreenCTM?.() || svg.getScreenCTM();
          if (ctm) {
            const svgPt = pt.matrixTransform(ctm.inverse());
            node.fx = svgPt.x;
            node.fy = svgPt.y;
          }
        } else {
          node.fx = event.clientX;
          node.fy = event.clientY;
        }
      }
      function handlePointerUp(event) {
        if (!isDragging) return;
        isDragging = false;
        element.releasePointerCapture(event.pointerId);
        const node = element.__data__;
        if (node) {
          node.fx = null;
          node.fy = null;
        }
        element.style.cursor = "grab";
      }
      function handleDragStart(event) {
        event.preventDefault();
      }
      element.addEventListener("pointerdown", handlePointerDown);
      element.addEventListener("pointermove", handlePointerMove);
      element.addEventListener("pointerup", handlePointerUp);
      element.addEventListener("pointercancel", handlePointerUp);
      element.addEventListener("dragstart", handleDragStart);
      element.style.cursor = "grab";
      element.style.touchAction = "none";
      return element;
    };
  }
  function attachSimulationDragNestedById_(element) {
    return (simId) => () => {
      let isDragging = false;
      function handlePointerDown(event) {
        if (event.button !== 0) return;
        isDragging = true;
        element.setPointerCapture(event.pointerId);
        event.preventDefault();
        const datum = element.__data__;
        const node = datum?.node;
        if (!node) {
          console.warn("[PointerDragNested] No datum.node on element");
          return;
        }
        const reheat = getSimulationReheat(simId);
        if (reheat) {
          reheat();
        } else {
          console.warn(`[PointerDragNested] No simulation registered with ID: ${simId}`);
        }
        node.fx = node.x;
        node.fy = node.y;
        element.style.cursor = "grabbing";
      }
      function handlePointerMove(event) {
        if (!isDragging) return;
        const datum = element.__data__;
        const node = datum?.node;
        if (!node) return;
        const svg = element.ownerSVGElement;
        if (svg) {
          const pt = svg.createSVGPoint();
          pt.x = event.clientX;
          pt.y = event.clientY;
          const parentGroup = element.parentElement;
          const ctm = parentGroup?.getScreenCTM?.() || svg.getScreenCTM();
          if (ctm) {
            const svgPt = pt.matrixTransform(ctm.inverse());
            node.fx = svgPt.x;
            node.fy = svgPt.y;
          }
        } else {
          node.fx = event.clientX;
          node.fy = event.clientY;
        }
      }
      function handlePointerUp(event) {
        if (!isDragging) return;
        isDragging = false;
        element.releasePointerCapture(event.pointerId);
        const datum = element.__data__;
        const node = datum?.node;
        if (node) {
          node.fx = null;
          node.fy = null;
        }
        element.style.cursor = "grab";
      }
      function handleDragStart(event) {
        event.preventDefault();
      }
      element.addEventListener("pointerdown", handlePointerDown);
      element.addEventListener("pointermove", handlePointerMove);
      element.addEventListener("pointerup", handlePointerUp);
      element.addEventListener("pointercancel", handlePointerUp);
      element.addEventListener("dragstart", handleDragStart);
      element.style.cursor = "grab";
      element.style.touchAction = "none";
      return element;
    };
  }

  // output/Hylograph.Interaction.Zoom/foreign.js
  var ZoomTransform = class _ZoomTransform {
    constructor(k, x, y) {
      this.k = k;
      this.x = x;
      this.y = y;
    }
    /**
     * Returns a new transform scaled by k
     */
    scale(k) {
      return k === 1 ? this : new _ZoomTransform(this.k * k, this.x, this.y);
    }
    /**
     * Returns a new transform translated by (x, y) in local coordinates
     */
    translate(x, y) {
      return x === 0 && y === 0 ? this : new _ZoomTransform(this.k, this.x + this.k * x, this.y + this.k * y);
    }
    /**
     * Apply transform to a point [x, y] -> [x', y']
     */
    apply(point) {
      return [point[0] * this.k + this.x, point[1] * this.k + this.y];
    }
    /**
     * Apply inverse transform to get original coordinates
     */
    applyX(x) {
      return x * this.k + this.x;
    }
    applyY(y) {
      return y * this.k + this.y;
    }
    /**
     * Invert: given transformed point, return original point
     */
    invert(point) {
      return [(point[0] - this.x) / this.k, (point[1] - this.y) / this.k];
    }
    invertX(x) {
      return (x - this.x) / this.k;
    }
    invertY(y) {
      return (y - this.y) / this.k;
    }
    /**
     * Rescale a scale's domain according to this transform
     */
    rescaleX(x) {
      return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));
    }
    rescaleY(y) {
      return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));
    }
    toString() {
      return `translate(${this.x},${this.y}) scale(${this.k})`;
    }
  };
  var identity6 = new ZoomTransform(1, 0, 0);
  function constrain(transform, extent, translateExtent) {
    const dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0];
    const dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0];
    const dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1];
    const dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];
    let x = transform.x;
    let y = transform.y;
    if (dx1 > dx0) {
      x += (dx0 + dx1) / 2 * transform.k;
    } else if (dx0 < 0) {
      x -= dx0 * transform.k;
    } else if (dx1 > 0) {
      x -= dx1 * transform.k;
    }
    if (dy1 > dy0) {
      y += (dy0 + dy1) / 2 * transform.k;
    } else if (dy0 < 0) {
      y -= dy0 * transform.k;
    } else if (dy1 > 0) {
      y -= dy1 * transform.k;
    }
    return x === transform.x && y === transform.y ? transform : new ZoomTransform(transform.k, x, y);
  }
  function zoomAround(transform, point, newK) {
    const p = transform.invert(point);
    const t = transform.scale(newK / transform.k);
    return new ZoomTransform(
      t.k,
      point[0] - p[0] * t.k,
      point[1] - p[1] * t.k
    );
  }
  function attachNativeZoom_(element) {
    return (config) => () => {
      const scaleMin = config.scaleMin || 0.1;
      const scaleMax = config.scaleMax || 10;
      const targetSelector = config.targetSelector;
      let transform = config.initialTransform ? new ZoomTransform(
        config.initialTransform.k,
        config.initialTransform.x,
        config.initialTransform.y
      ) : identity6;
      let extent = null;
      function getExtent() {
        if (!extent) {
          const rect = element.getBoundingClientRect();
          extent = [[0, 0], [rect.width, rect.height]];
        }
        return extent;
      }
      function toSVGCoords(clientX2, clientY2) {
        const svg = element.ownerSVGElement || element;
        if (svg.createSVGPoint) {
          const pt = svg.createSVGPoint();
          pt.x = clientX2;
          pt.y = clientY2;
          const ctm = svg.getScreenCTM();
          if (ctm) {
            const inv = ctm.inverse();
            const svgPt = pt.matrixTransform(inv);
            return [svgPt.x, svgPt.y];
          }
        }
        const rect = element.getBoundingClientRect();
        return [clientX2 - rect.left, clientY2 - rect.top];
      }
      function toSVGDelta(screenDx, screenDy) {
        const svg = element.ownerSVGElement || element;
        if (svg.getScreenCTM) {
          const ctm = svg.getScreenCTM();
          if (ctm) {
            const scale = ctm.a;
            return [screenDx / scale, screenDy / scale];
          }
        }
        return [screenDx, screenDy];
      }
      let translateExtent = config.translateExtent || null;
      const infiniteExtent = [[-Infinity, -Infinity], [Infinity, Infinity]];
      function applyTransform() {
        const target5 = element.querySelector(targetSelector);
        if (target5) {
          target5.setAttribute("transform", transform.toString());
        }
        element.__zoom = transform;
        if (config.onZoom) {
          config.onZoom({ k: transform.k, x: transform.x, y: transform.y })();
        }
      }
      function setTransform(newTransform) {
        const k = Math.max(scaleMin, Math.min(scaleMax, newTransform.k));
        newTransform = new ZoomTransform(k, newTransform.x, newTransform.y);
        if (translateExtent) {
          newTransform = constrain(newTransform, getExtent(), translateExtent);
        }
        transform = newTransform;
        applyTransform();
      }
      function handleWheel(event) {
        event.preventDefault();
        const point = toSVGCoords(event.clientX, event.clientY);
        const factor = Math.pow(2, -event.deltaY * 2e-3);
        const newK = Math.max(scaleMin, Math.min(scaleMax, transform.k * factor));
        if (Math.abs(newK - transform.k) < 1e-3) return;
        const newTransform = zoomAround(transform, point, newK);
        setTransform(newTransform);
      }
      let isPanning = false;
      let panStart = null;
      let transformAtPanStart = null;
      function handlePointerDown(event) {
        if (event.button !== 0) return;
        const target5 = event.target;
        const isPanTarget = target5 === element || // SVG element itself
        target5.tagName === "svg" || target5.classList.contains("zoom-background") || target5.classList.contains("zoom-group");
        if (!isPanTarget) {
          return;
        }
        isPanning = true;
        panStart = [event.clientX, event.clientY];
        transformAtPanStart = transform;
        element.setPointerCapture(event.pointerId);
        element.style.cursor = "grabbing";
      }
      function handlePointerMove(event) {
        if (!isPanning) return;
        const screenDx = event.clientX - panStart[0];
        const screenDy = event.clientY - panStart[1];
        const [dx, dy] = toSVGDelta(screenDx, screenDy);
        const newTransform = new ZoomTransform(
          transformAtPanStart.k,
          transformAtPanStart.x + dx,
          transformAtPanStart.y + dy
        );
        setTransform(newTransform);
      }
      function handlePointerUp(event) {
        if (!isPanning) return;
        isPanning = false;
        element.releasePointerCapture(event.pointerId);
        element.style.cursor = "grab";
      }
      let gestureStartTransform = null;
      let gestureStartCenter = null;
      function handleGestureStart(event) {
        event.preventDefault();
        gestureStartTransform = transform;
        const rect = element.getBoundingClientRect();
        const screenCenterX = rect.left + rect.width / 2;
        const screenCenterY = rect.top + rect.height / 2;
        gestureStartCenter = toSVGCoords(screenCenterX, screenCenterY);
      }
      function handleGestureChange(event) {
        event.preventDefault();
        if (!gestureStartTransform) return;
        const newK = gestureStartTransform.k * event.scale;
        const newTransform = zoomAround(gestureStartTransform, gestureStartCenter, newK);
        setTransform(newTransform);
      }
      function handleGestureEnd(event) {
        event.preventDefault();
        gestureStartTransform = null;
      }
      element.addEventListener("wheel", handleWheel, { passive: false });
      element.addEventListener("pointerdown", handlePointerDown);
      element.addEventListener("pointermove", handlePointerMove);
      element.addEventListener("pointerup", handlePointerUp);
      element.addEventListener("pointercancel", handlePointerUp);
      element.addEventListener("gesturestart", handleGestureStart);
      element.addEventListener("gesturechange", handleGestureChange);
      element.addEventListener("gestureend", handleGestureEnd);
      element.style.cursor = "grab";
      element.style.touchAction = "none";
      if (config.initialTransform) {
        applyTransform();
      }
      const handle = {
        // Get current transform
        getTransform: () => ({ k: transform.k, x: transform.x, y: transform.y }),
        // Set transform directly
        setTransform: (t) => () => {
          setTransform(new ZoomTransform(t.k, t.x, t.y));
        },
        // Reset to identity
        resetZoom: () => {
          setTransform(identity6);
        },
        // Zoom to specific scale at point
        zoomTo: (k) => (point) => () => {
          const newTransform = zoomAround(transform, [point.x, point.y], k);
          setTransform(newTransform);
        },
        // Zoom in/out by factor at center
        zoomBy: (factor) => () => {
          const rect = element.getBoundingClientRect();
          const screenCenterX = rect.left + rect.width / 2;
          const screenCenterY = rect.top + rect.height / 2;
          const center = toSVGCoords(screenCenterX, screenCenterY);
          const newK = transform.k * factor;
          const newTransform = zoomAround(transform, center, newK);
          setTransform(newTransform);
        },
        // Cleanup
        destroy: () => {
          element.removeEventListener("wheel", handleWheel);
          element.removeEventListener("pointerdown", handlePointerDown);
          element.removeEventListener("pointermove", handlePointerMove);
          element.removeEventListener("pointerup", handlePointerUp);
          element.removeEventListener("pointercancel", handlePointerUp);
          element.removeEventListener("gesturestart", handleGestureStart);
          element.removeEventListener("gesturechange", handleGestureChange);
          element.removeEventListener("gestureend", handleGestureEnd);
          element.style.cursor = "";
          element.style.touchAction = "";
        }
      };
      return handle;
    };
  }
  function attachZoomNative_(element) {
    return (scaleMin) => (scaleMax) => (targetSelector) => () => {
      return attachNativeZoom_(element)({
        scaleMin,
        scaleMax,
        targetSelector,
        initialTransform: null,
        translateExtent: null,
        onZoom: null
      })();
    };
  }

  // output/Hylograph.HATS.InterpreterTick/foreign.js
  var selectElement = (selector) => (doc) => () => {
    return doc.querySelector(selector);
  };
  var setAttribute = (el) => (name14) => (value12) => () => {
    if (name14 === "textContent") {
      el.textContent = value12;
    } else if (name14.startsWith("xlink:")) {
      el.setAttributeNS("http://www.w3.org/1999/xlink", name14, value12);
    } else if (name14.startsWith("xml:")) {
      el.setAttributeNS("http://www.w3.org/XML/1998/namespace", name14, value12);
    } else {
      el.setAttribute(name14, value12);
    }
  };
  var getAttribute = (el) => (name14) => () => {
    if (name14 === "textContent") {
      return el.textContent || "";
    }
    return el.getAttribute(name14) || "";
  };
  var bindDatum = (el) => (datum) => () => {
    el.__data__ = datum;
  };
  var setKey = (el) => (key) => () => {
    el.setAttribute("data-hats-key", key);
  };
  var setFoldName = (el) => (foldName) => () => {
    el.setAttribute("data-hats-fold", foldName);
  };
  var getKey = (el) => () => {
    return el.getAttribute("data-hats-key") || "";
  };
  var getChildElements = (parent2) => () => {
    return Array.from(parent2.children);
  };
  var getChildElementsForFold = (parent2) => (tagName2) => (foldName) => () => {
    const children2 = Array.from(parent2.children);
    return children2.filter(
      (el) => el.tagName.toLowerCase() === tagName2 && el.getAttribute("data-hats-fold") === foldName
    );
  };
  var removeElement = (el) => () => {
    if (el.parentNode) {
      el.parentNode.removeChild(el);
    }
  };
  var setCursorPointer = (el) => () => {
    el.style.cursor = "pointer";
  };
  var attachMouseEnterThunked = (el) => (handler) => () => {
    el.addEventListener("mouseenter", function(event) {
      handler()();
    });
  };
  var attachMouseLeaveThunked = (el) => (handler) => () => {
    el.addEventListener("mouseleave", function(event) {
      handler()();
    });
  };
  var attachClickThunked = (el) => (handler) => () => {
    el.addEventListener("click", function(event) {
      event.stopPropagation();
      handler()();
    });
    el.style.cursor = "pointer";
  };
  var attachZoom = (el) => (scaleMin) => (scaleMax) => (targetSelector) => () => {
    attachZoomNative_(el)(scaleMin)(scaleMax)(targetSelector)();
  };
  var attachSimpleDrag = (el) => () => {
    attachSimpleDrag_(el)()();
  };
  var attachSimulationDragById = (el) => (simId) => () => {
    attachSimulationDragById_(el)(simId)();
  };
  var attachSimulationDragNestedById = (el) => (simId) => () => {
    attachSimulationDragNestedById_(el)(simId)();
  };
  var hatsHighlightRegistry = /* @__PURE__ */ new Map();
  var HIGHLIGHT_PRIMARY = "highlight-primary";
  var HIGHLIGHT_RELATED = "highlight-related";
  var HIGHLIGHT_DIMMED = "highlight-dimmed";
  var HIGHLIGHT_UPSTREAM = "highlight-upstream";
  var HIGHLIGHT_DOWNSTREAM = "highlight-downstream";
  var ALL_HIGHLIGHT_CLASSES = [HIGHLIGHT_PRIMARY, HIGHLIGHT_RELATED, HIGHLIGHT_DIMMED, HIGHLIGHT_UPSTREAM, HIGHLIGHT_DOWNSTREAM];
  var HC_PRIMARY = 0;
  var HC_RELATED = 1;
  var HC_DIMMED = 2;
  var HC_NEUTRAL = 3;
  var HC_UPSTREAM = 4;
  var HC_DOWNSTREAM = 5;
  function getHatsHighlightGroup(groupName) {
    const key = groupName || "_global";
    if (!hatsHighlightRegistry.has(key)) {
      hatsHighlightRegistry.set(key, []);
    }
    return hatsHighlightRegistry.get(key);
  }
  var TT_ON_HOVER = 0;
  var TT_WHEN_PRIMARY = 1;
  var TT_WHEN_RELATED = 2;
  var hatsTooltipContainer = null;
  var hatsElementTooltips = /* @__PURE__ */ new Map();
  function getHatsTooltipContainer() {
    if (!hatsTooltipContainer) {
      hatsTooltipContainer = document.createElement("div");
      hatsTooltipContainer.className = "hats-tooltip-container";
      hatsTooltipContainer.style.cssText = "position: fixed; top: 0; left: 0; pointer-events: none; z-index: 10000;";
      document.body.appendChild(hatsTooltipContainer);
    }
    return hatsTooltipContainer;
  }
  function createHatsTooltip() {
    const tooltip = document.createElement("div");
    tooltip.className = "hats-tooltip";
    tooltip.style.cssText = `
    position: absolute;
    background: rgba(45, 45, 45, 0.85);
    color: #f0f0f0;
    padding: 10px 16px;
    font-size: 13px;
    font-weight: 500;
    font-family: 'Courier New', Courier, monospace;
    white-space: pre-line;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s ease-in-out;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    border: none;
    border-radius: 4px;
    min-width: 280px;
    max-width: 480px;
    line-height: 1.6;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  `;
    getHatsTooltipContainer().appendChild(tooltip);
    return tooltip;
  }
  function positionHatsTooltip(tooltip, event) {
    const x = event.clientX + 15;
    const y = event.clientY - 10;
    tooltip.style.left = `${x}px`;
    tooltip.style.top = `${y}px`;
  }
  function showHatsTooltip(tooltip, content3) {
    tooltip.textContent = content3;
    tooltip.style.opacity = "1";
  }
  function hideHatsTooltip(tooltip) {
    if (tooltip) {
      tooltip.style.opacity = "0";
    }
  }
  var attachCoordinatedHighlightThunked = (element) => (identifyThunk) => (classifyFn) => (groupName) => (tooltipContentThunk) => (tooltipTrigger) => () => {
    const group3 = groupName;
    const entry = { element, identifyThunk, classifyFn, tooltipContentThunk, tooltipTrigger };
    getHatsHighlightGroup(group3).push(entry);
    element.addEventListener("mouseenter", function(event) {
      const hoveredId = identifyThunk();
      applyHatsHighlightsWithTooltips(group3, hoveredId, element, event);
    });
    element.addEventListener("mouseleave", function(event) {
      clearHatsHighlightsInGroupWithTooltips(group3);
    });
  };
  function applyHatsHighlightsWithTooltips(groupName, hoveredId, triggerElement, event) {
    const group3 = getHatsHighlightGroup(groupName);
    group3.forEach((entry) => {
      const { element, classifyFn, tooltipContentThunk, tooltipTrigger } = entry;
      ALL_HIGHLIGHT_CLASSES.forEach((cls) => element.classList.remove(cls));
      const classification = classifyFn(hoveredId);
      switch (classification) {
        case HC_PRIMARY:
          element.classList.add("highlight-primary");
          break;
        case HC_RELATED:
          element.classList.add("highlight-related");
          break;
        case HC_UPSTREAM:
          element.classList.add("highlight-upstream");
          break;
        case HC_DOWNSTREAM:
          element.classList.add("highlight-downstream");
          break;
        case HC_DIMMED:
          element.classList.add("highlight-dimmed");
          break;
        case HC_NEUTRAL:
        default:
          break;
      }
      if (tooltipContentThunk) {
        const shouldShow = tooltipTrigger === TT_ON_HOVER && element === triggerElement || tooltipTrigger === TT_WHEN_PRIMARY && classification === HC_PRIMARY || tooltipTrigger === TT_WHEN_RELATED && (classification === HC_PRIMARY || classification === HC_RELATED);
        if (shouldShow) {
          let tooltip = hatsElementTooltips.get(element);
          if (!tooltip) {
            tooltip = createHatsTooltip();
            hatsElementTooltips.set(element, tooltip);
          }
          const content3 = tooltipContentThunk();
          showHatsTooltip(tooltip, content3);
          if (tooltipTrigger === TT_ON_HOVER && event) {
            positionHatsTooltip(tooltip, event);
          }
        } else {
          const tooltip = hatsElementTooltips.get(element);
          if (tooltip) {
            hideHatsTooltip(tooltip);
          }
        }
      }
    });
  }
  function clearHatsHighlightsInGroupWithTooltips(groupName) {
    const group3 = getHatsHighlightGroup(groupName);
    group3.forEach((entry) => {
      ALL_HIGHLIGHT_CLASSES.forEach((cls) => entry.element.classList.remove(cls));
      const tooltip = hatsElementTooltips.get(entry.element);
      if (tooltip) {
        hideHatsTooltip(tooltip);
      }
    });
  }
  var coordInteractionRegistry = /* @__PURE__ */ new Map();
  var IS_PRIMARY = 0;
  var IS_RELATED = 1;
  var IS_SELECTED = 2;
  var IS_DIMMED = 3;
  var IS_NEUTRAL = 4;
  var COORD_PRIMARY = "coord-primary";
  var COORD_RELATED = "coord-related";
  var COORD_SELECTED = "coord-selected";
  var COORD_DIMMED = "coord-dimmed";
  var ALL_COORD_CLASSES = [COORD_PRIMARY, COORD_RELATED, COORD_SELECTED, COORD_DIMMED];
  function getCoordInteractionGroup(groupName) {
    const key = groupName || "_global";
    if (!coordInteractionRegistry.has(key)) {
      coordInteractionRegistry.set(key, []);
    }
    return coordInteractionRegistry.get(key);
  }
  function applyStateClass(element, state2) {
    ALL_COORD_CLASSES.forEach((cls) => element.classList.remove(cls));
    switch (state2) {
      case IS_PRIMARY:
        element.classList.add(COORD_PRIMARY);
        break;
      case IS_RELATED:
        element.classList.add(COORD_RELATED);
        break;
      case IS_SELECTED:
        element.classList.add(COORD_SELECTED);
        break;
      case IS_DIMMED:
        element.classList.add(COORD_DIMMED);
        break;
      case IS_NEUTRAL:
      default:
        break;
    }
  }
  function applyHoverInteraction(groupName, hoveredId) {
    const group3 = getCoordInteractionGroup(groupName);
    group3.forEach((entry) => {
      const state2 = entry.respondToHover(hoveredId);
      applyStateClass(entry.element, state2);
    });
  }
  function applyBrushInteraction(groupName, box, sourceCell) {
    const group3 = getCoordInteractionGroup(groupName);
    const selectedIds = /* @__PURE__ */ new Set();
    group3.forEach((entry) => {
      if (entry.getPosition) {
        const pos = entry.getPosition();
        const elementCell = entry.element.closest('g[id^="cell-"]');
        if (elementCell === sourceCell) {
          if (pos.x >= box.x0 && pos.x <= box.x1 && pos.y >= box.y0 && pos.y <= box.y1) {
            const id2 = entry.identifyThunk();
            selectedIds.add(id2);
          }
        }
      }
    });
    group3.forEach((entry) => {
      const id2 = entry.identifyThunk();
      let state2;
      if (selectedIds.size === 0) {
        state2 = IS_NEUTRAL;
      } else if (selectedIds.has(id2)) {
        state2 = IS_SELECTED;
      } else {
        state2 = IS_DIMMED;
      }
      applyStateClass(entry.element, state2);
    });
  }
  function applyClearInteraction(groupName) {
    const group3 = getCoordInteractionGroup(groupName);
    group3.forEach((entry) => {
      const state2 = entry.respondToClear();
      applyStateClass(entry.element, state2);
    });
  }
  var attachCoordinatedInteractionThunked = (element) => (identifyThunk) => (respondToHover) => (respondToBrush) => (respondToClear) => (positionThunk) => (groupName) => () => {
    const group3 = groupName;
    const getPosition = positionThunk && positionThunk.value0 ? positionThunk.value0 : null;
    const entry = { element, identifyThunk, respondToHover, respondToBrush, respondToClear, getPosition };
    getCoordInteractionGroup(group3).push(entry);
    element.addEventListener("mouseenter", function(event) {
      const hoveredId = identifyThunk();
      applyHoverInteraction(group3, hoveredId);
    });
    element.addEventListener("mouseleave", function(event) {
      applyClearInteraction(group3);
    });
  };
  var activeBrushes = /* @__PURE__ */ new Map();
  var attachCoordinatedBrushThunked = (element) => (extent) => (groupName) => () => {
    const group3 = groupName;
    let brushRect = null;
    function getBrushRect() {
      if (!brushRect) {
        brushRect = element.querySelector(".brush-background");
        if (brushRect) {
          brushRect.style.fill = "transparent";
          brushRect.style.stroke = "transparent";
          brushRect.style.strokeWidth = "1";
        }
      }
      return brushRect;
    }
    const ns = "http://www.w3.org/2000/svg";
    const selectionRect = document.createElementNS(ns, "rect");
    selectionRect.setAttribute("class", "brush-selection-overlay");
    selectionRect.setAttribute("fill", "rgba(100, 100, 200, 0.2)");
    selectionRect.setAttribute("stroke", "#6666cc");
    selectionRect.setAttribute("stroke-width", "1");
    selectionRect.setAttribute("visibility", "hidden");
    selectionRect.setAttribute("pointer-events", "none");
    const cellGroup = element.parentElement;
    if (cellGroup) {
      cellGroup.appendChild(selectionRect);
    }
    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let lastBrushTime = 0;
    let pendingBrushFrame = null;
    const BRUSH_THROTTLE_MS = 150;
    function getLocalCoords(event) {
      const svg = element.closest("svg");
      if (!svg) return { x: event.clientX, y: event.clientY };
      const pt = svg.createSVGPoint();
      pt.x = event.clientX;
      pt.y = event.clientY;
      const parent2 = element.parentElement;
      const ctm = parent2 && parent2.getScreenCTM ? parent2.getScreenCTM() : svg.getScreenCTM();
      if (!ctm) return { x: event.clientX, y: event.clientY };
      const localP = pt.matrixTransform(ctm.inverse());
      return { x: localP.x, y: localP.y };
    }
    element.addEventListener("pointerdown", function(event) {
      if (event.button !== 0) return;
      const rect = getBrushRect();
      if (event.target !== element && event.target !== rect) return;
      isDragging = true;
      const coords2 = getLocalCoords(event);
      startX = Math.max(extent.x0, Math.min(extent.x1, coords2.x));
      startY = Math.max(extent.y0, Math.min(extent.y1, coords2.y));
      selectionRect.setAttribute("x", startX);
      selectionRect.setAttribute("y", startY);
      selectionRect.setAttribute("width", 0);
      selectionRect.setAttribute("height", 0);
      selectionRect.setAttribute("visibility", "visible");
      element.setPointerCapture(event.pointerId);
      event.preventDefault();
    });
    element.addEventListener("pointermove", function(event) {
      if (!isDragging) return;
      const coords2 = getLocalCoords(event);
      const currentX = Math.max(extent.x0, Math.min(extent.x1, coords2.x));
      const currentY = Math.max(extent.y0, Math.min(extent.y1, coords2.y));
      const x = Math.min(startX, currentX);
      const y = Math.min(startY, currentY);
      const width8 = Math.abs(currentX - startX);
      const height8 = Math.abs(currentY - startY);
      selectionRect.setAttribute("x", x);
      selectionRect.setAttribute("y", y);
      selectionRect.setAttribute("width", width8);
      selectionRect.setAttribute("height", height8);
      const box = { x0: x, y0: y, x1: x + width8, y1: y + height8 };
      const sourceCell = element.closest('g[id^="cell-"]');
      const now = performance.now();
      if (now - lastBrushTime >= BRUSH_THROTTLE_MS) {
        lastBrushTime = now;
        if (pendingBrushFrame) {
          cancelAnimationFrame(pendingBrushFrame);
          pendingBrushFrame = null;
        }
        applyBrushInteraction(group3, box, sourceCell);
      } else if (!pendingBrushFrame) {
        pendingBrushFrame = requestAnimationFrame(() => {
          pendingBrushFrame = null;
          lastBrushTime = performance.now();
          applyBrushInteraction(group3, box, sourceCell);
        });
      }
    });
    element.addEventListener("pointerup", function(event) {
      if (!isDragging) return;
      isDragging = false;
      element.releasePointerCapture(event.pointerId);
    });
    element.addEventListener("click", function(event) {
      const rect = getBrushRect();
      if (event.target !== element && event.target !== rect) return;
      selectionRect.setAttribute("visibility", "hidden");
      applyClearInteraction(group3);
    });
    const handle = { element, selectionRect, group: group3 };
    if (!activeBrushes.has(group3)) {
      activeBrushes.set(group3, []);
    }
    activeBrushes.get(group3).push(handle);
  };

  // output/Data.Nullable/foreign.js
  var nullImpl = null;
  function notNull(x) {
    return x;
  }

  // output/Data.Nullable/index.js
  var toNullable = /* @__PURE__ */ maybe(nullImpl)(notNull);

  // output/Hylograph.Internal.Transition.Types/index.js
  var Linear = /* @__PURE__ */ (function() {
    function Linear2() {
    }
    ;
    Linear2.value = new Linear2();
    return Linear2;
  })();
  var Cubic = /* @__PURE__ */ (function() {
    function Cubic2() {
    }
    ;
    Cubic2.value = new Cubic2();
    return Cubic2;
  })();
  var CubicIn = /* @__PURE__ */ (function() {
    function CubicIn2() {
    }
    ;
    CubicIn2.value = new CubicIn2();
    return CubicIn2;
  })();
  var CubicOut = /* @__PURE__ */ (function() {
    function CubicOut2() {
    }
    ;
    CubicOut2.value = new CubicOut2();
    return CubicOut2;
  })();
  var CubicInOut = /* @__PURE__ */ (function() {
    function CubicInOut2() {
    }
    ;
    CubicInOut2.value = new CubicInOut2();
    return CubicInOut2;
  })();
  var Quad = /* @__PURE__ */ (function() {
    function Quad2() {
    }
    ;
    Quad2.value = new Quad2();
    return Quad2;
  })();
  var QuadIn = /* @__PURE__ */ (function() {
    function QuadIn2() {
    }
    ;
    QuadIn2.value = new QuadIn2();
    return QuadIn2;
  })();
  var QuadOut = /* @__PURE__ */ (function() {
    function QuadOut2() {
    }
    ;
    QuadOut2.value = new QuadOut2();
    return QuadOut2;
  })();
  var QuadInOut = /* @__PURE__ */ (function() {
    function QuadInOut2() {
    }
    ;
    QuadInOut2.value = new QuadInOut2();
    return QuadInOut2;
  })();
  var Sin = /* @__PURE__ */ (function() {
    function Sin2() {
    }
    ;
    Sin2.value = new Sin2();
    return Sin2;
  })();
  var SinIn = /* @__PURE__ */ (function() {
    function SinIn2() {
    }
    ;
    SinIn2.value = new SinIn2();
    return SinIn2;
  })();
  var SinOut = /* @__PURE__ */ (function() {
    function SinOut2() {
    }
    ;
    SinOut2.value = new SinOut2();
    return SinOut2;
  })();
  var SinInOut = /* @__PURE__ */ (function() {
    function SinInOut2() {
    }
    ;
    SinInOut2.value = new SinInOut2();
    return SinInOut2;
  })();
  var Exp = /* @__PURE__ */ (function() {
    function Exp2() {
    }
    ;
    Exp2.value = new Exp2();
    return Exp2;
  })();
  var ExpIn = /* @__PURE__ */ (function() {
    function ExpIn2() {
    }
    ;
    ExpIn2.value = new ExpIn2();
    return ExpIn2;
  })();
  var ExpOut = /* @__PURE__ */ (function() {
    function ExpOut2() {
    }
    ;
    ExpOut2.value = new ExpOut2();
    return ExpOut2;
  })();
  var ExpInOut = /* @__PURE__ */ (function() {
    function ExpInOut2() {
    }
    ;
    ExpInOut2.value = new ExpInOut2();
    return ExpInOut2;
  })();
  var Circle2 = /* @__PURE__ */ (function() {
    function Circle3() {
    }
    ;
    Circle3.value = new Circle3();
    return Circle3;
  })();
  var CircleIn = /* @__PURE__ */ (function() {
    function CircleIn2() {
    }
    ;
    CircleIn2.value = new CircleIn2();
    return CircleIn2;
  })();
  var CircleOut = /* @__PURE__ */ (function() {
    function CircleOut2() {
    }
    ;
    CircleOut2.value = new CircleOut2();
    return CircleOut2;
  })();
  var CircleInOut = /* @__PURE__ */ (function() {
    function CircleInOut2() {
    }
    ;
    CircleInOut2.value = new CircleInOut2();
    return CircleInOut2;
  })();
  var Elastic = /* @__PURE__ */ (function() {
    function Elastic2() {
    }
    ;
    Elastic2.value = new Elastic2();
    return Elastic2;
  })();
  var ElasticIn = /* @__PURE__ */ (function() {
    function ElasticIn2() {
    }
    ;
    ElasticIn2.value = new ElasticIn2();
    return ElasticIn2;
  })();
  var ElasticOut = /* @__PURE__ */ (function() {
    function ElasticOut2() {
    }
    ;
    ElasticOut2.value = new ElasticOut2();
    return ElasticOut2;
  })();
  var ElasticInOut = /* @__PURE__ */ (function() {
    function ElasticInOut2() {
    }
    ;
    ElasticInOut2.value = new ElasticInOut2();
    return ElasticInOut2;
  })();
  var Back = /* @__PURE__ */ (function() {
    function Back2() {
    }
    ;
    Back2.value = new Back2();
    return Back2;
  })();
  var BackIn = /* @__PURE__ */ (function() {
    function BackIn2() {
    }
    ;
    BackIn2.value = new BackIn2();
    return BackIn2;
  })();
  var BackOut = /* @__PURE__ */ (function() {
    function BackOut2() {
    }
    ;
    BackOut2.value = new BackOut2();
    return BackOut2;
  })();
  var BackInOut = /* @__PURE__ */ (function() {
    function BackInOut2() {
    }
    ;
    BackInOut2.value = new BackInOut2();
    return BackInOut2;
  })();
  var Bounce = /* @__PURE__ */ (function() {
    function Bounce2() {
    }
    ;
    Bounce2.value = new Bounce2();
    return Bounce2;
  })();
  var BounceIn = /* @__PURE__ */ (function() {
    function BounceIn2() {
    }
    ;
    BounceIn2.value = new BounceIn2();
    return BounceIn2;
  })();
  var BounceOut = /* @__PURE__ */ (function() {
    function BounceOut2() {
    }
    ;
    BounceOut2.value = new BounceOut2();
    return BounceOut2;
  })();
  var BounceInOut = /* @__PURE__ */ (function() {
    function BounceInOut2() {
    }
    ;
    BounceInOut2.value = new BounceInOut2();
    return BounceInOut2;
  })();

  // output/Hylograph.Transition.Tick/index.js
  var linear = function(t) {
    return t;
  };
  var elasticC5 = /* @__PURE__ */ (function() {
    return 2 * pi / 4.5;
  })();
  var elasticC4 = /* @__PURE__ */ (function() {
    return 2 * pi / 3;
  })();
  var easeOutSin = function(t) {
    return sin(t * pi / 2);
  };
  var easeOutQuad = function(t) {
    return 1 - (1 - t) * (1 - t);
  };
  var easeOutExp = function(t) {
    var $21 = t === 1;
    if ($21) {
      return 1;
    }
    ;
    return 1 - pow(2)(-10 * t);
  };
  var easeOutElastic = function(t) {
    var $22 = t === 0;
    if ($22) {
      return 0;
    }
    ;
    var $23 = t === 1;
    if ($23) {
      return 1;
    }
    ;
    return pow(2)(-10 * t) * sin((t * 10 - 0.75) * elasticC4) + 1;
  };
  var easeOutCubic = function(t) {
    return 1 - (1 - t) * (1 - t) * (1 - t);
  };
  var easeOutCircle = function(t) {
    return sqrt(1 - (t - 1) * (t - 1));
  };
  var easeInSin = function(t) {
    return 1 - cos(t * pi / 2);
  };
  var easeInQuad = function(t) {
    return t * t;
  };
  var easeInOutSin = function(t) {
    return -(cos(pi * t) - 1) / 2;
  };
  var easeInOutQuad = function(t) {
    var $24 = t < 0.5;
    if ($24) {
      return 2 * t * t;
    }
    ;
    return 1 - (-2 * t + 2) * (-2 * t + 2) / 2;
  };
  var easeInOutExp = function(t) {
    var $25 = t === 0;
    if ($25) {
      return 0;
    }
    ;
    var $26 = t === 1;
    if ($26) {
      return 1;
    }
    ;
    var $27 = t < 0.5;
    if ($27) {
      return pow(2)(20 * t - 10) / 2;
    }
    ;
    return (2 - pow(2)(-20 * t + 10)) / 2;
  };
  var easeInOutElastic = function(t) {
    var $28 = t === 0;
    if ($28) {
      return 0;
    }
    ;
    var $29 = t === 1;
    if ($29) {
      return 1;
    }
    ;
    var $30 = t < 0.5;
    if ($30) {
      return -(pow(2)(20 * t - 10) * sin((20 * t - 11.125) * elasticC5)) / 2;
    }
    ;
    return pow(2)(-20 * t + 10) * sin((20 * t - 11.125) * elasticC5) / 2 + 1;
  };
  var easeInOutCubic = function(t) {
    var $31 = t < 0.5;
    if ($31) {
      return 4 * t * t * t;
    }
    ;
    return 1 - (-2 * t + 2) * (-2 * t + 2) * (-2 * t + 2) / 2;
  };
  var easeInOutCircle = function(t) {
    var $32 = t < 0.5;
    if ($32) {
      return (1 - sqrt(1 - 2 * t * (2 * t))) / 2;
    }
    ;
    return (sqrt(1 - (-2 * t + 2) * (-2 * t + 2)) + 1) / 2;
  };
  var easeInExp = function(t) {
    var $33 = t === 0;
    if ($33) {
      return 0;
    }
    ;
    return pow(2)(10 * (t - 1));
  };
  var easeInElastic = function(t) {
    var $34 = t === 0;
    if ($34) {
      return 0;
    }
    ;
    var $35 = t === 1;
    if ($35) {
      return 1;
    }
    ;
    return -pow(2)(10 * t - 10) * sin((t * 10 - 10.75) * elasticC4);
  };
  var easeInCubic = function(t) {
    return t * t * t;
  };
  var easeInCircle = function(t) {
    return 1 - sqrt(1 - t * t);
  };
  var bounceN1 = 7.5625;
  var bounceD1 = 2.75;
  var easeOutBounce = function(t) {
    var $36 = t < 1 / bounceD1;
    if ($36) {
      return bounceN1 * t * t;
    }
    ;
    var $37 = t < 2 / bounceD1;
    if ($37) {
      var t$prime = t - 1.5 / bounceD1;
      return bounceN1 * t$prime * t$prime + 0.75;
    }
    ;
    var $38 = t < 2.5 / bounceD1;
    if ($38) {
      var t$prime = t - 2.25 / bounceD1;
      return bounceN1 * t$prime * t$prime + 0.9375;
    }
    ;
    var t$prime = t - 2.625 / bounceD1;
    return bounceN1 * t$prime * t$prime + 0.984375;
  };
  var easeInBounce = function(t) {
    return 1 - easeOutBounce(1 - t);
  };
  var easeInOutBounce = function(t) {
    var $39 = t < 0.5;
    if ($39) {
      return (1 - easeOutBounce(1 - 2 * t)) / 2;
    }
    ;
    return (1 + easeOutBounce(2 * t - 1)) / 2;
  };
  var backC1 = 1.70158;
  var backC2 = /* @__PURE__ */ (function() {
    return backC1 * 1.525;
  })();
  var easeInOutBack = function(t) {
    var $40 = t < 0.5;
    if ($40) {
      return 2 * t * (2 * t) * ((backC2 + 1) * 2 * t - backC2) / 2;
    }
    ;
    return ((2 * t - 2) * (2 * t - 2) * ((backC2 + 1) * (t * 2 - 2) + backC2) + 2) / 2;
  };
  var backC3 = /* @__PURE__ */ (function() {
    return backC1 + 1;
  })();
  var easeInBack = function(t) {
    return backC3 * t * t * t - backC1 * t * t;
  };
  var easeOutBack = function(t) {
    var t$prime = t - 1;
    return 1 + backC3 * t$prime * t$prime * t$prime + backC1 * t$prime * t$prime;
  };

  // output/Hylograph.HATS.Transitions/index.js
  var toTickEasing = function(v) {
    if (v instanceof Nothing) {
      return easeOutCubic;
    }
    ;
    if (v instanceof Just) {
      if (v.value0 instanceof Linear) {
        return linear;
      }
      ;
      if (v.value0 instanceof Cubic) {
        return easeOutCubic;
      }
      ;
      if (v.value0 instanceof CubicIn) {
        return easeInCubic;
      }
      ;
      if (v.value0 instanceof CubicOut) {
        return easeOutCubic;
      }
      ;
      if (v.value0 instanceof CubicInOut) {
        return easeInOutCubic;
      }
      ;
      if (v.value0 instanceof Quad) {
        return easeOutQuad;
      }
      ;
      if (v.value0 instanceof QuadIn) {
        return easeInQuad;
      }
      ;
      if (v.value0 instanceof QuadOut) {
        return easeOutQuad;
      }
      ;
      if (v.value0 instanceof QuadInOut) {
        return easeInOutQuad;
      }
      ;
      if (v.value0 instanceof Sin) {
        return easeOutSin;
      }
      ;
      if (v.value0 instanceof SinIn) {
        return easeInSin;
      }
      ;
      if (v.value0 instanceof SinOut) {
        return easeOutSin;
      }
      ;
      if (v.value0 instanceof SinInOut) {
        return easeInOutSin;
      }
      ;
      if (v.value0 instanceof Exp) {
        return easeOutExp;
      }
      ;
      if (v.value0 instanceof ExpIn) {
        return easeInExp;
      }
      ;
      if (v.value0 instanceof ExpOut) {
        return easeOutExp;
      }
      ;
      if (v.value0 instanceof ExpInOut) {
        return easeInOutExp;
      }
      ;
      if (v.value0 instanceof Circle2) {
        return easeOutCircle;
      }
      ;
      if (v.value0 instanceof CircleIn) {
        return easeInCircle;
      }
      ;
      if (v.value0 instanceof CircleOut) {
        return easeOutCircle;
      }
      ;
      if (v.value0 instanceof CircleInOut) {
        return easeInOutCircle;
      }
      ;
      if (v.value0 instanceof Elastic) {
        return easeOutElastic;
      }
      ;
      if (v.value0 instanceof ElasticIn) {
        return easeInElastic;
      }
      ;
      if (v.value0 instanceof ElasticOut) {
        return easeOutElastic;
      }
      ;
      if (v.value0 instanceof ElasticInOut) {
        return easeInOutElastic;
      }
      ;
      if (v.value0 instanceof Back) {
        return easeOutBack;
      }
      ;
      if (v.value0 instanceof BackIn) {
        return easeInBack;
      }
      ;
      if (v.value0 instanceof BackOut) {
        return easeOutBack;
      }
      ;
      if (v.value0 instanceof BackInOut) {
        return easeInOutBack;
      }
      ;
      if (v.value0 instanceof Bounce) {
        return easeOutBounce;
      }
      ;
      if (v.value0 instanceof BounceIn) {
        return easeInBounce;
      }
      ;
      if (v.value0 instanceof BounceOut) {
        return easeOutBounce;
      }
      ;
      if (v.value0 instanceof BounceInOut) {
        return easeInOutBounce;
      }
      ;
      throw new Error("Failed pattern match at Hylograph.HATS.Transitions (line 187, column 13 - line 220, column 45): " + [v.value0.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.Transitions (line 185, column 16 - line 220, column 45): " + [v.constructor.name]);
  };

  // output/Hylograph.Interaction.Coordinated/index.js
  var Primary2 = /* @__PURE__ */ (function() {
    function Primary3() {
    }
    ;
    Primary3.value = new Primary3();
    return Primary3;
  })();
  var Related2 = /* @__PURE__ */ (function() {
    function Related3() {
    }
    ;
    Related3.value = new Related3();
    return Related3;
  })();
  var Selected = /* @__PURE__ */ (function() {
    function Selected2() {
    }
    ;
    Selected2.value = new Selected2();
    return Selected2;
  })();
  var Dimmed2 = /* @__PURE__ */ (function() {
    function Dimmed3() {
    }
    ;
    Dimmed3.value = new Dimmed3();
    return Dimmed3;
  })();
  var Neutral2 = /* @__PURE__ */ (function() {
    function Neutral3() {
    }
    ;
    Neutral3.value = new Neutral3();
    return Neutral3;
  })();
  var HoverTrigger = /* @__PURE__ */ (function() {
    function HoverTrigger2(value0) {
      this.value0 = value0;
    }
    ;
    HoverTrigger2.create = function(value0) {
      return new HoverTrigger2(value0);
    };
    return HoverTrigger2;
  })();
  var BrushTrigger = /* @__PURE__ */ (function() {
    function BrushTrigger2(value0) {
      this.value0 = value0;
    }
    ;
    BrushTrigger2.create = function(value0) {
      return new BrushTrigger2(value0);
    };
    return BrushTrigger2;
  })();
  var ClearTrigger = /* @__PURE__ */ (function() {
    function ClearTrigger2() {
    }
    ;
    ClearTrigger2.value = new ClearTrigger2();
    return ClearTrigger2;
  })();

  // output/Web.DOM.Document/foreign.js
  var getEffProp = function(name14) {
    return function(doc) {
      return function() {
        return doc[name14];
      };
    };
  };
  var url = getEffProp("URL");
  var documentURI = getEffProp("documentURI");
  var origin = getEffProp("origin");
  var compatMode = getEffProp("compatMode");
  var characterSet = getEffProp("characterSet");
  var contentType = getEffProp("contentType");
  var _documentElement = getEffProp("documentElement");
  function createElement(localName2) {
    return function(doc) {
      return function() {
        return doc.createElement(localName2);
      };
    };
  }
  function _createElementNS(ns) {
    return function(qualifiedName) {
      return function(doc) {
        return function() {
          return doc.createElementNS(ns, qualifiedName);
        };
      };
    };
  }

  // output/Web.Internal.FFI/foreign.js
  function _unsafeReadProtoTagged(nothing, just, name14, value12) {
    if (typeof window !== "undefined") {
      var ty = window[name14];
      if (ty != null && value12 instanceof ty) {
        return just(value12);
      }
    }
    var obj = value12;
    while (obj != null) {
      var proto = Object.getPrototypeOf(obj);
      var constructorName = proto.constructor.name;
      if (constructorName === name14) {
        return just(value12);
      } else if (constructorName === "Object") {
        return nothing;
      }
      obj = proto;
    }
    return nothing;
  }

  // output/Web.Internal.FFI/index.js
  var unsafeReadProtoTagged = function(name14) {
    return function(value12) {
      return _unsafeReadProtoTagged(Nothing.value, Just.create, name14, value12);
    };
  };

  // output/Web.DOM.Document/index.js
  var createElementNS = function($6) {
    return _createElementNS(toNullable($6));
  };

  // output/Hylograph.Internal.Element.Operations/index.js
  var elementTypeToString = function(v) {
    if (v instanceof Circle) {
      return "circle";
    }
    ;
    if (v instanceof Rect) {
      return "rect";
    }
    ;
    if (v instanceof Path) {
      return "path";
    }
    ;
    if (v instanceof Line) {
      return "line";
    }
    ;
    if (v instanceof Polygon) {
      return "polygon";
    }
    ;
    if (v instanceof Text) {
      return "text";
    }
    ;
    if (v instanceof Group) {
      return "g";
    }
    ;
    if (v instanceof SVG) {
      return "svg";
    }
    ;
    if (v instanceof Defs) {
      return "defs";
    }
    ;
    if (v instanceof LinearGradient) {
      return "linearGradient";
    }
    ;
    if (v instanceof Stop) {
      return "stop";
    }
    ;
    if (v instanceof PatternFill) {
      return "pattern";
    }
    ;
    if (v instanceof Div) {
      return "div";
    }
    ;
    if (v instanceof Span) {
      return "span";
    }
    ;
    if (v instanceof Table) {
      return "table";
    }
    ;
    if (v instanceof Tr) {
      return "tr";
    }
    ;
    if (v instanceof Td) {
      return "td";
    }
    ;
    if (v instanceof Th) {
      return "th";
    }
    ;
    if (v instanceof Tbody) {
      return "tbody";
    }
    ;
    if (v instanceof Thead) {
      return "thead";
    }
    ;
    if (v instanceof Code) {
      return "code";
    }
    ;
    if (v instanceof Var) {
      return "var";
    }
    ;
    if (v instanceof Dfn) {
      return "dfn";
    }
    ;
    if (v instanceof Dl) {
      return "dl";
    }
    ;
    if (v instanceof Dt) {
      return "dt";
    }
    ;
    if (v instanceof Dd) {
      return "dd";
    }
    ;
    if (v instanceof Ol) {
      return "ol";
    }
    ;
    if (v instanceof Ul) {
      return "ul";
    }
    ;
    if (v instanceof Li) {
      return "li";
    }
    ;
    if (v instanceof Small) {
      return "small";
    }
    ;
    if (v instanceof Em) {
      return "em";
    }
    ;
    if (v instanceof Strong) {
      return "strong";
    }
    ;
    if (v instanceof Anchor) {
      return "a";
    }
    ;
    if (v instanceof P) {
      return "p";
    }
    ;
    if (v instanceof Pre) {
      return "pre";
    }
    ;
    if (v instanceof Section) {
      return "section";
    }
    ;
    if (v instanceof Mark) {
      return "mark";
    }
    ;
    if (v instanceof Abbr) {
      return "abbr";
    }
    ;
    throw new Error("Failed pattern match at Hylograph.Internal.Element.Operations (line 31, column 1 - line 31, column 45): " + [v.constructor.name]);
  };
  var createElementWithNS = function(elemType) {
    return function(doc) {
      var v = elementContext(elemType);
      if (v instanceof SVGContext) {
        return createElementNS(new Just("http://www.w3.org/2000/svg"))(elementTypeToString(elemType))(doc);
      }
      ;
      if (v instanceof HTMLContext) {
        return createElement(elementTypeToString(elemType))(doc);
      }
      ;
      throw new Error("Failed pattern match at Hylograph.Internal.Element.Operations (line 24, column 3 - line 28, column 64): " + [v.constructor.name]);
    };
  };

  // output/Web.DOM.Element/foreign.js
  var getProp = function(name14) {
    return function(doctype) {
      return doctype[name14];
    };
  };
  var _namespaceURI = getProp("namespaceURI");
  var _prefix = getProp("prefix");
  var localName = getProp("localName");
  var tagName = getProp("tagName");

  // output/Web.DOM.ParentNode/foreign.js
  var getEffProp2 = function(name14) {
    return function(node) {
      return function() {
        return node[name14];
      };
    };
  };
  var children = getEffProp2("children");
  var _firstElementChild = getEffProp2("firstElementChild");
  var _lastElementChild = getEffProp2("lastElementChild");
  var childElementCount = getEffProp2("childElementCount");

  // output/Web.DOM.Element/index.js
  var toNode = unsafeCoerce2;
  var toEventTarget = unsafeCoerce2;

  // output/Web.DOM.Node/foreign.js
  var getEffProp3 = function(name14) {
    return function(node) {
      return function() {
        return node[name14];
      };
    };
  };
  var baseURI = getEffProp3("baseURI");
  var _ownerDocument = getEffProp3("ownerDocument");
  var _parentNode = getEffProp3("parentNode");
  var _parentElement = getEffProp3("parentElement");
  var childNodes = getEffProp3("childNodes");
  var _firstChild = getEffProp3("firstChild");
  var _lastChild = getEffProp3("lastChild");
  var _previousSibling = getEffProp3("previousSibling");
  var _nextSibling = getEffProp3("nextSibling");
  var _nodeValue = getEffProp3("nodeValue");
  var textContent = getEffProp3("textContent");
  function appendChild(node) {
    return function(parent2) {
      return function() {
        parent2.appendChild(node);
      };
    };
  }

  // output/Web.Event.Event/foreign.js
  function stopPropagation(e) {
    return function() {
      return e.stopPropagation();
    };
  }

  // output/Web.Event.EventTarget/foreign.js
  function eventListener(fn) {
    return function() {
      return function(event) {
        return fn(event)();
      };
    };
  }
  function addEventListener(type) {
    return function(listener) {
      return function(useCapture) {
        return function(target5) {
          return function() {
            return target5.addEventListener(type, listener, useCapture);
          };
        };
      };
    };
  }

  // output/Web.HTML/foreign.js
  var windowImpl = function() {
    return window;
  };

  // output/Web.HTML.HTMLDocument/index.js
  var toDocument = unsafeCoerce2;

  // output/Web.HTML.Window/foreign.js
  function document2(window2) {
    return function() {
      return window2.document;
    };
  }

  // output/Web.UIEvent.MouseEvent/foreign.js
  function ctrlKey(e) {
    return e.ctrlKey;
  }
  function shiftKey(e) {
    return e.shiftKey;
  }
  function metaKey(e) {
    return e.metaKey;
  }

  // output/Web.UIEvent.MouseEvent/index.js
  var fromEvent = /* @__PURE__ */ unsafeReadProtoTagged("MouseEvent");

  // output/Hylograph.HATS.InterpreterTick/index.js
  var append3 = /* @__PURE__ */ append(semigroupArray);
  var map6 = /* @__PURE__ */ map(functorArray);
  var bind2 = /* @__PURE__ */ bind(bindEffect);
  var traverse_2 = /* @__PURE__ */ traverse_(applicativeEffect)(foldableArray);
  var pure2 = /* @__PURE__ */ pure(applicativeEffect);
  var unwrap2 = /* @__PURE__ */ unwrap();
  var map12 = /* @__PURE__ */ map(functorMaybe);
  var map23 = /* @__PURE__ */ map(functorEffect);
  var traverse2 = /* @__PURE__ */ traverse(traversableArray)(applicativeEffect);
  var union3 = /* @__PURE__ */ union(ordString);
  var $$void3 = /* @__PURE__ */ $$void(functorEffect);
  var traverseWithIndex2 = /* @__PURE__ */ traverseWithIndex(traversableWithIndexArray)(applicativeEffect);
  var insert3 = /* @__PURE__ */ insert(ordString);
  var foldM2 = /* @__PURE__ */ foldM(monadEffect);
  var fromFoldable4 = /* @__PURE__ */ fromFoldable2(foldableArray)(ordString);
  var difference3 = /* @__PURE__ */ difference2(ordString);
  var intersection3 = /* @__PURE__ */ intersection2(ordString);
  var member3 = /* @__PURE__ */ member2(ordString);
  var tooltipTriggerToInt = function(v) {
    if (v instanceof OnHover) {
      return 0;
    }
    ;
    if (v instanceof WhenPrimary) {
      return 1;
    }
    ;
    if (v instanceof WhenRelated) {
      return 2;
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 713, column 23 - line 716, column 19): " + [v.constructor.name]);
  };
  var interactionStateToInt = function(v) {
    if (v instanceof Primary2) {
      return 0;
    }
    ;
    if (v instanceof Related2) {
      return 1;
    }
    ;
    if (v instanceof Selected) {
      return 2;
    }
    ;
    if (v instanceof Dimmed2) {
      return 3;
    }
    ;
    if (v instanceof Neutral2) {
      return 4;
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 720, column 25 - line 725, column 18): " + [v.constructor.name]);
  };
  var highlightClassToInt = function(v) {
    if (v instanceof Primary) {
      return 0;
    }
    ;
    if (v instanceof Related) {
      return 1;
    }
    ;
    if (v instanceof Dimmed) {
      return 2;
    }
    ;
    if (v instanceof Neutral) {
      return 3;
    }
    ;
    if (v instanceof Upstream) {
      return 4;
    }
    ;
    if (v instanceof Downstream) {
      return 5;
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 702, column 23 - line 708, column 21): " + [v.constructor.name]);
  };
  var enumerateDFS = function(root) {
    return function(getChildren) {
      return function(includeInternal) {
        var go2 = function(node) {
          var children2 = getChildren(node);
          var isLeaf = $$null(children2);
          var childResults = concatMap(go2)(children2);
          var $77 = isLeaf || includeInternal;
          if ($77) {
            return append3([node])(childResults);
          }
          ;
          return childResults;
        };
        return go2(root);
      };
    };
  };
  var enumerateBFS = function(root) {
    return function(getChildren) {
      return function(includeInternal) {
        var go2 = function(queue) {
          var v = uncons(queue);
          if (v instanceof Nothing) {
            return [];
          }
          ;
          if (v instanceof Just) {
            var children2 = getChildren(v.value0.head);
            var isLeaf = $$null(children2);
            var include = isLeaf || includeInternal;
            var thisNode = (function() {
              if (include) {
                return [v.value0.head];
              }
              ;
              return [];
            })();
            return append3(thisNode)(go2(append3(v.value0.tail)(children2)));
          }
          ;
          throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 555, column 14 - line 562, column 43): " + [v.constructor.name]);
        };
        return go2([root]);
      };
    };
  };
  var runEnumeration = function(v) {
    if (v instanceof FromArray) {
      return v.value0;
    }
    ;
    if (v instanceof FromTree) {
      if (v.value0.order instanceof DepthFirst) {
        return enumerateDFS(v.value0.root)(v.value0.children)(v.value0.includeInternal);
      }
      ;
      if (v.value0.order instanceof BreadthFirst) {
        return enumerateBFS(v.value0.root)(v.value0.children)(v.value0.includeInternal);
      }
      ;
      throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 536, column 5 - line 538, column 80): " + [v.value0.order.constructor.name]);
    }
    ;
    if (v instanceof WithContext) {
      return map6(function(v1) {
        return v1.datum;
      })(v.value0);
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 533, column 18 - line 539, column 41): " + [v.constructor.name]);
  };
  var elementTypeToTagName = function(v) {
    if (v instanceof Circle) {
      return "circle";
    }
    ;
    if (v instanceof Rect) {
      return "rect";
    }
    ;
    if (v instanceof Path) {
      return "path";
    }
    ;
    if (v instanceof Line) {
      return "line";
    }
    ;
    if (v instanceof Polygon) {
      return "polygon";
    }
    ;
    if (v instanceof Text) {
      return "text";
    }
    ;
    if (v instanceof Group) {
      return "g";
    }
    ;
    if (v instanceof SVG) {
      return "svg";
    }
    ;
    if (v instanceof Defs) {
      return "defs";
    }
    ;
    if (v instanceof LinearGradient) {
      return "linearGradient";
    }
    ;
    if (v instanceof Stop) {
      return "stop";
    }
    ;
    if (v instanceof PatternFill) {
      return "pattern";
    }
    ;
    if (v instanceof Div) {
      return "div";
    }
    ;
    if (v instanceof Span) {
      return "span";
    }
    ;
    if (v instanceof Table) {
      return "table";
    }
    ;
    if (v instanceof Tr) {
      return "tr";
    }
    ;
    if (v instanceof Td) {
      return "td";
    }
    ;
    if (v instanceof Th) {
      return "th";
    }
    ;
    if (v instanceof Tbody) {
      return "tbody";
    }
    ;
    if (v instanceof Thead) {
      return "thead";
    }
    ;
    if (v instanceof Code) {
      return "code";
    }
    ;
    if (v instanceof Var) {
      return "var";
    }
    ;
    if (v instanceof Dfn) {
      return "dfn";
    }
    ;
    if (v instanceof Dl) {
      return "dl";
    }
    ;
    if (v instanceof Dt) {
      return "dt";
    }
    ;
    if (v instanceof Dd) {
      return "dd";
    }
    ;
    if (v instanceof Ol) {
      return "ol";
    }
    ;
    if (v instanceof Ul) {
      return "ul";
    }
    ;
    if (v instanceof Li) {
      return "li";
    }
    ;
    if (v instanceof Small) {
      return "small";
    }
    ;
    if (v instanceof Em) {
      return "em";
    }
    ;
    if (v instanceof Strong) {
      return "strong";
    }
    ;
    if (v instanceof Anchor) {
      return "a";
    }
    ;
    if (v instanceof P) {
      return "p";
    }
    ;
    if (v instanceof Pre) {
      return "pre";
    }
    ;
    if (v instanceof Section) {
      return "section";
    }
    ;
    if (v instanceof Mark) {
      return "mark";
    }
    ;
    if (v instanceof Abbr) {
      return "abbr";
    }
    ;
    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 592, column 24 - line 630, column 17): " + [v.constructor.name]);
  };
  var clearChildren = function(el) {
    return function __do2() {
      var children2 = getChildElements(el)();
      return traverse_2(removeElement)(children2)();
    };
  };
  var attachClickWithModifierPurs = function(el) {
    return function(plainHandler) {
      return function(modifierHandler) {
        return function __do2() {
          var listener = eventListener(function(event) {
            return function __do3() {
              stopPropagation(event)();
              var v = fromEvent(event);
              if (v instanceof Just) {
                var hasModifier = metaKey(v.value0) || (ctrlKey(v.value0) || shiftKey(v.value0));
                if (hasModifier) {
                  return modifierHandler(unit)();
                }
                ;
                return plainHandler(unit)();
              }
              ;
              if (v instanceof Nothing) {
                return plainHandler(unit)();
              }
              ;
              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 686, column 5 - line 695, column 26): " + [v.constructor.name]);
            };
          })();
          addEventListener("click")(listener)(false)(toEventTarget(el))();
          return setCursorPointer(el)();
        };
      };
    };
  };
  var appendTo = function(p) {
    return function(child) {
      return function __do2() {
        appendChild(toNode(child))(toNode(p))();
        return unit;
      };
    };
  };
  var rerenderTree = function(doc) {
    return function(parent2) {
      return function(tree) {
        var mkUpdateTransition = function(el) {
          return function(duration2) {
            return function(delay) {
              return function(easing) {
                return function(v) {
                  if (v instanceof StaticAttr) {
                    return function __do2() {
                      var fromStr = getAttribute(el)(v.value0)();
                      var $93 = {
                        from: fromString(fromStr),
                        to: fromString(v.value1)
                      };
                      if ($93.from instanceof Just && ($93.to instanceof Just && $93.from.value0 !== $93.to.value0)) {
                        return new Just({
                          attrName: v.value0,
                          from: $93.from.value0,
                          to: $93.to.value0,
                          elapsed: 0,
                          duration: duration2,
                          delay,
                          easing
                        });
                      }
                      ;
                      return Nothing.value;
                    };
                  }
                  ;
                  if (v instanceof ThunkedAttr) {
                    return function __do2() {
                      var fromStr = getAttribute(el)(v.value0)();
                      var toNum = fromString(v.value1(unit));
                      var $100 = {
                        from: fromString(fromStr),
                        to: toNum
                      };
                      if ($100.from instanceof Just && ($100.to instanceof Just && $100.from.value0 !== $100.to.value0)) {
                        return new Just({
                          attrName: v.value0,
                          from: $100.from.value0,
                          to: $100.to.value0,
                          elapsed: 0,
                          duration: duration2,
                          delay,
                          easing
                        });
                      }
                      ;
                      return Nothing.value;
                    };
                  }
                  ;
                  throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 463, column 49 - line 476, column 26): " + [v.constructor.name]);
                };
              };
            };
          };
        };
        var mkExitTransition = function(el) {
          return function(duration2) {
            return function(delay) {
              return function(easing) {
                return function(v) {
                  if (v instanceof StaticAttr) {
                    return function __do2() {
                      var fromStr = getAttribute(el)(v.value0)();
                      var $108 = {
                        from: fromString(fromStr),
                        to: fromString(v.value1)
                      };
                      if ($108.from instanceof Just && $108.to instanceof Just) {
                        return new Just({
                          attrName: v.value0,
                          from: $108.from.value0,
                          to: $108.to.value0,
                          elapsed: 0,
                          duration: duration2,
                          delay,
                          easing
                        });
                      }
                      ;
                      return Nothing.value;
                    };
                  }
                  ;
                  if (v instanceof ThunkedAttr) {
                    return function __do2() {
                      var fromStr = getAttribute(el)(v.value0)();
                      var toVal = v.value1(unit);
                      var $115 = {
                        from: fromString(fromStr),
                        to: fromString(toVal)
                      };
                      if ($115.from instanceof Just && $115.to instanceof Just) {
                        return new Just({
                          attrName: v.value0,
                          from: $115.from.value0,
                          to: $115.to.value0,
                          elapsed: 0,
                          duration: duration2,
                          delay,
                          easing
                        });
                      }
                      ;
                      return Nothing.value;
                    };
                  }
                  ;
                  throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 496, column 47 - line 509, column 26): " + [v.constructor.name]);
                };
              };
            };
          };
        };
        var getAttrNum = function(targetName) {
          return function(v) {
            if (v instanceof StaticAttr && v.value0 === targetName) {
              return fromString(v.value1);
            }
            ;
            if (v instanceof ThunkedAttr && v.value0 === targetName) {
              return fromString(v.value1(unit));
            }
            ;
            return Nothing.value;
          };
        };
        var findAttrValue = function(name14) {
          return function(attrs) {
            return findMap(getAttrNum(name14))(attrs);
          };
        };
        var mkEnterTransition = function(duration2) {
          return function(delay) {
            return function(easing) {
              return function(templateAttrs) {
                return function(v) {
                  if (v instanceof StaticAttr) {
                    var toVal = findAttrValue(v.value0)(templateAttrs);
                    var $128 = {
                      from: fromString(v.value1),
                      to: toVal
                    };
                    if ($128.from instanceof Just && $128.to instanceof Just) {
                      return pure2(new Just({
                        attrName: v.value0,
                        from: $128.from.value0,
                        to: $128.to.value0,
                        elapsed: 0,
                        duration: duration2,
                        delay,
                        easing
                      }));
                    }
                    ;
                    return pure2(Nothing.value);
                  }
                  ;
                  if (v instanceof ThunkedAttr) {
                    var fromNum = fromString(v.value1(unit));
                    var toVal = findAttrValue(v.value0)(templateAttrs);
                    var $135 = {
                      from: fromNum,
                      to: toVal
                    };
                    if ($135.from instanceof Just && $135.to instanceof Just) {
                      return pure2(new Just({
                        attrName: v.value0,
                        from: $135.from.value0,
                        to: $135.to.value0,
                        elapsed: 0,
                        duration: duration2,
                        delay,
                        easing
                      }));
                    }
                    ;
                    return pure2(Nothing.value);
                  }
                  ;
                  throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 429, column 59 - line 442, column 26): " + [v.constructor.name]);
                };
              };
            };
          };
        };
        var emptyResult = {
          selections: empty2,
          entering: [],
          updating: [],
          exiting: []
        };
        var createUpdateTransitions = function(el) {
          return function(templateAttrs) {
            return function(phaseSpec) {
              return function(idx) {
                if (phaseSpec.transition instanceof Nothing) {
                  return pure2([]);
                }
                ;
                if (phaseSpec.transition instanceof Just) {
                  var duration2 = unwrap2(phaseSpec.transition.value0.duration);
                  var baseDelay = fromMaybe(0)(map12(unwrap2)(phaseSpec.transition.value0.delay));
                  var staggerDelay = fromMaybe(0)(phaseSpec.transition.value0.staggerDelay);
                  var delay = baseDelay + staggerDelay * toNumber(idx);
                  var easing = toTickEasing(phaseSpec.transition.value0.easing);
                  return map23(catMaybes)(traverse2(mkUpdateTransition(el)(duration2)(delay)(easing))(templateAttrs));
                }
                ;
                throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 451, column 5 - line 459, column 97): " + [phaseSpec.transition.constructor.name]);
              };
            };
          };
        };
        var createExitTransitions = function(el) {
          return function(phaseSpec) {
            return function(idx) {
              if (phaseSpec.transition instanceof Nothing) {
                return pure2([]);
              }
              ;
              if (phaseSpec.transition instanceof Just) {
                var duration2 = unwrap2(phaseSpec.transition.value0.duration);
                var baseDelay = fromMaybe(0)(map12(unwrap2)(phaseSpec.transition.value0.delay));
                var staggerDelay = fromMaybe(0)(phaseSpec.transition.value0.staggerDelay);
                var delay = baseDelay + staggerDelay * toNumber(idx);
                var easing = toTickEasing(phaseSpec.transition.value0.easing);
                return map23(catMaybes)(traverse2(mkExitTransition(el)(duration2)(delay)(easing))(phaseSpec.attrs));
              }
              ;
              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 484, column 5 - line 492, column 97): " + [phaseSpec.transition.constructor.name]);
            };
          };
        };
        var createEnterTransitions = function(el) {
          return function(templateAttrs) {
            return function(phaseSpec) {
              return function(idx) {
                if (phaseSpec.transition instanceof Nothing) {
                  return pure2([]);
                }
                ;
                if (phaseSpec.transition instanceof Just) {
                  var duration2 = unwrap2(phaseSpec.transition.value0.duration);
                  var baseDelay = fromMaybe(0)(map12(unwrap2)(phaseSpec.transition.value0.delay));
                  var staggerDelay = fromMaybe(0)(phaseSpec.transition.value0.staggerDelay);
                  var delay = baseDelay + staggerDelay * toNumber(idx);
                  var easing = toTickEasing(phaseSpec.transition.value0.easing);
                  return map23(catMaybes)(traverse2(mkEnterTransition(duration2)(delay)(easing)(templateAttrs))(phaseSpec.attrs));
                }
                ;
                throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 417, column 5 - line 425, column 109): " + [phaseSpec.transition.constructor.name]);
              };
            };
          };
        };
        var combineResults = function(a) {
          return function(b) {
            return {
              selections: union3(a.selections)(b.selections),
              entering: append3(a.entering)(b.entering),
              updating: append3(a.updating)(b.updating),
              exiting: append3(a.exiting)(b.exiting)
            };
          };
        };
        var applyIfNonNumeric = function(el) {
          return function(v) {
            if (v instanceof StaticAttr) {
              var v1 = fromString(v.value1);
              if (v1 instanceof Just) {
                return pure2(unit);
              }
              ;
              if (v1 instanceof Nothing) {
                return setAttribute(el)(v.value0)(v.value1);
              }
              ;
              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 350, column 7 - line 352, column 46): " + [v1.constructor.name]);
            }
            ;
            if (v instanceof ThunkedAttr) {
              var value12 = v.value1(unit);
              var v1 = fromString(value12);
              if (v1 instanceof Just) {
                return pure2(unit);
              }
              ;
              if (v1 instanceof Nothing) {
                return setAttribute(el)(v.value0)(value12);
              }
              ;
              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 355, column 10 - line 357, column 46): " + [v1.constructor.name]);
            }
            ;
            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 348, column 26 - line 357, column 46): " + [v.constructor.name]);
          };
        };
        var applyNonNumericAttrs = function(el) {
          return function(attrs) {
            return function __do2() {
              traverse2(applyIfNonNumeric(el))(attrs)();
              return unit;
            };
          };
        };
        var applyBehavior = function(el) {
          return function(v) {
            if (v instanceof ThunkedMouseEnter) {
              return attachMouseEnterThunked(el)(v.value0);
            }
            ;
            if (v instanceof ThunkedMouseLeave) {
              return attachMouseLeaveThunked(el)(v.value0);
            }
            ;
            if (v instanceof ThunkedClick) {
              return attachClickThunked(el)(v.value0);
            }
            ;
            if (v instanceof ThunkedClickWithModifier) {
              return attachClickWithModifierPurs(el)(v.value0)(v.value1);
            }
            ;
            if (v instanceof ThunkedDrag && v.value0 instanceof SimpleDrag) {
              return attachSimpleDrag(el);
            }
            ;
            if (v instanceof ThunkedDrag && v.value0 instanceof SimulationDrag) {
              return attachSimulationDragById(el)(v.value0.value0);
            }
            ;
            if (v instanceof ThunkedDrag && v.value0 instanceof SimulationDragNested) {
              return attachSimulationDragNestedById(el)(v.value0.value0);
            }
            ;
            if (v instanceof ThunkedZoom) {
              return attachZoom(el)(v.value0.scaleExtent.value0)(v.value0.scaleExtent.value1)(v.value0.targetSelector);
            }
            ;
            if (v instanceof ThunkedCoordinatedHighlight) {
              var triggerAsInt = tooltipTriggerToInt(v.value0.tooltipTrigger);
              var classifyAsInt = function(hoveredId) {
                return highlightClassToInt(v.value0.classify(hoveredId));
              };
              return attachCoordinatedHighlightThunked(el)(v.value0.identify)(classifyAsInt)(toNullable(v.value0.group))(toNullable(v.value0.tooltipContent))(triggerAsInt);
            }
            ;
            if (v instanceof ThunkedCoordinatedInteraction) {
              var respondToHover = function(hoveredId) {
                return interactionStateToInt(v.value0.respond(new HoverTrigger(hoveredId)));
              };
              var respondToClear = function(v1) {
                return interactionStateToInt(v.value0.respond(ClearTrigger.value));
              };
              var respondToBrush = function(box) {
                return interactionStateToInt(v.value0.respond(new BrushTrigger(box)));
              };
              return attachCoordinatedInteractionThunked(el)(v.value0.identify)(respondToHover)(respondToBrush)(respondToClear)(v.value0.position)(toNullable(v.value0.group));
            }
            ;
            if (v instanceof ThunkedBrush) {
              return $$void3(attachCoordinatedBrushThunked(el)(v.value0.extent)(toNullable(v.value0.group)));
            }
            ;
            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 369, column 22 - line 404, column 86): " + [v.constructor.name]);
          };
        };
        var applyBehaviors = function(el) {
          return function(behaviors) {
            return function __do2() {
              traverse2(applyBehavior(el))(behaviors)();
              return unit;
            };
          };
        };
        var applyAttr = function(el) {
          return function(v) {
            if (v instanceof StaticAttr) {
              return setAttribute(el)(v.value0)(v.value1);
            }
            ;
            if (v instanceof ThunkedAttr) {
              return setAttribute(el)(v.value0)(v.value1(unit));
            }
            ;
            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 338, column 18 - line 340, column 64): " + [v.constructor.name]);
          };
        };
        var applyAttrs = function(el) {
          return function(attrs) {
            return function __do2() {
              traverse2(applyAttr(el))(attrs)();
              return unit;
            };
          };
        };
        var renderEnteringItem = function(p) {
          return function(foldName) {
            return function(keyFn) {
              return function(template) {
                return function(gupSpec) {
                  return function(idx) {
                    return function(datum) {
                      var itemTree = template(datum);
                      var key = keyFn(datum);
                      if (itemTree instanceof Elem) {
                        return function __do2() {
                          var el = createElementWithNS(itemTree.value0.elemType)(doc)();
                          appendTo(p)(el)();
                          setKey(el)(key)();
                          setFoldName(el)(foldName)();
                          bindDatum(el)(datum)();
                          applyAttrs(el)(itemTree.value0.attrs)();
                          var transitions = (function() {
                            if (gupSpec instanceof Just) {
                              if (gupSpec.value0.enter instanceof Just) {
                                var ts = createEnterTransitions(el)(itemTree.value0.attrs)(gupSpec.value0.enter.value0)(idx)();
                                applyAttrs(el)(gupSpec.value0.enter.value0.attrs)();
                                return new Just({
                                  element: el,
                                  attrs: ts
                                });
                              }
                              ;
                              if (gupSpec.value0.enter instanceof Nothing) {
                                return Nothing.value;
                              }
                              ;
                              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 285, column 22 - line 290, column 36): " + [gupSpec.value0.enter.constructor.name]);
                            }
                            ;
                            if (gupSpec instanceof Nothing) {
                              return Nothing.value;
                            }
                            ;
                            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 284, column 24 - line 291, column 34): " + [gupSpec.constructor.name]);
                          })();
                          applyBehaviors(el)(itemTree.value0.behaviors)();
                          var childMaps = traverse2(goWithDatum(el))(itemTree.value0.children)();
                          return {
                            element: el,
                            childSelections: foldl2(union3)(empty2)(map6(function(v) {
                              return v.selections;
                            })(childMaps)),
                            transitions
                          };
                        };
                      }
                      ;
                      return function __do2() {
                        var el = createElementWithNS(Group.value)(doc)();
                        return {
                          element: el,
                          childSelections: empty2,
                          transitions: Nothing.value
                        };
                      };
                    };
                  };
                };
              };
            };
          };
        };
        var goWithDatum = function(p) {
          return function(v) {
            if (v instanceof Empty) {
              return pure2(emptyResult);
            }
            ;
            if (v instanceof Elem) {
              return function __do2() {
                var el = createElementWithNS(v.value0.elemType)(doc)();
                appendTo(p)(el)();
                applyAttrs(el)(v.value0.attrs)();
                applyBehaviors(el)(v.value0.behaviors)();
                var childResults = traverse2(goWithDatum(el))(v.value0.children)();
                return foldl2(combineResults)(emptyResult)(childResults);
              };
            }
            ;
            if (v instanceof MkFold) {
              return runSomeFold(v.value0)(function(foldSpec) {
                var items = runEnumeration(foldSpec.enumerate);
                return function __do2() {
                  var results = traverseWithIndex2(renderEnteringItem(p)(foldSpec.name)(foldSpec.keyFn)(foldSpec.template)(foldSpec.gup))(items)();
                  var elements = map6(function(v1) {
                    return v1.element;
                  })(results);
                  var childMaps = foldl2(union3)(empty2)(map6(function(v1) {
                    return v1.childSelections;
                  })(results));
                  return {
                    selections: insert3(foldSpec.name)(elements)(childMaps),
                    entering: [catMaybes(map6(function(v1) {
                      return v1.transitions;
                    })(results))],
                    updating: [],
                    exiting: []
                  };
                };
              });
            }
            ;
            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 307, column 19 - line 326, column 10): " + [v.constructor.name]);
          };
        };
        var processChildren = function(p) {
          return function(children2) {
            var processChild = function(v) {
              return function(child) {
                return function __do2() {
                  var v1 = goWithDomIdx(p)(v.domIdx)(child)();
                  return {
                    result: combineResults(v.result)(v1.result),
                    domIdx: v.domIdx + v1.elementsCreated | 0
                  };
                };
              };
            };
            return function __do2() {
              var v = foldM2(processChild)({
                result: emptyResult,
                domIdx: 0
              })(children2)();
              return v.result;
            };
          };
        };
        var goWithDomIdx = function(p) {
          return function(domIdx) {
            return function(v) {
              if (v instanceof Empty) {
                return pure2({
                  result: emptyResult,
                  elementsCreated: 0
                });
              }
              ;
              if (v instanceof Elem) {
                return function __do2() {
                  var existingChildren = getChildElements(p)();
                  var el = (function() {
                    var v1 = index(existingChildren)(domIdx);
                    if (v1 instanceof Just) {
                      applyAttrs(v1.value0)(v.value0.attrs)();
                      applyBehaviors(v1.value0)(v.value0.behaviors)();
                      return v1.value0;
                    }
                    ;
                    if (v1 instanceof Nothing) {
                      var el2 = createElementWithNS(v.value0.elemType)(doc)();
                      appendTo(p)(el2)();
                      applyAttrs(el2)(v.value0.attrs)();
                      applyBehaviors(el2)(v.value0.behaviors)();
                      return el2;
                    }
                    ;
                    throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 140, column 13 - line 150, column 18): " + [v1.constructor.name]);
                  })();
                  var childResult = processChildren(el)(v.value0.children)();
                  return {
                    result: childResult,
                    elementsCreated: 1
                  };
                };
              }
              ;
              if (v instanceof MkFold) {
                return runSomeFold(v.value0)(function(spec) {
                  var items = runEnumeration(spec.enumerate);
                  var newKeys = fromFoldable4(map6(spec.keyFn)(items));
                  var tagName2 = elementTypeToTagName(spec.elementType);
                  return function __do2() {
                    var existingEls = getChildElementsForFold(p)(tagName2)(spec.name)();
                    var existingKeysAndEls = traverse2(function(el) {
                      return function __do3() {
                        var k = getKey(el)();
                        return {
                          key: k,
                          element: el
                        };
                      };
                    })(existingEls)();
                    var existingKeys = fromFoldable4(map6(function(v1) {
                      return v1.key;
                    })(existingKeysAndEls));
                    var enterKeys = difference3(newKeys)(existingKeys);
                    var updateKeys = intersection3(newKeys)(existingKeys);
                    var exitKeys = difference3(existingKeys)(newKeys);
                    var exitTransitions = traverseWithIndex2(function(exitIdx) {
                      return function(v1) {
                        var $203 = member3(v1.key)(exitKeys);
                        if ($203) {
                          if (spec.gup instanceof Just) {
                            if (spec.gup.value0.exit instanceof Just) {
                              return function __do3() {
                                var transitions = createExitTransitions(v1.element)(spec.gup.value0.exit.value0)(exitIdx)();
                                applyNonNumericAttrs(v1.element)(spec.gup.value0.exit.value0.attrs)();
                                return new Just({
                                  element: v1.element,
                                  attrs: transitions
                                });
                              };
                            }
                            ;
                            if (spec.gup.value0.exit instanceof Nothing) {
                              return function __do3() {
                                removeElement(v1.element)();
                                return Nothing.value;
                              };
                            }
                            ;
                            throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 175, column 29 - line 184, column 29): " + [spec.gup.value0.exit.constructor.name]);
                          }
                          ;
                          if (spec.gup instanceof Nothing) {
                            return function __do3() {
                              removeElement(v1.element)();
                              return Nothing.value;
                            };
                          }
                          ;
                          throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 174, column 16 - line 187, column 27): " + [spec.gup.constructor.name]);
                        }
                        ;
                        return pure2(Nothing.value);
                      };
                    })(existingKeysAndEls)();
                    var updateTransitions = traverseWithIndex2(function(updateIdx) {
                      return function(v1) {
                        var $211 = member3(v1.key)(updateKeys);
                        if ($211) {
                          var v2 = find2(function(d) {
                            return spec.keyFn(d) === v1.key;
                          })(items);
                          if (v2 instanceof Just) {
                            return function __do3() {
                              bindDatum(v1.element)(v2.value0)();
                              var templateTree = spec.template(v2.value0);
                              var templateAttrs = (function() {
                                if (templateTree instanceof Elem) {
                                  return templateTree.value0.attrs;
                                }
                                ;
                                return [];
                              })();
                              var templateChildren = (function() {
                                if (templateTree instanceof Elem) {
                                  return templateTree.value0.children;
                                }
                                ;
                                return [];
                              })();
                              if (spec.gup instanceof Just) {
                                if (spec.gup.value0.update instanceof Just) {
                                  applyNonNumericAttrs(v1.element)(templateAttrs)();
                                  var transitions = createUpdateTransitions(v1.element)(templateAttrs)(spec.gup.value0.update.value0)(updateIdx)();
                                  clearChildren(v1.element)();
                                  traverse2(goWithDatum(v1.element))(templateChildren)();
                                  return new Just({
                                    element: v1.element,
                                    attrs: transitions
                                  });
                                }
                                ;
                                if (spec.gup.value0.update instanceof Nothing) {
                                  applyAttrs(v1.element)(templateAttrs)();
                                  clearChildren(v1.element)();
                                  traverse2(goWithDatum(v1.element))(templateChildren)();
                                  return Nothing.value;
                                }
                                ;
                                throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 207, column 33 - line 220, column 33): " + [spec.gup.value0.update.constructor.name]);
                              }
                              ;
                              if (spec.gup instanceof Nothing) {
                                applyAttrs(v1.element)(templateAttrs)();
                                clearChildren(v1.element)();
                                traverse2(goWithDatum(v1.element))(templateChildren)();
                                return Nothing.value;
                              }
                              ;
                              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 206, column 15 - line 226, column 31): " + [spec.gup.constructor.name]);
                            };
                          }
                          ;
                          if (v2 instanceof Nothing) {
                            return pure2(Nothing.value);
                          }
                          ;
                          throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 194, column 16 - line 227, column 36): " + [v2.constructor.name]);
                        }
                        ;
                        return pure2(Nothing.value);
                      };
                    })(existingKeysAndEls)();
                    var enterItems = filter(function(d) {
                      return member3(spec.keyFn(d))(enterKeys);
                    })(items);
                    var enterResults = traverseWithIndex2(renderEnteringItem(p)(spec.name)(spec.keyFn)(spec.template)(spec.gup))(enterItems)();
                    var updateElements = map6(function(v1) {
                      return v1.element;
                    })(filter(function(v1) {
                      return member3(v1.key)(updateKeys);
                    })(existingKeysAndEls));
                    var enterElements = map6(function(v1) {
                      return v1.element;
                    })(enterResults);
                    var childMaps = foldl2(union3)(empty2)(map6(function(v1) {
                      return v1.childSelections;
                    })(enterResults));
                    var selections = insert3(spec.name)(append3(updateElements)(enterElements))(childMaps);
                    var totalElements = length(updateElements) + length(enterElements) | 0;
                    return {
                      result: {
                        selections,
                        entering: [catMaybes(map6(function(v1) {
                          return v1.transitions;
                        })(enterResults))],
                        updating: [catMaybes(updateTransitions)],
                        exiting: [catMaybes(exitTransitions)]
                      },
                      elementsCreated: totalElements
                    };
                  };
                });
              }
              ;
              throw new Error("Failed pattern match at Hylograph.HATS.InterpreterTick (line 135, column 27 - line 251, column 10): " + [v.constructor.name]);
            };
          };
        };
        return function __do2() {
          var v = goWithDomIdx(parent2)(0)(tree)();
          var allEntering = concat(v.result.entering);
          var allUpdating = concat(v.result.updating);
          var allExiting = concat(v.result.exiting);
          var hasTransitions = !($$null(allEntering) && ($$null(allUpdating) && $$null(allExiting)));
          return {
            selections: v.result.selections,
            transitions: (function() {
              if (hasTransitions) {
                return new Just({
                  entering: allEntering,
                  updating: allUpdating,
                  exiting: allExiting
                });
              }
              ;
              return Nothing.value;
            })()
          };
        };
      };
    };
  };
  var rerender = function(selector) {
    return function(tree) {
      return function __do2() {
        var doc = (function __do3() {
          var $234 = bind2(windowImpl)(document2)();
          return toDocument($234);
        })();
        var container = selectElement(selector)(doc)();
        return rerenderTree(doc)(container)(tree)();
      };
    };
  };

  // output/Hylograph.Sigil.Color/index.js
  var member4 = /* @__PURE__ */ member2(ordString);
  var nub2 = /* @__PURE__ */ nub(ordString);
  var mod3 = /* @__PURE__ */ mod(euclideanRingInt);
  var fromFoldable5 = /* @__PURE__ */ fromFoldable(ordString)(foldableArray);
  var typeVarPalette = ["#0284c7", "#d97706", "#059669", "#7c3aed", "#dc2626", "#0d9488", "#c026d3", "#4f46e5"];
  var effectNames = /* @__PURE__ */ fromFoldable2(foldableArray)(ordString)(["Effect", "Aff", "MonadAff", "MonadEffect"]);
  var isEffectName = function(name14) {
    return member4(name14)(effectNames);
  };
  var assignVarColors = function(vars) {
    var unique = nub2(vars);
    var paletteLen = length(typeVarPalette);
    var pairs = mapWithIndex2(function(i) {
      return function(v) {
        return new Tuple(v, fromMaybe("#0369a1")(index(typeVarPalette)(mod3(i)(paletteLen))));
      };
    })(unique);
    return fromFoldable5(pairs);
  };

  // output/Hylograph.Sigil.Types/index.js
  var TVar = /* @__PURE__ */ (function() {
    function TVar2(value0) {
      this.value0 = value0;
    }
    ;
    TVar2.create = function(value0) {
      return new TVar2(value0);
    };
    return TVar2;
  })();
  var TCon = /* @__PURE__ */ (function() {
    function TCon2(value0) {
      this.value0 = value0;
    }
    ;
    TCon2.create = function(value0) {
      return new TCon2(value0);
    };
    return TCon2;
  })();
  var TApp = /* @__PURE__ */ (function() {
    function TApp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TApp2.create = function(value0) {
      return function(value1) {
        return new TApp2(value0, value1);
      };
    };
    return TApp2;
  })();
  var TArrow = /* @__PURE__ */ (function() {
    function TArrow2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TArrow2.create = function(value0) {
      return function(value1) {
        return new TArrow2(value0, value1);
      };
    };
    return TArrow2;
  })();
  var TConstrained = /* @__PURE__ */ (function() {
    function TConstrained2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TConstrained2.create = function(value0) {
      return function(value1) {
        return new TConstrained2(value0, value1);
      };
    };
    return TConstrained2;
  })();
  var TForall = /* @__PURE__ */ (function() {
    function TForall2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TForall2.create = function(value0) {
      return function(value1) {
        return new TForall2(value0, value1);
      };
    };
    return TForall2;
  })();
  var TRecord = /* @__PURE__ */ (function() {
    function TRecord2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TRecord2.create = function(value0) {
      return function(value1) {
        return new TRecord2(value0, value1);
      };
    };
    return TRecord2;
  })();
  var TRow = /* @__PURE__ */ (function() {
    function TRow2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TRow2.create = function(value0) {
      return function(value1) {
        return new TRow2(value0, value1);
      };
    };
    return TRow2;
  })();
  var TParens = /* @__PURE__ */ (function() {
    function TParens2(value0) {
      this.value0 = value0;
    }
    ;
    TParens2.create = function(value0) {
      return new TParens2(value0);
    };
    return TParens2;
  })();
  var TKinded = /* @__PURE__ */ (function() {
    function TKinded2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TKinded2.create = function(value0) {
      return function(value1) {
        return new TKinded2(value0, value1);
      };
    };
    return TKinded2;
  })();
  var TString = /* @__PURE__ */ (function() {
    function TString2(value0) {
      this.value0 = value0;
    }
    ;
    TString2.create = function(value0) {
      return new TString2(value0);
    };
    return TString2;
  })();
  var TWildcard = /* @__PURE__ */ (function() {
    function TWildcard2() {
    }
    ;
    TWildcard2.value = new TWildcard2();
    return TWildcard2;
  })();
  var TOperator = /* @__PURE__ */ (function() {
    function TOperator2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    TOperator2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new TOperator2(value0, value1, value22);
        };
      };
    };
    return TOperator2;
  })();

  // output/Hylograph.Sigil.Text/index.js
  var union4 = /* @__PURE__ */ union2(ordString);
  var insert4 = /* @__PURE__ */ insert2(ordString);
  var fieldVars = function(fields) {
    return function(tail2) {
      var fv = foldl2(function(acc) {
        return function(f) {
          return union4(acc)(collectTypeVars(f.value));
        };
      })(empty3)(fields);
      if (tail2 instanceof Just) {
        return insert4(tail2.value0)(fv);
      }
      ;
      if (tail2 instanceof Nothing) {
        return fv;
      }
      ;
      throw new Error("Failed pattern match at Hylograph.Sigil.Text (line 94, column 6 - line 96, column 18): " + [tail2.constructor.name]);
    };
  };
  var collectTypeVars = function(v) {
    if (v instanceof TVar) {
      return singleton5(v.value0);
    }
    ;
    if (v instanceof TCon) {
      return empty3;
    }
    ;
    if (v instanceof TApp) {
      return foldl2(function(acc) {
        return function(a) {
          return union4(acc)(collectTypeVars(a));
        };
      })(collectTypeVars(v.value0))(v.value1);
    }
    ;
    if (v instanceof TArrow) {
      return union4(collectTypeVars(v.value0))(collectTypeVars(v.value1));
    }
    ;
    if (v instanceof TConstrained) {
      var cVars = foldl2(function(acc) {
        return function(c) {
          return foldl2(function(a2) {
            return function(a) {
              return union4(a2)(collectTypeVars(a));
            };
          })(acc)(c.args);
        };
      })(empty3)(v.value0);
      return union4(cVars)(collectTypeVars(v.value1));
    }
    ;
    if (v instanceof TForall) {
      return collectTypeVars(v.value1);
    }
    ;
    if (v instanceof TRecord) {
      return fieldVars(v.value0)(v.value1);
    }
    ;
    if (v instanceof TRow) {
      return fieldVars(v.value0)(v.value1);
    }
    ;
    if (v instanceof TParens) {
      return collectTypeVars(v.value0);
    }
    ;
    if (v instanceof TKinded) {
      return collectTypeVars(v.value0);
    }
    ;
    if (v instanceof TString) {
      return empty3;
    }
    ;
    if (v instanceof TWildcard) {
      return empty3;
    }
    ;
    if (v instanceof TOperator) {
      return union4(collectTypeVars(v.value0))(collectTypeVars(v.value2));
    }
    ;
    throw new Error("Failed pattern match at Hylograph.Sigil.Text (line 73, column 19 - line 88, column 71): " + [v.constructor.name]);
  };
  var collectArrowParams = function(v) {
    if (v instanceof TArrow) {
      return cons(v.value0)(collectArrowParams(v.value1));
    }
    ;
    return [v];
  };

  // output/CE2.Viz.SignatureTree/index.js
  var lookup2 = /* @__PURE__ */ lookup(ordString);
  var append1 = /* @__PURE__ */ append(semigroupArray);
  var mapFlipped2 = /* @__PURE__ */ mapFlipped(functorArray);
  var toUnfoldable4 = /* @__PURE__ */ toUnfoldable2(unfoldableArray);
  var eq12 = /* @__PURE__ */ eq(/* @__PURE__ */ eqMaybe(eqString));
  var nub3 = /* @__PURE__ */ nub(ordString);
  var varPill = function(ctx) {
    return function(name14) {
      var color = fromMaybe("#0369a1")(lookup2(name14)(ctx.varColors));
      return elem2(Var.value)([staticStr("class")("sig-var"), staticStr("style")("--vc:" + color), staticStr("textContent")(name14)])([]);
    };
  };
  var renderSigletTypeTree = function(ctx) {
    return function(v) {
      if (v instanceof TVar) {
        var $26 = length3(v.value0) > 1;
        if ($26) {
          var color = fromMaybe("#0369a1")(lookup2(v.value0)(ctx.varColors));
          return elem2(Var.value)([staticStr("class")("sig-dot sig-dot-var"), staticStr("style")("background:" + color)])([]);
        }
        ;
        return varPill(ctx)(v.value0);
      }
      ;
      if (v instanceof TCon) {
        var $28 = isEffectName(v.value0);
        if ($28) {
          return elem2(Small.value)([staticStr("class")("sig-dot sig-dot-effect")])([]);
        }
        ;
        return elem2(Small.value)([staticStr("class")("sig-dot sig-dot-con")])([]);
      }
      ;
      if (v instanceof TApp) {
        var isHkt = (function() {
          if (v.value0 instanceof TVar) {
            return true;
          }
          ;
          return false;
        })();
        var inner = append1([renderSigletTypeTree(ctx)(v.value0)])(mapFlipped2(v.value1)(renderSigletTypeTree(ctx)));
        var cls = (function() {
          if (isHkt) {
            return "sig-app sig-hkt";
          }
          ;
          return "sig-app";
        })();
        return elem2(Code.value)([staticStr("class")(cls)])(inner);
      }
      ;
      if (v instanceof TArrow) {
        var params = collectArrowParams(new TArrow(v.value0, v.value1));
        return elem2(Ol.value)([staticStr("class")("sig-arrow-chain")])(mapFlipped2(params)(function(p) {
          return elem2(Li.value)([staticStr("class")("sig-param")])([renderSigletTypeTree(ctx)(p)]);
        }));
      }
      ;
      if (v instanceof TForall) {
        return renderSigletTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TConstrained) {
        return renderSigletTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TParens) {
        return elem2(Code.value)([staticStr("class")("sig-app")])([elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")("(")])([]), renderSigletTypeTree(ctx)(v.value0), elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")(")")])([])]);
      }
      ;
      if (v instanceof TRecord) {
        return elem2(Small.value)([staticStr("class")("sig-dot sig-dot-con")])([]);
      }
      ;
      if (v instanceof TRow) {
        return elem2(Small.value)([staticStr("class")("sig-dot sig-dot-con")])([]);
      }
      ;
      if (v instanceof TOperator) {
        return elem2(Code.value)([staticStr("class")("sig-app")])([renderSigletTypeTree(ctx)(v.value0), elem2(Small.value)([staticStr("class")("sig-op"), staticStr("textContent")(v.value1)])([]), renderSigletTypeTree(ctx)(v.value2)]);
      }
      ;
      if (v instanceof TKinded) {
        return renderSigletTypeTree(ctx)(v.value0);
      }
      ;
      if (v instanceof TString) {
        return elem2(Code.value)([staticStr("class")("sig-string"), staticStr("textContent")('""')])([]);
      }
      ;
      if (v instanceof TWildcard) {
        return elem2(Var.value)([staticStr("class")("sig-dot sig-dot-var sig-wildcard")])([]);
      }
      ;
      throw new Error("Failed pattern match at CE2.Viz.SignatureTree (line 398, column 28 - line 461, column 71): " + [v.constructor.name]);
    };
  };
  var sigletTree = function(v) {
    var allVars = toUnfoldable4(collectTypeVars(v.ast));
    var varColors = assignVarColors(allVars);
    var ctx = {
      varColors
    };
    return elem2(Code.value)([staticStr("class")("sig-siglet")])([renderSigletTypeTree(ctx)(v.ast)]);
  };
  var renderSigletInto = function(selector) {
    return function(config) {
      return function __do2() {
        rerender(selector)(sigletTree(config))();
        return unit;
      };
    };
  };
  var peelSignature = function(v) {
    if (v instanceof TForall) {
      var rest = peelSignature(v.value1);
      return {
        constraints: rest.constraints,
        body: rest.body,
        forallVars: append1(v.value0)(rest.forallVars)
      };
    }
    ;
    if (v instanceof TConstrained) {
      var rest = peelSignature(v.value1);
      return {
        forallVars: rest.forallVars,
        body: rest.body,
        constraints: append1(v.value0)(rest.constraints)
      };
    }
    ;
    return {
      forallVars: [],
      constraints: [],
      body: v
    };
  };
  var collectPlusOperands = function(v) {
    if (v instanceof TOperator && v.value1 === "+") {
      return append1(collectPlusOperands(v.value0))([v.value2]);
    }
    ;
    return [v];
  };
  var wrapParensTree = function(ctx) {
    return function(t) {
      return elem2(Code.value)([staticStr("class")("sig-app")])([elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")("(")])([]), renderTypeTree(ctx)(t), elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")(")")])([])]);
    };
  };
  var renderTypeTree = function(ctx) {
    return function(v) {
      if (v instanceof TVar) {
        return varPill(ctx)(v.value0);
      }
      ;
      if (v instanceof TCon) {
        var $65 = isEffectName(v.value0);
        if ($65) {
          return elem2(Code.value)([staticStr("class")("sig-con sig-con-effect"), staticStr("textContent")(v.value0)])([]);
        }
        ;
        return elem2(Code.value)([staticStr("class")("sig-con"), staticStr("textContent")(v.value0)])([]);
      }
      ;
      if (v instanceof TApp) {
        return renderAppTree(ctx)(v.value0)(v.value1);
      }
      ;
      if (v instanceof TArrow) {
        return renderArrowChainTree(ctx)(collectArrowParams(new TArrow(v.value0, v.value1)));
      }
      ;
      if (v instanceof TForall) {
        return renderForallTree(ctx)(v.value0)(v.value1);
      }
      ;
      if (v instanceof TConstrained) {
        return elem2(Div.value)([staticStr("class")("sig-constrained")])([constraintPile(ctx)(v.value0), renderTypeTree(ctx)(v.value1)]);
      }
      ;
      if (v instanceof TParens) {
        return elem2(Code.value)([staticStr("class")("sig-app")])([elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")("(")])([]), renderTypeTree(ctx)(v.value0), elem2(Small.value)([staticStr("class")("sig-paren"), staticStr("textContent")(")")])([])]);
      }
      ;
      if (v instanceof TRecord) {
        return renderRecordTree(ctx)(v.value0)(v.value1)(false);
      }
      ;
      if (v instanceof TRow) {
        return renderRecordTree(ctx)(v.value0)(v.value1)(true);
      }
      ;
      if (v instanceof TOperator) {
        return elem2(Code.value)([staticStr("class")("sig-app")])([renderTypeTree(ctx)(v.value0), elem2(Small.value)([staticStr("class")("sig-op"), staticStr("textContent")(v.value1)])([]), renderTypeTree(ctx)(v.value2)]);
      }
      ;
      if (v instanceof TKinded) {
        return elem2(Code.value)([staticStr("class")("sig-app")])([renderTypeTree(ctx)(v.value0), elem2(Small.value)([staticStr("class")("sig-sep"), staticStr("textContent")(" :: ")])([]), renderTypeTree(ctx)(v.value1)]);
      }
      ;
      if (v instanceof TString) {
        return elem2(Code.value)([staticStr("class")("sig-string"), staticStr("textContent")('"' + (v.value0 + '"'))])([]);
      }
      ;
      if (v instanceof TWildcard) {
        return elem2(Var.value)([staticStr("class")("sig-var sig-wildcard"), staticStr("textContent")("_")])([]);
      }
      ;
      throw new Error("Failed pattern match at CE2.Viz.SignatureTree (line 196, column 22 - line 251, column 88): " + [v.constructor.name]);
    };
  };
  var renderRowComboTree = function(ctx) {
    return function(operands) {
      var len = length(operands);
      return elem2(Ol.value)([staticStr("class")("sig-row-combo")])(mapWithIndex2(function(i) {
        return function(op) {
          var isLast = i === (len - 1 | 0);
          return elem2(Li.value)([staticStr("class")("sig-combo-item")])(append1([renderTypeTree(ctx)(op)])((function() {
            if (isLast) {
              return [];
            }
            ;
            return [elem2(Small.value)([staticStr("class")("sig-op"), staticStr("textContent")(" +")])([])];
          })()));
        };
      })(operands));
    };
  };
  var renderRecordTree = function(ctx) {
    return function(fields) {
      return function(tail2) {
        return function(isRow) {
          var openClass = (function() {
            if (tail2 instanceof Just) {
              return "sig-record sig-record-open";
            }
            ;
            if (tail2 instanceof Nothing) {
              return "sig-record";
            }
            ;
            throw new Error("Failed pattern match at CE2.Viz.SignatureTree (line 369, column 17 - line 371, column 30): " + [tail2.constructor.name]);
          })();
          var $89 = $$null(fields) && eq12(tail2)(Nothing.value);
          if ($89) {
            return elem2(Code.value)([staticStr("class")("sig-con"), staticStr("textContent")((function() {
              if (isRow) {
                return "()";
              }
              ;
              return "{}";
            })())])([]);
          }
          ;
          return elem2(Dl.value)([staticStr("class")(openClass)])(append1(concatMap(function(f) {
            return [elem2(Dt.value)([staticStr("class")("sig-field-name"), staticStr("textContent")(f.label)])([]), elem2(Dd.value)([staticStr("class")("sig-field-sep"), staticStr("textContent")("::")])([]), elem2(Dd.value)([staticStr("class")("sig-field-type")])([renderTypeTree(ctx)(f.value)])];
          })(fields))((function() {
            if (tail2 instanceof Just) {
              return [elem2(Dt.value)([staticStr("class")("sig-field-name")])([]), elem2(Dd.value)([staticStr("class")("sig-field-sep"), staticStr("textContent")("|")])([]), elem2(Dd.value)([staticStr("class")("sig-row-tail")])([varPill(ctx)(tail2.value0)])];
            }
            ;
            if (tail2 instanceof Nothing) {
              return [];
            }
            ;
            throw new Error("Failed pattern match at CE2.Viz.SignatureTree (line 383, column 10 - line 389, column 25): " + [tail2.constructor.name]);
          })()));
        };
      };
    };
  };
  var renderForallTree = function(ctx) {
    return function(vars) {
      return function(body) {
        return elem2(Div.value)([staticStr("class")("sig-forall")])([elem2(Div.value)([staticStr("class")("sig-forall-row")])(append1([elem2(Small.value)([staticStr("class")("sig-forall-symbol"), staticStr("textContent")("\u2200")])([])])(append1(mapFlipped2(vars)(varPill(ctx)))([elem2(Small.value)([staticStr("class")("sig-forall-dot"), staticStr("textContent")(".")])([])]))), renderTypeTree(ctx)(body)]);
      };
    };
  };
  var renderArrowChainTree = function(ctx) {
    return function(params) {
      return elem2(Ol.value)([staticStr("class")("sig-arrow-chain")])(mapFlipped2(params)(function(p) {
        return elem2(Li.value)([staticStr("class")("sig-param")])([renderTypeTree(ctx)(p)]);
      }));
    };
  };
  var renderAppTree = function(ctx) {
    return function(head3) {
      return function(args) {
        if (head3 instanceof TCon && (head3.value0 === "Record" && (args.length === 1 && args[0] instanceof TRow))) {
          return renderRecordTree(ctx)(args[0].value0)(args[0].value1)(false);
        }
        ;
        if (head3 instanceof TCon && (head3.value0 === "Record" && (args.length === 1 && args[0] instanceof TParens))) {
          var operands = collectPlusOperands(args[0].value0);
          var $99 = length(operands) > 1;
          if ($99) {
            return renderRowComboTree(ctx)(operands);
          }
          ;
          return defaultAppTree(ctx)(head3)(args);
        }
        ;
        return defaultAppTree(ctx)(head3)(args);
      };
    };
  };
  var renderAppArgTree = function(ctx) {
    return function(t) {
      if (t instanceof TApp) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TArrow) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TConstrained) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TForall) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TOperator) {
        return wrapParensTree(ctx)(t);
      }
      ;
      return renderTypeTree(ctx)(t);
    };
  };
  var defaultAppTree = function(ctx) {
    return function(head3) {
      return function(args) {
        var isHkt = (function() {
          if (head3 instanceof TVar) {
            return true;
          }
          ;
          return false;
        })();
        var inner = append1([renderTypeTree(ctx)(head3)])(mapFlipped2(args)(renderAppArgTree(ctx)));
        var cls = (function() {
          if (isHkt) {
            return "sig-app sig-hkt";
          }
          ;
          return "sig-app";
        })();
        return elem2(Code.value)([staticStr("class")(cls)])(inner);
      };
    };
  };
  var constraintPillTree = function(ctx) {
    return function(c) {
      return elem2(Em.value)([staticStr("class")("sig-constraint")])(append1([elem2(Code.value)([staticStr("class")("sig-con"), staticStr("textContent")(c.className)])([])])((function() {
        var $118 = $$null(c.args);
        if ($118) {
          return [];
        }
        ;
        return mapFlipped2(c.args)(renderTypeTree(ctx));
      })()));
    };
  };
  var constraintPile = function(ctx) {
    return function(cs) {
      return elem2(Div.value)([staticStr("class")("sig-constraints")])(mapFlipped2(cs)(constraintPillTree(ctx)));
    };
  };
  var renderCtxItem = function(ctx) {
    return function(c) {
      return elem2(Em.value)([staticStr("class")("sig-ctx-item")])(append1([elem2(Code.value)([staticStr("class")("sig-ctx-class"), staticStr("textContent")(c.className)])([])])((function() {
        var $119 = $$null(c.args);
        if ($119) {
          return [];
        }
        ;
        return mapFlipped2(c.args)(renderTypeTree(ctx));
      })()));
    };
  };
  var renderPreamble = function(ctx) {
    return function(peeled) {
      var hasForall = !$$null(peeled.forallVars);
      var hasConstraints = !$$null(peeled.constraints);
      return elem2(Div.value)([staticStr("class")("sig-preamble")])(append1((function() {
        if (hasForall) {
          return [elem2(Div.value)([staticStr("class")("sig-quant")])(append1([elem2(Small.value)([staticStr("class")("sig-quant-sym"), staticStr("textContent")("\u2200")])([])])(append1(mapFlipped2(peeled.forallVars)(varPill(ctx)))([elem2(Small.value)([staticStr("class")("sig-quant-dot"), staticStr("textContent")(".")])([])])))];
        }
        ;
        return [];
      })())(append1((function() {
        var $121 = hasForall && hasConstraints;
        if ($121) {
          return [elem2(Small.value)([staticStr("class")("sig-leader")])([])];
        }
        ;
        return [];
      })())((function() {
        if (hasConstraints) {
          return [elem2(Div.value)([staticStr("class")("sig-ctx")])(mapFlipped2(peeled.constraints)(renderCtxItem(ctx)))];
        }
        ;
        return [];
      })())));
    };
  };
  var signatureTree = function(v) {
    var peeled = peelSignature(v.ast);
    var hasPreamble = !$$null(peeled.forallVars) || !$$null(peeled.constraints);
    var allVars = append1(toUnfoldable4(collectTypeVars(v.ast)))(append1(peeled.forallVars)(v.typeParams));
    var varColors = assignVarColors(nub3(allVars));
    var ctx = {
      varColors
    };
    return elem2(Code.value)([staticStr("class")("sig-full")])(append1((function() {
      if (hasPreamble) {
        return [renderPreamble(ctx)(peeled)];
      }
      ;
      return [];
    })())([elem2(Div.value)([staticStr("class")("sig-decl")])(append1([elem2(Dfn.value)([staticStr("class")("sig-name"), staticStr("textContent")(v.name)])([])])(append1((function() {
      if (v.className instanceof Just) {
        return [elem2(Small.value)([staticStr("class")("sig-sep"), staticStr("textContent")(" (" + (v.className.value0 + ")"))])([])];
      }
      ;
      if (v.className instanceof Nothing) {
        return [];
      }
      ;
      throw new Error("Failed pattern match at CE2.Viz.SignatureTree (line 68, column 18 - line 70, column 33): " + [v.className.constructor.name]);
    })())([elem2(Small.value)([staticStr("class")("sig-dcolon"), staticStr("textContent")(" ::")])([])]))), elem2(Div.value)([staticStr("class")("sig-body")])([renderTypeTree(ctx)(peeled.body)])]));
  };
  var renderSignatureInto = function(selector) {
    return function(config) {
      return function __do2() {
        rerender(selector)(signatureTree(config))();
        return unit;
      };
    };
  };

  // output/Data.Array.NonEmpty.Internal/index.js
  var NonEmptyArray = function(x) {
    return x;
  };

  // output/Data.Array.NonEmpty/index.js
  var fromJust5 = /* @__PURE__ */ fromJust();
  var unsafeFromArray = NonEmptyArray;
  var toArray = function(v) {
    return v;
  };
  var fromArray = function(xs) {
    if (length(xs) > 0) {
      return new Just(unsafeFromArray(xs));
    }
    ;
    if (otherwise) {
      return Nothing.value;
    }
    ;
    throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): " + [xs.constructor.name]);
  };
  var cons$prime = function(x) {
    return function(xs) {
      return unsafeFromArray(cons(x)(xs));
    };
  };
  var adaptMaybe = function(f) {
    return function($126) {
      return fromJust5(f(toArray($126)));
    };
  };
  var head2 = /* @__PURE__ */ adaptMaybe(head);

  // output/Data.Lazy/foreign.js
  var defer3 = function(thunk) {
    var v = null;
    return function() {
      if (thunk === void 0) return v;
      v = thunk();
      thunk = void 0;
      return v;
    };
  };
  var force = function(l) {
    return l();
  };

  // output/Data.Char/index.js
  var fromCharCode3 = /* @__PURE__ */ toEnum(boundedEnumChar);

  // output/Data.String.Regex/foreign.js
  var regexImpl = function(left) {
    return function(right) {
      return function(s1) {
        return function(s2) {
          try {
            return right(new RegExp(s1, s2));
          } catch (e) {
            return left(e.message);
          }
        };
      };
    };
  };
  var _match = function(just) {
    return function(nothing) {
      return function(r) {
        return function(s) {
          var m = s.match(r);
          if (m == null || m.length === 0) {
            return nothing;
          } else {
            for (var i = 0; i < m.length; i++) {
              m[i] = m[i] == null ? nothing : just(m[i]);
            }
            return just(m);
          }
        };
      };
    };
  };

  // output/Data.String.Regex.Flags/index.js
  var unicode = {
    global: false,
    ignoreCase: false,
    multiline: false,
    dotAll: false,
    sticky: false,
    unicode: true
  };

  // output/Data.String.Regex/index.js
  var renderFlags = function(v) {
    return (function() {
      if (v.global) {
        return "g";
      }
      ;
      return "";
    })() + ((function() {
      if (v.ignoreCase) {
        return "i";
      }
      ;
      return "";
    })() + ((function() {
      if (v.multiline) {
        return "m";
      }
      ;
      return "";
    })() + ((function() {
      if (v.dotAll) {
        return "s";
      }
      ;
      return "";
    })() + ((function() {
      if (v.sticky) {
        return "y";
      }
      ;
      return "";
    })() + (function() {
      if (v.unicode) {
        return "u";
      }
      ;
      return "";
    })()))));
  };
  var regex = function(s) {
    return function(f) {
      return regexImpl(Left.create)(Right.create)(s)(renderFlags(f));
    };
  };
  var match = /* @__PURE__ */ (function() {
    return _match(Just.create)(Nothing.value);
  })();

  // output/Partial.Unsafe/foreign.js
  var _unsafePartial = function(f) {
    return f();
  };

  // output/Partial/foreign.js
  var _crashWith = function(msg) {
    throw new Error(msg);
  };

  // output/Partial/index.js
  var crashWith = function() {
    return _crashWith;
  };

  // output/Partial.Unsafe/index.js
  var crashWith2 = /* @__PURE__ */ crashWith();
  var unsafePartial = _unsafePartial;
  var unsafeCrashWith = function(msg) {
    return unsafePartial(function() {
      return crashWith2(msg);
    });
  };

  // output/Data.String.Regex.Unsafe/index.js
  var identity7 = /* @__PURE__ */ identity(categoryFn);
  var unsafeRegex = function(s) {
    return function(f) {
      return either(unsafeCrashWith)(identity7)(regex(s)(f));
    };
  };

  // output/PureScript.CST.Types/index.js
  var ASCII = /* @__PURE__ */ (function() {
    function ASCII2() {
    }
    ;
    ASCII2.value = new ASCII2();
    return ASCII2;
  })();
  var Unicode = /* @__PURE__ */ (function() {
    function Unicode2() {
    }
    ;
    Unicode2.value = new Unicode2();
    return Unicode2;
  })();
  var LF = /* @__PURE__ */ (function() {
    function LF2() {
    }
    ;
    LF2.value = new LF2();
    return LF2;
  })();
  var CRLF = /* @__PURE__ */ (function() {
    function CRLF2() {
    }
    ;
    CRLF2.value = new CRLF2();
    return CRLF2;
  })();
  var SmallInt = /* @__PURE__ */ (function() {
    function SmallInt2(value0) {
      this.value0 = value0;
    }
    ;
    SmallInt2.create = function(value0) {
      return new SmallInt2(value0);
    };
    return SmallInt2;
  })();
  var BigInt = /* @__PURE__ */ (function() {
    function BigInt2(value0) {
      this.value0 = value0;
    }
    ;
    BigInt2.create = function(value0) {
      return new BigInt2(value0);
    };
    return BigInt2;
  })();
  var BigHex = /* @__PURE__ */ (function() {
    function BigHex2(value0) {
      this.value0 = value0;
    }
    ;
    BigHex2.create = function(value0) {
      return new BigHex2(value0);
    };
    return BigHex2;
  })();
  var TokLeftParen = /* @__PURE__ */ (function() {
    function TokLeftParen2() {
    }
    ;
    TokLeftParen2.value = new TokLeftParen2();
    return TokLeftParen2;
  })();
  var TokRightParen = /* @__PURE__ */ (function() {
    function TokRightParen2() {
    }
    ;
    TokRightParen2.value = new TokRightParen2();
    return TokRightParen2;
  })();
  var TokLeftBrace = /* @__PURE__ */ (function() {
    function TokLeftBrace2() {
    }
    ;
    TokLeftBrace2.value = new TokLeftBrace2();
    return TokLeftBrace2;
  })();
  var TokRightBrace = /* @__PURE__ */ (function() {
    function TokRightBrace2() {
    }
    ;
    TokRightBrace2.value = new TokRightBrace2();
    return TokRightBrace2;
  })();
  var TokLeftSquare = /* @__PURE__ */ (function() {
    function TokLeftSquare2() {
    }
    ;
    TokLeftSquare2.value = new TokLeftSquare2();
    return TokLeftSquare2;
  })();
  var TokRightSquare = /* @__PURE__ */ (function() {
    function TokRightSquare2() {
    }
    ;
    TokRightSquare2.value = new TokRightSquare2();
    return TokRightSquare2;
  })();
  var TokLeftArrow = /* @__PURE__ */ (function() {
    function TokLeftArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokLeftArrow2.create = function(value0) {
      return new TokLeftArrow2(value0);
    };
    return TokLeftArrow2;
  })();
  var TokRightArrow = /* @__PURE__ */ (function() {
    function TokRightArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokRightArrow2.create = function(value0) {
      return new TokRightArrow2(value0);
    };
    return TokRightArrow2;
  })();
  var TokRightFatArrow = /* @__PURE__ */ (function() {
    function TokRightFatArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokRightFatArrow2.create = function(value0) {
      return new TokRightFatArrow2(value0);
    };
    return TokRightFatArrow2;
  })();
  var TokDoubleColon = /* @__PURE__ */ (function() {
    function TokDoubleColon2(value0) {
      this.value0 = value0;
    }
    ;
    TokDoubleColon2.create = function(value0) {
      return new TokDoubleColon2(value0);
    };
    return TokDoubleColon2;
  })();
  var TokForall = /* @__PURE__ */ (function() {
    function TokForall2(value0) {
      this.value0 = value0;
    }
    ;
    TokForall2.create = function(value0) {
      return new TokForall2(value0);
    };
    return TokForall2;
  })();
  var TokEquals = /* @__PURE__ */ (function() {
    function TokEquals2() {
    }
    ;
    TokEquals2.value = new TokEquals2();
    return TokEquals2;
  })();
  var TokPipe = /* @__PURE__ */ (function() {
    function TokPipe2() {
    }
    ;
    TokPipe2.value = new TokPipe2();
    return TokPipe2;
  })();
  var TokTick = /* @__PURE__ */ (function() {
    function TokTick2() {
    }
    ;
    TokTick2.value = new TokTick2();
    return TokTick2;
  })();
  var TokDot = /* @__PURE__ */ (function() {
    function TokDot2() {
    }
    ;
    TokDot2.value = new TokDot2();
    return TokDot2;
  })();
  var TokComma = /* @__PURE__ */ (function() {
    function TokComma2() {
    }
    ;
    TokComma2.value = new TokComma2();
    return TokComma2;
  })();
  var TokUnderscore = /* @__PURE__ */ (function() {
    function TokUnderscore2() {
    }
    ;
    TokUnderscore2.value = new TokUnderscore2();
    return TokUnderscore2;
  })();
  var TokBackslash = /* @__PURE__ */ (function() {
    function TokBackslash2() {
    }
    ;
    TokBackslash2.value = new TokBackslash2();
    return TokBackslash2;
  })();
  var TokAt = /* @__PURE__ */ (function() {
    function TokAt2() {
    }
    ;
    TokAt2.value = new TokAt2();
    return TokAt2;
  })();
  var TokLowerName = /* @__PURE__ */ (function() {
    function TokLowerName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokLowerName2.create = function(value0) {
      return function(value1) {
        return new TokLowerName2(value0, value1);
      };
    };
    return TokLowerName2;
  })();
  var TokUpperName = /* @__PURE__ */ (function() {
    function TokUpperName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokUpperName2.create = function(value0) {
      return function(value1) {
        return new TokUpperName2(value0, value1);
      };
    };
    return TokUpperName2;
  })();
  var TokOperator = /* @__PURE__ */ (function() {
    function TokOperator2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokOperator2.create = function(value0) {
      return function(value1) {
        return new TokOperator2(value0, value1);
      };
    };
    return TokOperator2;
  })();
  var TokSymbolName = /* @__PURE__ */ (function() {
    function TokSymbolName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokSymbolName2.create = function(value0) {
      return function(value1) {
        return new TokSymbolName2(value0, value1);
      };
    };
    return TokSymbolName2;
  })();
  var TokSymbolArrow = /* @__PURE__ */ (function() {
    function TokSymbolArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokSymbolArrow2.create = function(value0) {
      return new TokSymbolArrow2(value0);
    };
    return TokSymbolArrow2;
  })();
  var TokHole = /* @__PURE__ */ (function() {
    function TokHole2(value0) {
      this.value0 = value0;
    }
    ;
    TokHole2.create = function(value0) {
      return new TokHole2(value0);
    };
    return TokHole2;
  })();
  var TokChar = /* @__PURE__ */ (function() {
    function TokChar2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokChar2.create = function(value0) {
      return function(value1) {
        return new TokChar2(value0, value1);
      };
    };
    return TokChar2;
  })();
  var TokString = /* @__PURE__ */ (function() {
    function TokString2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokString2.create = function(value0) {
      return function(value1) {
        return new TokString2(value0, value1);
      };
    };
    return TokString2;
  })();
  var TokRawString = /* @__PURE__ */ (function() {
    function TokRawString2(value0) {
      this.value0 = value0;
    }
    ;
    TokRawString2.create = function(value0) {
      return new TokRawString2(value0);
    };
    return TokRawString2;
  })();
  var TokInt = /* @__PURE__ */ (function() {
    function TokInt2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokInt2.create = function(value0) {
      return function(value1) {
        return new TokInt2(value0, value1);
      };
    };
    return TokInt2;
  })();
  var TokNumber = /* @__PURE__ */ (function() {
    function TokNumber2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokNumber2.create = function(value0) {
      return function(value1) {
        return new TokNumber2(value0, value1);
      };
    };
    return TokNumber2;
  })();
  var TokLayoutStart = /* @__PURE__ */ (function() {
    function TokLayoutStart2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutStart2.create = function(value0) {
      return new TokLayoutStart2(value0);
    };
    return TokLayoutStart2;
  })();
  var TokLayoutSep = /* @__PURE__ */ (function() {
    function TokLayoutSep2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutSep2.create = function(value0) {
      return new TokLayoutSep2(value0);
    };
    return TokLayoutSep2;
  })();
  var TokLayoutEnd = /* @__PURE__ */ (function() {
    function TokLayoutEnd2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutEnd2.create = function(value0) {
      return new TokLayoutEnd2(value0);
    };
    return TokLayoutEnd2;
  })();
  var Comment = /* @__PURE__ */ (function() {
    function Comment2(value0) {
      this.value0 = value0;
    }
    ;
    Comment2.create = function(value0) {
      return new Comment2(value0);
    };
    return Comment2;
  })();
  var Space = /* @__PURE__ */ (function() {
    function Space2(value0) {
      this.value0 = value0;
    }
    ;
    Space2.create = function(value0) {
      return new Space2(value0);
    };
    return Space2;
  })();
  var Line2 = /* @__PURE__ */ (function() {
    function Line3(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Line3.create = function(value0) {
      return function(value1) {
        return new Line3(value0, value1);
      };
    };
    return Line3;
  })();
  var TypeVarKinded = /* @__PURE__ */ (function() {
    function TypeVarKinded2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVarKinded2.create = function(value0) {
      return new TypeVarKinded2(value0);
    };
    return TypeVarKinded2;
  })();
  var TypeVarName = /* @__PURE__ */ (function() {
    function TypeVarName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVarName2.create = function(value0) {
      return new TypeVarName2(value0);
    };
    return TypeVarName2;
  })();
  var TypeVar = /* @__PURE__ */ (function() {
    function TypeVar2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVar2.create = function(value0) {
      return new TypeVar2(value0);
    };
    return TypeVar2;
  })();
  var TypeConstructor = /* @__PURE__ */ (function() {
    function TypeConstructor2(value0) {
      this.value0 = value0;
    }
    ;
    TypeConstructor2.create = function(value0) {
      return new TypeConstructor2(value0);
    };
    return TypeConstructor2;
  })();
  var TypeWildcard = /* @__PURE__ */ (function() {
    function TypeWildcard2(value0) {
      this.value0 = value0;
    }
    ;
    TypeWildcard2.create = function(value0) {
      return new TypeWildcard2(value0);
    };
    return TypeWildcard2;
  })();
  var TypeHole = /* @__PURE__ */ (function() {
    function TypeHole2(value0) {
      this.value0 = value0;
    }
    ;
    TypeHole2.create = function(value0) {
      return new TypeHole2(value0);
    };
    return TypeHole2;
  })();
  var TypeString = /* @__PURE__ */ (function() {
    function TypeString2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeString2.create = function(value0) {
      return function(value1) {
        return new TypeString2(value0, value1);
      };
    };
    return TypeString2;
  })();
  var TypeInt = /* @__PURE__ */ (function() {
    function TypeInt2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    TypeInt2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new TypeInt2(value0, value1, value22);
        };
      };
    };
    return TypeInt2;
  })();
  var TypeRow = /* @__PURE__ */ (function() {
    function TypeRow2(value0) {
      this.value0 = value0;
    }
    ;
    TypeRow2.create = function(value0) {
      return new TypeRow2(value0);
    };
    return TypeRow2;
  })();
  var TypeRecord = /* @__PURE__ */ (function() {
    function TypeRecord2(value0) {
      this.value0 = value0;
    }
    ;
    TypeRecord2.create = function(value0) {
      return new TypeRecord2(value0);
    };
    return TypeRecord2;
  })();
  var TypeForall = /* @__PURE__ */ (function() {
    function TypeForall2(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    TypeForall2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new TypeForall2(value0, value1, value22, value32);
          };
        };
      };
    };
    return TypeForall2;
  })();
  var TypeKinded = /* @__PURE__ */ (function() {
    function TypeKinded2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    TypeKinded2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new TypeKinded2(value0, value1, value22);
        };
      };
    };
    return TypeKinded2;
  })();
  var TypeApp = /* @__PURE__ */ (function() {
    function TypeApp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeApp2.create = function(value0) {
      return function(value1) {
        return new TypeApp2(value0, value1);
      };
    };
    return TypeApp2;
  })();
  var TypeOp = /* @__PURE__ */ (function() {
    function TypeOp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeOp2.create = function(value0) {
      return function(value1) {
        return new TypeOp2(value0, value1);
      };
    };
    return TypeOp2;
  })();
  var TypeOpName = /* @__PURE__ */ (function() {
    function TypeOpName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeOpName2.create = function(value0) {
      return new TypeOpName2(value0);
    };
    return TypeOpName2;
  })();
  var TypeArrow = /* @__PURE__ */ (function() {
    function TypeArrow2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    TypeArrow2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new TypeArrow2(value0, value1, value22);
        };
      };
    };
    return TypeArrow2;
  })();
  var TypeArrowName = /* @__PURE__ */ (function() {
    function TypeArrowName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeArrowName2.create = function(value0) {
      return new TypeArrowName2(value0);
    };
    return TypeArrowName2;
  })();
  var TypeConstrained = /* @__PURE__ */ (function() {
    function TypeConstrained2(value0, value1, value22) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
    }
    ;
    TypeConstrained2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return new TypeConstrained2(value0, value1, value22);
        };
      };
    };
    return TypeConstrained2;
  })();
  var TypeParens = /* @__PURE__ */ (function() {
    function TypeParens2(value0) {
      this.value0 = value0;
    }
    ;
    TypeParens2.create = function(value0) {
      return new TypeParens2(value0);
    };
    return TypeParens2;
  })();
  var $$TypeError = /* @__PURE__ */ (function() {
    function $$TypeError2(value0) {
      this.value0 = value0;
    }
    ;
    $$TypeError2.create = function(value0) {
      return new $$TypeError2(value0);
    };
    return $$TypeError2;
  })();

  // output/PureScript.CST.Errors/index.js
  var UnexpectedEof = /* @__PURE__ */ (function() {
    function UnexpectedEof2() {
    }
    ;
    UnexpectedEof2.value = new UnexpectedEof2();
    return UnexpectedEof2;
  })();
  var UnexpectedToken = /* @__PURE__ */ (function() {
    function UnexpectedToken2(value0) {
      this.value0 = value0;
    }
    ;
    UnexpectedToken2.create = function(value0) {
      return new UnexpectedToken2(value0);
    };
    return UnexpectedToken2;
  })();
  var LexExpected = /* @__PURE__ */ (function() {
    function LexExpected2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexExpected2.create = function(value0) {
      return function(value1) {
        return new LexExpected2(value0, value1);
      };
    };
    return LexExpected2;
  })();
  var LexInvalidCharEscape = /* @__PURE__ */ (function() {
    function LexInvalidCharEscape2(value0) {
      this.value0 = value0;
    }
    ;
    LexInvalidCharEscape2.create = function(value0) {
      return new LexInvalidCharEscape2(value0);
    };
    return LexInvalidCharEscape2;
  })();
  var LexCharEscapeOutOfRange = /* @__PURE__ */ (function() {
    function LexCharEscapeOutOfRange2(value0) {
      this.value0 = value0;
    }
    ;
    LexCharEscapeOutOfRange2.create = function(value0) {
      return new LexCharEscapeOutOfRange2(value0);
    };
    return LexCharEscapeOutOfRange2;
  })();
  var LexNumberOutOfRange = /* @__PURE__ */ (function() {
    function LexNumberOutOfRange2(value0) {
      this.value0 = value0;
    }
    ;
    LexNumberOutOfRange2.create = function(value0) {
      return new LexNumberOutOfRange2(value0);
    };
    return LexNumberOutOfRange2;
  })();

  // output/PureScript.CST.Layout/index.js
  var find3 = /* @__PURE__ */ find(foldableList);
  var LytRoot = /* @__PURE__ */ (function() {
    function LytRoot2() {
    }
    ;
    LytRoot2.value = new LytRoot2();
    return LytRoot2;
  })();
  var LytTopDecl = /* @__PURE__ */ (function() {
    function LytTopDecl2() {
    }
    ;
    LytTopDecl2.value = new LytTopDecl2();
    return LytTopDecl2;
  })();
  var LytTopDeclHead = /* @__PURE__ */ (function() {
    function LytTopDeclHead2() {
    }
    ;
    LytTopDeclHead2.value = new LytTopDeclHead2();
    return LytTopDeclHead2;
  })();
  var LytDeclGuard = /* @__PURE__ */ (function() {
    function LytDeclGuard2() {
    }
    ;
    LytDeclGuard2.value = new LytDeclGuard2();
    return LytDeclGuard2;
  })();
  var LytCase = /* @__PURE__ */ (function() {
    function LytCase2() {
    }
    ;
    LytCase2.value = new LytCase2();
    return LytCase2;
  })();
  var LytCaseBinders = /* @__PURE__ */ (function() {
    function LytCaseBinders2() {
    }
    ;
    LytCaseBinders2.value = new LytCaseBinders2();
    return LytCaseBinders2;
  })();
  var LytCaseGuard = /* @__PURE__ */ (function() {
    function LytCaseGuard2() {
    }
    ;
    LytCaseGuard2.value = new LytCaseGuard2();
    return LytCaseGuard2;
  })();
  var LytLambdaBinders = /* @__PURE__ */ (function() {
    function LytLambdaBinders2() {
    }
    ;
    LytLambdaBinders2.value = new LytLambdaBinders2();
    return LytLambdaBinders2;
  })();
  var LytParen = /* @__PURE__ */ (function() {
    function LytParen2() {
    }
    ;
    LytParen2.value = new LytParen2();
    return LytParen2;
  })();
  var LytBrace = /* @__PURE__ */ (function() {
    function LytBrace2() {
    }
    ;
    LytBrace2.value = new LytBrace2();
    return LytBrace2;
  })();
  var LytSquare = /* @__PURE__ */ (function() {
    function LytSquare2() {
    }
    ;
    LytSquare2.value = new LytSquare2();
    return LytSquare2;
  })();
  var LytIf = /* @__PURE__ */ (function() {
    function LytIf2() {
    }
    ;
    LytIf2.value = new LytIf2();
    return LytIf2;
  })();
  var LytThen = /* @__PURE__ */ (function() {
    function LytThen2() {
    }
    ;
    LytThen2.value = new LytThen2();
    return LytThen2;
  })();
  var LytProperty = /* @__PURE__ */ (function() {
    function LytProperty2() {
    }
    ;
    LytProperty2.value = new LytProperty2();
    return LytProperty2;
  })();
  var LytForall = /* @__PURE__ */ (function() {
    function LytForall2() {
    }
    ;
    LytForall2.value = new LytForall2();
    return LytForall2;
  })();
  var LytTick = /* @__PURE__ */ (function() {
    function LytTick2() {
    }
    ;
    LytTick2.value = new LytTick2();
    return LytTick2;
  })();
  var LytLet = /* @__PURE__ */ (function() {
    function LytLet2() {
    }
    ;
    LytLet2.value = new LytLet2();
    return LytLet2;
  })();
  var LytLetStmt = /* @__PURE__ */ (function() {
    function LytLetStmt2() {
    }
    ;
    LytLetStmt2.value = new LytLetStmt2();
    return LytLetStmt2;
  })();
  var LytWhere = /* @__PURE__ */ (function() {
    function LytWhere2() {
    }
    ;
    LytWhere2.value = new LytWhere2();
    return LytWhere2;
  })();
  var LytOf = /* @__PURE__ */ (function() {
    function LytOf2() {
    }
    ;
    LytOf2.value = new LytOf2();
    return LytOf2;
  })();
  var LytDo = /* @__PURE__ */ (function() {
    function LytDo2() {
    }
    ;
    LytDo2.value = new LytDo2();
    return LytDo2;
  })();
  var LytAdo = /* @__PURE__ */ (function() {
    function LytAdo2() {
    }
    ;
    LytAdo2.value = new LytAdo2();
    return LytAdo2;
  })();
  var lytToken = function(pos) {
    return function(value12) {
      return {
        range: {
          start: pos,
          end: pos
        },
        leadingComments: [],
        trailingComments: [],
        value: value12
      };
    };
  };
  var isTopDecl = function(tokPos) {
    return function(v) {
      if (v instanceof Cons && (v.value0.value1 instanceof LytWhere && (v.value1 instanceof Cons && (v.value1.value0.value1 instanceof LytRoot && (v.value1.value1 instanceof Nil && tokPos.column === v.value0.value0.column))))) {
        return true;
      }
      ;
      return false;
    };
  };
  var isIndented = function(v) {
    if (v instanceof LytLet) {
      return true;
    }
    ;
    if (v instanceof LytLetStmt) {
      return true;
    }
    ;
    if (v instanceof LytWhere) {
      return true;
    }
    ;
    if (v instanceof LytOf) {
      return true;
    }
    ;
    if (v instanceof LytDo) {
      return true;
    }
    ;
    if (v instanceof LytAdo) {
      return true;
    }
    ;
    return false;
  };
  var eqLayoutDelim = {
    eq: function(x) {
      return function(y) {
        if (x instanceof LytRoot && y instanceof LytRoot) {
          return true;
        }
        ;
        if (x instanceof LytTopDecl && y instanceof LytTopDecl) {
          return true;
        }
        ;
        if (x instanceof LytTopDeclHead && y instanceof LytTopDeclHead) {
          return true;
        }
        ;
        if (x instanceof LytDeclGuard && y instanceof LytDeclGuard) {
          return true;
        }
        ;
        if (x instanceof LytCase && y instanceof LytCase) {
          return true;
        }
        ;
        if (x instanceof LytCaseBinders && y instanceof LytCaseBinders) {
          return true;
        }
        ;
        if (x instanceof LytCaseGuard && y instanceof LytCaseGuard) {
          return true;
        }
        ;
        if (x instanceof LytLambdaBinders && y instanceof LytLambdaBinders) {
          return true;
        }
        ;
        if (x instanceof LytParen && y instanceof LytParen) {
          return true;
        }
        ;
        if (x instanceof LytBrace && y instanceof LytBrace) {
          return true;
        }
        ;
        if (x instanceof LytSquare && y instanceof LytSquare) {
          return true;
        }
        ;
        if (x instanceof LytIf && y instanceof LytIf) {
          return true;
        }
        ;
        if (x instanceof LytThen && y instanceof LytThen) {
          return true;
        }
        ;
        if (x instanceof LytProperty && y instanceof LytProperty) {
          return true;
        }
        ;
        if (x instanceof LytForall && y instanceof LytForall) {
          return true;
        }
        ;
        if (x instanceof LytTick && y instanceof LytTick) {
          return true;
        }
        ;
        if (x instanceof LytLet && y instanceof LytLet) {
          return true;
        }
        ;
        if (x instanceof LytLetStmt && y instanceof LytLetStmt) {
          return true;
        }
        ;
        if (x instanceof LytWhere && y instanceof LytWhere) {
          return true;
        }
        ;
        if (x instanceof LytOf && y instanceof LytOf) {
          return true;
        }
        ;
        if (x instanceof LytDo && y instanceof LytDo) {
          return true;
        }
        ;
        if (x instanceof LytAdo && y instanceof LytAdo) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var eq13 = /* @__PURE__ */ eq(eqLayoutDelim);
  var insertLayout = function(v) {
    return function(nextPos) {
      return function(stack) {
        var sepP = function(lytPos) {
          return v.range.start.column === lytPos.column && v.range.start.line !== lytPos.line;
        };
        var pushStack = function(lytPos) {
          return function(lyt) {
            return function(v1) {
              return new Tuple(new Cons(new Tuple(lytPos, lyt), v1.value0), v1.value1);
            };
          };
        };
        var popStack = function(v1) {
          return function(v2) {
            if (v2.value0 instanceof Cons && v1(v2.value0.value0.value1)) {
              return new Tuple(v2.value0.value1, v2.value1);
            }
            ;
            return v2;
          };
        };
        var offsideP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && v.range.start.column < lytPos.column;
          };
        };
        var offsideEndP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && v.range.start.column <= lytPos.column;
          };
        };
        var insertToken = function(token2) {
          return function(v1) {
            return new Tuple(v1.value0, snoc(v1.value1)(new Tuple(token2, v1.value0)));
          };
        };
        var insertStart = function(lyt) {
          return function(v1) {
            var v2 = find3(function($307) {
              return isIndented(snd($307));
            })(v1.value0);
            if (v2 instanceof Just && nextPos.column <= v2.value0.value0.column) {
              return v1;
            }
            ;
            return insertToken(lytToken(nextPos)(new TokLayoutStart(nextPos.column)))(pushStack(nextPos)(lyt)(v1));
          };
        };
        var insertEnd = function(indent) {
          return insertToken(lytToken(v.range.start)(new TokLayoutEnd(indent)));
        };
        var indentedP = $$const(isIndented);
        var indentSepP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && sepP(lytPos);
          };
        };
        var insertSep = function(v1) {
          var sepTok = lytToken(v.range.start)(new TokLayoutSep(v.range.start.column));
          if (v1.value0 instanceof Cons && (v1.value0.value0.value1 instanceof LytTopDecl && sepP(v1.value0.value0.value0))) {
            return insertToken(sepTok)(new Tuple(v1.value0.value1, v1.value1));
          }
          ;
          if (v1.value0 instanceof Cons && (v1.value0.value0.value1 instanceof LytTopDeclHead && sepP(v1.value0.value0.value0))) {
            return insertToken(sepTok)(new Tuple(v1.value0.value1, v1.value1));
          }
          ;
          if (v1.value0 instanceof Cons && indentSepP(v1.value0.value0.value0)(v1.value0.value0.value1)) {
            if (v1.value0.value0.value1 instanceof LytOf) {
              return pushStack(v.range.start)(LytCaseBinders.value)(insertToken(sepTok)(v1));
            }
            ;
            return insertToken(sepTok)(v1);
          }
          ;
          return v1;
        };
        var collapse = function(p) {
          var go2 = function($copy_v1) {
            return function($copy_v2) {
              var $tco_var_v1 = $copy_v1;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v1, v2) {
                if (v1 instanceof Cons && p(v1.value0.value0)(v1.value0.value1)) {
                  $tco_var_v1 = v1.value1;
                  $copy_v2 = (function() {
                    var $120 = isIndented(v1.value0.value1);
                    if ($120) {
                      return snoc(v2)(new Tuple(lytToken(v.range.start)(new TokLayoutEnd(v1.value0.value0.column)), v1.value1));
                    }
                    ;
                    return v2;
                  })();
                  return;
                }
                ;
                $tco_done = true;
                return new Tuple(v1, v2);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v1, $copy_v2);
              }
              ;
              return $tco_result;
            };
          };
          return uncurry(go2);
        };
        var insertDefault = function(state2) {
          return insertToken(v)(insertSep(collapse(offsideP)(state2)));
        };
        var insertKwProperty = function(k) {
          return function(state2) {
            var v1 = insertDefault(state2);
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytProperty) {
              return new Tuple(v1.value0.value1, v1.value1);
            }
            ;
            return k(v1);
          };
        };
        var insert6 = function(v1) {
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "data")) {
            var v2 = insertDefault(v1);
            if (isTopDecl(v.range.start)(v2.value0)) {
              return pushStack(v.range.start)(LytTopDecl.value)(v2);
            }
            ;
            return popStack(function(v32) {
              return eq13(v32)(LytProperty.value);
            })(v2);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "class")) {
            var v2 = insertDefault(v1);
            if (isTopDecl(v.range.start)(v2.value0)) {
              return pushStack(v.range.start)(LytTopDeclHead.value)(v2);
            }
            ;
            return popStack(function(v32) {
              return eq13(v32)(LytProperty.value);
            })(v2);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "where")) {
            var whereP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytDo) {
                  return true;
                }
                ;
                return offsideEndP(v22)(v32);
              };
            };
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytTopDeclHead) {
              return insertStart(LytWhere.value)(insertToken(v)(new Tuple(v1.value0.value1, v1.value1)));
            }
            ;
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytProperty) {
              return insertToken(v)(new Tuple(v1.value0.value1, v1.value1));
            }
            ;
            return insertStart(LytWhere.value)(insertToken(v)(collapse(whereP)(v1)));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "in")) {
            var inP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytLet) {
                  return false;
                }
                ;
                if (v32 instanceof LytAdo) {
                  return false;
                }
                ;
                return isIndented(v32);
              };
            };
            var v2 = collapse(inP)(v1);
            if (v2.value0 instanceof Cons && (v2.value0.value0.value1 instanceof LytLetStmt && (v2.value0.value1 instanceof Cons && v2.value0.value1.value0.value1 instanceof LytAdo))) {
              return insertToken(v)(insertEnd(v2.value0.value1.value0.value0.column)(insertEnd(v2.value0.value0.value0.column)(new Tuple(v2.value0.value1.value1, v2.value1))));
            }
            ;
            if (v2.value0 instanceof Cons && isIndented(v2.value0.value0.value1)) {
              return insertToken(v)(insertEnd(v2.value0.value0.value0.column)(new Tuple(v2.value0.value1, v2.value1)));
            }
            ;
            return popStack(function(v32) {
              return eq13(v32)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "let")) {
            var next = function(v22) {
              if (v22.value0 instanceof Cons && (v22.value0.value0.value1 instanceof LytDo && v22.value0.value0.value0.column === v.range.start.column)) {
                return insertStart(LytLetStmt.value)(v22);
              }
              ;
              if (v22.value0 instanceof Cons && (v22.value0.value0.value1 instanceof LytAdo && v22.value0.value0.value0.column === v.range.start.column)) {
                return insertStart(LytLetStmt.value)(v22);
              }
              ;
              return insertStart(LytLet.value)(v22);
            };
            return insertKwProperty(next)(v1);
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value1 === "do") {
            return insertKwProperty(insertStart(LytDo.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value1 === "ado") {
            return insertKwProperty(insertStart(LytAdo.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "case")) {
            return insertKwProperty(pushStack(v.range.start)(LytCase.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "of")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytCase) {
              return pushStack(nextPos)(LytCaseBinders.value)(insertStart(LytOf.value)(insertToken(v)(new Tuple(v2.value0.value1, v2.value1))));
            }
            ;
            return popStack(function(v32) {
              return eq13(v32)(LytProperty.value);
            })(insertDefault(v2));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "if")) {
            return insertKwProperty(pushStack(v.range.start)(LytIf.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "then")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytIf) {
              return pushStack(v.range.start)(LytThen.value)(insertToken(v)(new Tuple(v2.value0.value1, v2.value1)));
            }
            ;
            return popStack(function(v32) {
              return eq13(v32)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "else")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytThen) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            var v3 = collapse(offsideP)(v1);
            if (isTopDecl(v.range.start)(v3.value0)) {
              return insertToken(v)(v3);
            }
            ;
            return popStack(function(v4) {
              return eq13(v4)(LytProperty.value);
            })(insertToken(v)(insertSep(v3)));
          }
          ;
          if (v.value instanceof TokForall) {
            return insertKwProperty(pushStack(v.range.start)(LytForall.value))(v1);
          }
          ;
          if (v.value instanceof TokBackslash) {
            return pushStack(v.range.start)(LytLambdaBinders.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokRightArrow) {
            var guardP = function(v22) {
              if (v22 instanceof LytCaseBinders) {
                return true;
              }
              ;
              if (v22 instanceof LytCaseGuard) {
                return true;
              }
              ;
              if (v22 instanceof LytLambdaBinders) {
                return true;
              }
              ;
              return false;
            };
            var arrowP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytDo) {
                  return true;
                }
                ;
                if (v32 instanceof LytOf) {
                  return false;
                }
                ;
                return offsideEndP(v22)(v32);
              };
            };
            return insertToken(v)(popStack(guardP)(collapse(arrowP)(v1)));
          }
          ;
          if (v.value instanceof TokEquals) {
            var equalsP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytWhere) {
                  return true;
                }
                ;
                if (v32 instanceof LytLet) {
                  return true;
                }
                ;
                if (v32 instanceof LytLetStmt) {
                  return true;
                }
                ;
                return false;
              };
            };
            var v2 = collapse(equalsP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytDeclGuard) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            return insertDefault(v1);
          }
          ;
          if (v.value instanceof TokPipe) {
            var v2 = collapse(offsideEndP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytOf) {
              return insertToken(v)(pushStack(v.range.start)(LytCaseGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytLet) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytLetStmt) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytWhere) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            return insertDefault(v1);
          }
          ;
          if (v.value instanceof TokTick) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytTick) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            return pushStack(v.range.start)(LytTick.value)(insertToken(v)(insertSep(collapse(offsideEndP)(v1))));
          }
          ;
          if (v.value instanceof TokComma) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytBrace) {
              return pushStack(v.range.start)(LytProperty.value)(insertToken(v)(v2));
            }
            ;
            return insertToken(v)(v2);
          }
          ;
          if (v.value instanceof TokDot) {
            var v2 = insertDefault(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytForall) {
              return new Tuple(v2.value0.value1, v2.value1);
            }
            ;
            return pushStack(v.range.start)(LytProperty.value)(v2);
          }
          ;
          if (v.value instanceof TokLeftParen) {
            return pushStack(v.range.start)(LytParen.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLeftBrace) {
            return pushStack(v.range.start)(LytProperty.value)(pushStack(v.range.start)(LytBrace.value)(insertDefault(v1)));
          }
          ;
          if (v.value instanceof TokLeftSquare) {
            return pushStack(v.range.start)(LytSquare.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokRightParen) {
            return insertToken(v)(popStack(function(v22) {
              return eq13(v22)(LytParen.value);
            })(collapse(indentedP)(v1)));
          }
          ;
          if (v.value instanceof TokRightBrace) {
            return insertToken(v)(popStack(function(v22) {
              return eq13(v22)(LytBrace.value);
            })(popStack(function(v22) {
              return eq13(v22)(LytProperty.value);
            })(collapse(indentedP)(v1))));
          }
          ;
          if (v.value instanceof TokRightSquare) {
            return insertToken(v)(popStack(function(v22) {
              return eq13(v22)(LytSquare.value);
            })(collapse(indentedP)(v1)));
          }
          ;
          if (v.value instanceof TokString) {
            return popStack(function(v22) {
              return eq13(v22)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value0 instanceof Nothing) {
            return popStack(function(v22) {
              return eq13(v22)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokOperator) {
            return insertToken(v)(insertSep(collapse(offsideEndP)(v1)));
          }
          ;
          return insertDefault(v1);
        };
        return insert6(new Tuple(stack, []));
      };
    };
  };

  // output/PureScript.CST.TokenStream/index.js
  var TokenEOF = /* @__PURE__ */ (function() {
    function TokenEOF2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokenEOF2.create = function(value0) {
      return function(value1) {
        return new TokenEOF2(value0, value1);
      };
    };
    return TokenEOF2;
  })();
  var TokenError = /* @__PURE__ */ (function() {
    function TokenError2(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    TokenError2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new TokenError2(value0, value1, value22, value32);
          };
        };
      };
    };
    return TokenError2;
  })();
  var TokenCons = /* @__PURE__ */ (function() {
    function TokenCons2(value0, value1, value22, value32) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value22;
      this.value3 = value32;
    }
    ;
    TokenCons2.create = function(value0) {
      return function(value1) {
        return function(value22) {
          return function(value32) {
            return new TokenCons2(value0, value1, value22, value32);
          };
        };
      };
    };
    return TokenCons2;
  })();
  var step2 = /* @__PURE__ */ (function() {
    var $32 = unwrap();
    return function($33) {
      return force($32($33));
    };
  })();
  var unwindLayout = function(pos) {
    return function(eof2) {
      var go2 = function(stk) {
        return defer3(function(v) {
          if (stk instanceof Nil) {
            return step2(eof2);
          }
          ;
          if (stk instanceof Cons) {
            if (stk.value0.value1 instanceof LytRoot) {
              return step2(eof2);
            }
            ;
            if (isIndented(stk.value0.value1)) {
              return new TokenCons(lytToken(pos)(new TokLayoutEnd(stk.value0.value0.column)), pos, go2(stk.value1), stk.value1);
            }
            ;
            if (otherwise) {
              return step2(go2(stk.value1));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.TokenStream (line 59, column 7 - line 66, column 27): " + [stk.value0.value1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.TokenStream (line 56, column 43 - line 66, column 27): " + [stk.constructor.name]);
        });
      };
      return go2;
    };
  };
  var consTokens = function(dictFoldable) {
    var go2 = function(v) {
      return function(v1) {
        return new Tuple(v.value0.range.start, defer3(function(v2) {
          return new TokenCons(v.value0, v1.value0, v1.value1, v.value1);
        }));
      };
    };
    return flip(foldr(dictFoldable)(go2));
  };

  // output/PureScript.CST.Lexer/index.js
  var add2 = /* @__PURE__ */ add(semiringInt);
  var div3 = /* @__PURE__ */ div(euclideanRingInt);
  var bindFlipped2 = /* @__PURE__ */ bindFlipped(bindMaybe);
  var foldMap12 = /* @__PURE__ */ foldMap(foldableMaybe)(monoidString);
  var fold2 = /* @__PURE__ */ fold(foldableMaybe)(monoidString);
  var fold12 = /* @__PURE__ */ fold(foldableArray)(/* @__PURE__ */ monoidRecord()(/* @__PURE__ */ monoidRecordCons({
    reflectSymbol: function() {
      return "raw";
    }
  })(monoidString)()(/* @__PURE__ */ monoidRecordCons({
    reflectSymbol: function() {
      return "string";
    }
  })(monoidString)()(monoidRecordNil))));
  var foldl3 = /* @__PURE__ */ foldl(foldableArray);
  var consTokens2 = /* @__PURE__ */ consTokens(foldableArray);
  var LexFail = /* @__PURE__ */ (function() {
    function LexFail2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexFail2.create = function(value0) {
      return function(value1) {
        return new LexFail2(value0, value1);
      };
    };
    return LexFail2;
  })();
  var LexSucc = /* @__PURE__ */ (function() {
    function LexSucc2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexSucc2.create = function(value0) {
      return function(value1) {
        return new LexSucc2(value0, value1);
      };
    };
    return LexSucc2;
  })();
  var Lex = function(x) {
    return x;
  };
  var isCharCodePoint = {
    fromChar: codePointFromChar,
    fromCharCode: /* @__PURE__ */ toEnum(boundedEnumCodePoint)
  };
  var isCharChar = {
    fromChar: /* @__PURE__ */ identity(categoryFn),
    fromCharCode: fromCharCode3
  };
  var $$try = function(v) {
    return function(str) {
      var v1 = v(str);
      if (v1 instanceof LexFail) {
        return new LexFail(v1.value0, str);
      }
      ;
      if (v1 instanceof LexSucc) {
        return new LexSucc(v1.value0, v1.value1);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 104, column 3 - line 106, column 31): " + [v1.constructor.name]);
    };
  };
  var toModuleName = function(v) {
    if (v === "") {
      return Nothing.value;
    }
    ;
    return new Just(dropRight(1)(v));
  };
  var qualLength = /* @__PURE__ */ maybe(0)(/* @__PURE__ */ (function() {
    var $319 = add2(1);
    var $320 = unwrap();
    return function($321) {
      return $319(length3($320($321)));
    };
  })());
  var optional = function(v) {
    return function(str) {
      var v1 = v(str);
      if (v1 instanceof LexFail) {
        if (length2(str) === length2(v1.value1)) {
          return new LexSucc(Nothing.value, str);
        }
        ;
        if (otherwise) {
          return new LexFail(v1.value0, v1.value1);
        }
        ;
      }
      ;
      if (v1 instanceof LexSucc) {
        return new LexSucc(new Just(v1.value0), v1.value1);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 153, column 3 - line 160, column 25): " + [v1.constructor.name]);
    };
  };
  var mkUnexpected = function(str) {
    var start2 = take2(6)(str);
    var len = length3(start2);
    var $148 = len === 0;
    if ($148) {
      return "end of file";
    }
    ;
    var $149 = len < 6;
    if ($149) {
      return start2;
    }
    ;
    return start2 + "...";
  };
  var regex2 = function(mkErr) {
    return function(regexStr) {
      var matchRegex = unsafeRegex("^(?:" + (regexStr + ")"))(unicode);
      return function(str) {
        var v = match(matchRegex)(str);
        var v1 = function(v2) {
          return new LexFail(function(v3) {
            return mkErr(mkUnexpected(str));
          }, str);
        };
        if (v instanceof Just) {
          var $151 = head2(v.value0);
          if ($151 instanceof Just) {
            return new LexSucc($151.value0, drop(length2($151.value0))(str));
          }
          ;
          return v1(true);
        }
        ;
        return v1(true);
      };
    };
  };
  var satisfy = function(mkErr) {
    return function(p) {
      return function(str) {
        var v = charAt2(0)(str);
        if (v instanceof Just && p(v.value0)) {
          return new LexSucc(v.value0, drop(1)(str));
        }
        ;
        return new LexFail(function(v1) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var string = function(mkErr) {
    return function(match2) {
      return function(str) {
        var $156 = take(length2(match2))(str) === match2;
        if ($156) {
          return new LexSucc(match2, drop(length2(match2))(str));
        }
        ;
        return new LexFail(function(v) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var many = function(v) {
    return function(str) {
      return (function __do2() {
        var valuesRef = newSTArray();
        var strRef = str;
        var contRef = true;
        var resRef = new LexSucc([], str);
        (function() {
          while (contRef) {
            (function __do3() {
              var str$prime = strRef;
              var v1 = v(str$prime);
              if (v1 instanceof LexFail) {
                if (length2(str$prime) === length2(v1.value1)) {
                  var values2 = unsafeFreeze(valuesRef)();
                  resRef = new LexSucc(values2, v1.value1);
                  contRef = false;
                  return unit;
                }
                ;
                if (otherwise) {
                  resRef = new LexFail(v1.value0, v1.value1);
                  contRef = false;
                  return unit;
                }
                ;
              }
              ;
              if (v1 instanceof LexSucc) {
                push(v1.value0)(valuesRef)();
                strRef = v1.value1;
                return unit;
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 178, column 5 - line 192, column 18): " + [v1.constructor.name]);
            })();
          }
          ;
          return {};
        })();
        return resRef;
      })();
    };
  };
  var functorLex = {
    map: function(f) {
      return function(v) {
        return function(str) {
          var v1 = v(str);
          if (v1 instanceof LexFail) {
            return new LexFail(v1.value0, v1.value1);
          }
          ;
          if (v1 instanceof LexSucc) {
            return new LexSucc(f(v1.value0), v1.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 66, column 5 - line 68, column 37): " + [v1.constructor.name]);
        };
      };
    }
  };
  var map7 = /* @__PURE__ */ map(functorLex);
  var spaceComment = /* @__PURE__ */ (function() {
    return map7(length2)(regex2(LexExpected.create("spaces"))(" +"));
  })();
  var fromCharCode4 = function(dict) {
    return dict.fromCharCode;
  };
  var fromChar = function(dict) {
    return dict.fromChar;
  };
  var fail = function($322) {
    return Lex(LexFail.create($$const($322)));
  };
  var char$prime = function(mkErr) {
    return function(res) {
      return function(match2) {
        return function(str) {
          var $172 = singleton6(match2) === take(1)(str);
          if ($172) {
            return new LexSucc(res, drop(1)(str));
          }
          ;
          return new LexFail(function(v) {
            return mkErr(mkUnexpected(str));
          }, str);
        };
      };
    };
  };
  var $$char = function(mkErr) {
    return function(match2) {
      return function(str) {
        var $173 = singleton6(match2) === take(1)(str);
        if ($173) {
          return new LexSucc(match2, drop(1)(str));
        }
        ;
        return new LexFail(function(v) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var bumpText = function(v) {
    return function(colOffset) {
      return function(str) {
        var go2 = function($copy_n) {
          return function($copy_ix) {
            var $tco_var_n = $copy_n;
            var $tco_done = false;
            var $tco_result;
            function $tco_loop(n, ix) {
              var v1 = indexOf$prime("\n")(ix)(str);
              if (v1 instanceof Just) {
                $tco_var_n = n + 1 | 0;
                $copy_ix = v1.value0 + 1 | 0;
                return;
              }
              ;
              if (v1 instanceof Nothing) {
                if (n === 0) {
                  $tco_done = true;
                  return {
                    line: v.line,
                    column: (v.column + length3(str) | 0) + (colOffset * 2 | 0) | 0
                  };
                }
                ;
                if (otherwise) {
                  $tco_done = true;
                  return {
                    line: v.line + n | 0,
                    column: length3(drop(ix)(str)) + colOffset | 0
                  };
                }
                ;
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 348, column 13 - line 357, column 12): " + [v1.constructor.name]);
            }
            ;
            while (!$tco_done) {
              $tco_result = $tco_loop($tco_var_n, $copy_ix);
            }
            ;
            return $tco_result;
          };
        };
        return go2(0)(0);
      };
    };
  };
  var bumpToken = function(v) {
    return function(v1) {
      if (v1 instanceof TokLeftParen) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightParen) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftBrace) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightBrace) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftSquare) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightSquare) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokRightArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightFatArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokRightFatArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokDoubleColon && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokDoubleColon && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokForall && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 6 | 0
        };
      }
      ;
      if (v1 instanceof TokForall && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokEquals) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokPipe) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokTick) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokDot) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokComma) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokUnderscore) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokBackslash) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokAt) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLowerName) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokUpperName) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokOperator) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolName) {
        return {
          line: v.line,
          column: ((v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0) + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 3 | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 4 | 0
        };
      }
      ;
      if (v1 instanceof TokHole) {
        return {
          line: v.line,
          column: (v.column + length3(v1.value0) | 0) + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokChar) {
        return {
          line: v.line,
          column: (v.column + length3(v1.value0) | 0) + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokInt) {
        return {
          line: v.line,
          column: v.column + length3(v1.value0) | 0
        };
      }
      ;
      if (v1 instanceof TokNumber) {
        return {
          line: v.line,
          column: v.column + length3(v1.value0) | 0
        };
      }
      ;
      if (v1 instanceof TokString) {
        return bumpText(v)(1)(v1.value0);
      }
      ;
      if (v1 instanceof TokRawString) {
        return bumpText(v)(3)(v1.value0);
      }
      ;
      if (v1 instanceof TokLayoutStart) {
        return v;
      }
      ;
      if (v1 instanceof TokLayoutSep) {
        return v;
      }
      ;
      if (v1 instanceof TokLayoutEnd) {
        return v;
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 265, column 34 - line 343, column 8): " + [v1.constructor.name]);
    };
  };
  var bumpComment = function(v) {
    return function(v1) {
      if (v1 instanceof Comment) {
        return bumpText(v)(0)(v1.value0);
      }
      ;
      if (v1 instanceof Space) {
        return {
          line: v.line,
          column: v.column + v1.value0 | 0
        };
      }
      ;
      if (v1 instanceof Line2) {
        return {
          line: v.line + v1.value1 | 0,
          column: 0
        };
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 360, column 36 - line 366, column 34): " + [v1.constructor.name]);
    };
  };
  var applyLex = {
    apply: function(v) {
      return function(v1) {
        return function(str) {
          var v2 = v(str);
          if (v2 instanceof LexFail) {
            return new LexFail(v2.value0, v2.value1);
          }
          ;
          if (v2 instanceof LexSucc) {
            var v3 = v1(v2.value1);
            if (v3 instanceof LexFail) {
              return new LexFail(v3.value0, v3.value1);
            }
            ;
            if (v3 instanceof LexSucc) {
              return new LexSucc(v2.value0(v3.value0), v3.value1);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 75, column 9 - line 78, column 32): " + [v3.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 72, column 5 - line 78, column 32): " + [v2.constructor.name]);
        };
      };
    },
    Functor0: function() {
      return functorLex;
    }
  };
  var apply2 = /* @__PURE__ */ apply(applyLex);
  var applyFirst2 = /* @__PURE__ */ applyFirst(applyLex);
  var applySecond2 = /* @__PURE__ */ applySecond(applyLex);
  var bindLex = {
    bind: function(v) {
      return function(k) {
        return function(str) {
          var v1 = v(str);
          if (v1 instanceof LexFail) {
            return new LexFail(v1.value0, v1.value1);
          }
          ;
          if (v1 instanceof LexSucc) {
            var v2 = k(v1.value0);
            return v2(v1.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 85, column 5 - line 89, column 16): " + [v1.constructor.name]);
        };
      };
    },
    Apply0: function() {
      return applyLex;
    }
  };
  var bind1 = /* @__PURE__ */ bind(bindLex);
  var applicativeLex = {
    pure: function($323) {
      return Lex(LexSucc.create($323));
    },
    Apply0: function() {
      return applyLex;
    }
  };
  var pure1 = /* @__PURE__ */ pure(applicativeLex);
  var altLex = {
    alt: function(v) {
      return function(v1) {
        return function(str) {
          var v2 = v(str);
          if (v2 instanceof LexFail) {
            if (length2(str) === length2(v2.value1)) {
              return v1(str);
            }
            ;
            if (otherwise) {
              return new LexFail(v2.value0, v2.value1);
            }
            ;
          }
          ;
          if (v2 instanceof LexSucc) {
            return new LexSucc(v2.value0, v2.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 93, column 5 - line 100, column 20): " + [v2.constructor.name]);
        };
      };
    },
    Functor0: function() {
      return functorLex;
    }
  };
  var alt5 = /* @__PURE__ */ alt(altLex);
  var comment = /* @__PURE__ */ (function() {
    return alt5(regex2(LexExpected.create("block comment"))("\\{-(-(?!\\})|[^-]+)*(-\\}|$)"))(regex2(LexExpected.create("line comment"))("--[^\\r\\n]*"));
  })();
  var lineComment = /* @__PURE__ */ (function() {
    return alt5(map7((function() {
      var $324 = Line2.create(LF.value);
      return function($325) {
        return $324(length3($325));
      };
    })())(regex2(LexExpected.create("newline"))("\n+")))(map7((function() {
      var $326 = Line2.create(CRLF.value);
      return function($327) {
        return $326((function(v) {
          return div3(v)(2);
        })(length3($327)));
      };
    })())(regex2(LexExpected.create("newline"))("(?:\r\n)+")));
  })();
  var leadingComments = /* @__PURE__ */ (function() {
    return many(alt5(map7(Comment.create)(comment))(alt5(map7(Space.create)(spaceComment))(lineComment)));
  })();
  var token = /* @__PURE__ */ (function() {
    var tokenTick = char$prime(LexExpected.create("backtick"))(TokTick.value)("`");
    var tokenRightSquare = char$prime(LexExpected.create("right square"))(TokRightSquare.value)("]");
    var tokenRightParen = char$prime(LexExpected.create("right paren"))(TokRightParen.value)(")");
    var tokenRightBrace = char$prime(LexExpected.create("right brace"))(TokRightBrace.value)("}");
    var tokenLeftSquare = char$prime(LexExpected.create("left square"))(TokLeftSquare.value)("[");
    var tokenLeftParen = char$prime(LexExpected.create("left paren"))(TokLeftParen.value)("(");
    var tokenLeftBrace = char$prime(LexExpected.create("left brace"))(TokLeftBrace.value)("{");
    var tokenComma = char$prime(LexExpected.create("comma"))(TokComma.value)(",");
    var stripUnderscores = replaceAll("_")("");
    var stringSpaceEscapeRegex = regex2(LexExpected.create("whitespace escape"))("\\\\[ \\r\\n]+\\\\");
    var stringCharsRegex = regex2(LexExpected.create("string characters"))('[^"\\\\]+');
    var rawStringCharsRegex = regex2(LexExpected.create("raw string characters"))('""""{0,2}([^"]+"{1,2})*[^"]*"""');
    var parseSymbolIdent = regex2(LexExpected.create("symbol"))("(?:[:!#$%&*+./<=>?@\\\\^|~-]|(?!\\p{P})\\p{S})+");
    var parseSymbol = map7(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "->") {
            return new TokSymbolArrow(ASCII.value);
          }
          ;
          if (v === "\u2192") {
            return new TokSymbolArrow(Unicode.value);
          }
          ;
          return new TokSymbolName(Nothing.value, v);
        }
        ;
        return new TokSymbolName(v1, v);
      };
    })($$try(applyFirst2(applySecond2(tokenLeftParen)(parseSymbolIdent))(tokenRightParen)));
    var parseStringSpaceEscape = map7(function(v) {
      return {
        raw: v,
        string: ""
      };
    })(stringSpaceEscapeRegex);
    var parseStringChars = map7(function(v) {
      return {
        raw: v,
        string: v
      };
    })(stringCharsRegex);
    var parseRawString = map7(function(v) {
      return new TokRawString(dropRight(3)(drop(3)(v)));
    })(rawStringCharsRegex);
    var parseProper = regex2(LexExpected.create("proper name"))("\\p{Lu}[\\p{L}0-9_']*");
    var parseUpper = map7(flip(TokUpperName.create))(parseProper);
    var parseOperator = map7(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "<-") {
            return new TokLeftArrow(ASCII.value);
          }
          ;
          if (v === "\u2190") {
            return new TokLeftArrow(Unicode.value);
          }
          ;
          if (v === "->") {
            return new TokRightArrow(ASCII.value);
          }
          ;
          if (v === "\u2192") {
            return new TokRightArrow(Unicode.value);
          }
          ;
          if (v === "=>") {
            return new TokRightFatArrow(ASCII.value);
          }
          ;
          if (v === "\u21D2") {
            return new TokRightFatArrow(Unicode.value);
          }
          ;
          if (v === "::") {
            return new TokDoubleColon(ASCII.value);
          }
          ;
          if (v === "\u2237") {
            return new TokDoubleColon(Unicode.value);
          }
          ;
          if (v === "\u2200") {
            return new TokForall(Unicode.value);
          }
          ;
          if (v === "=") {
            return TokEquals.value;
          }
          ;
          if (v === ".") {
            return TokDot.value;
          }
          ;
          if (v === "\\") {
            return TokBackslash.value;
          }
          ;
          if (v === "|") {
            return TokPipe.value;
          }
          ;
          if (v === "@") {
            return TokAt.value;
          }
          ;
          if (v === "`") {
            return TokTick.value;
          }
          ;
          return new TokOperator(Nothing.value, v);
        }
        ;
        return new TokOperator(v1, v);
      };
    })(parseSymbolIdent);
    var parseModuleNamePrefix = regex2(LexExpected.create("module name"))("(?:(?:\\p{Lu}[\\p{L}0-9_']*)\\.)*");
    var parseIdent2 = regex2(LexExpected.create("ident"))("[\\p{Ll}_][\\p{L}0-9_']*");
    var parseLower = map7(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "forall") {
            return new TokForall(ASCII.value);
          }
          ;
          if (v === "_") {
            return TokUnderscore.value;
          }
          ;
          return new TokLowerName(Nothing.value, v);
        }
        ;
        return new TokLowerName(v1, v);
      };
    })(parseIdent2);
    var parseName = alt5(parseLower)(alt5(parseUpper)(alt5(parseOperator)(parseSymbol)));
    var parseModuleName = apply2(map7(function(v) {
      return function(v1) {
        return v1(toModuleName(v));
      };
    })(parseModuleNamePrefix))(parseName);
    var parseExponentSign = alt5(string(LexExpected.create("negative"))("-"))(string(LexExpected.create("positive"))("+"));
    var intPartRegex = regex2(LexExpected.create("int part"))("(0|[1-9][0-9_]*)");
    var parseExponentPart = apply2(map7(function(v) {
      return function(v1) {
        return {
          sign: v,
          exponent: v1
        };
      };
    })(optional(parseExponentSign)))(intPartRegex);
    var hexIntRegex = regex2(LexExpected.create("hex int"))("[a-fA-F0-9]+");
    var hexIntPrefix = string(LexExpected.create("hex int prefix"))("0x");
    var parseHexInt = bind1(applySecond2(hexIntPrefix)(hexIntRegex))(function(raw) {
      var v = fromStringAs(hexadecimal)(raw);
      if (v instanceof Just) {
        return pure1(new TokInt("0x" + raw, new SmallInt(v.value0)));
      }
      ;
      if (v instanceof Nothing) {
        return pure1(new TokInt("0x" + raw, new BigHex(raw)));
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 631, column 5 - line 635, column 49): " + [v.constructor.name]);
    });
    var hexEscapeRegex = regex2(LexExpected.create("hex"))("[a-fA-F0-9]{1,6}");
    var parseHexEscape = function(dictIsChar) {
      var fromCharCode1 = fromCharCode4(dictIsChar);
      return bind1(hexEscapeRegex)(function(esc) {
        var v = bindFlipped2(fromCharCode1)(fromStringAs(hexadecimal)(esc));
        if (v instanceof Just) {
          return pure1({
            raw: "\\x" + esc,
            "char": v.value0
          });
        }
        ;
        if (v instanceof Nothing) {
          return fail(new LexCharEscapeOutOfRange(esc));
        }
        ;
        throw new Error("Failed pattern match at PureScript.CST.Lexer (line 579, column 5 - line 583, column 43): " + [v.constructor.name]);
      });
    };
    var fractionPartRegex = regex2(LexExpected.create("fraction part"))("[0-9_]+");
    var charSingleQuote = $$char(LexExpected.create("single quote"))("'");
    var charQuote = $$char(LexExpected.create("quote"))('"');
    var charQuestionMark = $$char(LexExpected.create("question mark"))("?");
    var parseHole2 = map7(function(v) {
      return new TokHole(v);
    })($$try(applySecond2(charQuestionMark)(alt5(parseIdent2)(parseProper))));
    var charExponent = $$char(LexExpected.create("exponent"))("e");
    var parseNumberExponentPart = optional(applySecond2(charExponent)(parseExponentPart));
    var charDot = $$char(LexExpected.create("dot"))(".");
    var parseNumberFractionPart = optional($$try(applySecond2(charDot)(fractionPartRegex)));
    var parseNumber = bind1(intPartRegex)(function(intPart) {
      return bind1(parseNumberFractionPart)(function(fractionPart) {
        return bind1(parseNumberExponentPart)(function(exponentPart) {
          var $282 = isNothing(fractionPart) && isNothing(exponentPart);
          if ($282) {
            var intVal = stripUnderscores(intPart);
            var v = fromString2(intVal);
            if (v instanceof Just) {
              return pure1(new TokInt(intPart, new SmallInt(v.value0)));
            }
            ;
            if (v instanceof Nothing) {
              return pure1(new TokInt(intPart, new BigInt(intVal)));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 643, column 7 - line 647, column 48): " + [v.constructor.name]);
          }
          ;
          var raw = intPart + (foldMap12(function(fr) {
            return "." + fr;
          })(fractionPart) + foldMap12(function(ex) {
            return "e" + (fold2(ex.sign) + ex.exponent);
          })(exponentPart));
          var v = fromString(stripUnderscores(raw));
          if (v instanceof Just) {
            return pure1(new TokNumber(raw, v.value0));
          }
          ;
          if (v instanceof Nothing) {
            return fail(new LexNumberOutOfRange(raw));
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 654, column 7 - line 658, column 41): " + [v.constructor.name]);
        });
      });
    });
    var parseNumericLiteral = alt5(parseHexInt)(parseNumber);
    var charBackslash = $$char(LexExpected.create("backslash"))("\\");
    var charAny = satisfy(LexExpected.create("char"))($$const(true));
    var parseEscape = function(dictIsChar) {
      var fromChar1 = fromChar(dictIsChar);
      var parseHexEscape1 = parseHexEscape(dictIsChar);
      return bind1(charAny)(function(ch) {
        if (ch === "t") {
          return pure1({
            raw: "\\t",
            "char": fromChar1("	")
          });
        }
        ;
        if (ch === "r") {
          return pure1({
            raw: "\\r",
            "char": fromChar1("\r")
          });
        }
        ;
        if (ch === "n") {
          return pure1({
            raw: "\\n",
            "char": fromChar1("\n")
          });
        }
        ;
        if (ch === '"') {
          return pure1({
            raw: '\\"',
            "char": fromChar1('"')
          });
        }
        ;
        if (ch === "'") {
          return pure1({
            raw: "\\'",
            "char": fromChar1("'")
          });
        }
        ;
        if (ch === "\\") {
          return pure1({
            raw: "\\\\",
            "char": fromChar1("\\")
          });
        }
        ;
        if (ch === "x") {
          return parseHexEscape1;
        }
        ;
        return fail(new LexInvalidCharEscape(singleton6(ch)));
      });
    };
    var parseEscape1 = parseEscape(isCharChar);
    var parseChar = bind1(charAny)(function(ch) {
      if (ch === "\\") {
        return parseEscape1;
      }
      ;
      if (ch === "'") {
        return fail(new LexExpected("character", "empty character literal"));
      }
      ;
      return pure1({
        raw: singleton6(ch),
        "char": ch
      });
    });
    var parseCharLiteral = map7(function(v) {
      return new TokChar(v.raw, v["char"]);
    })(applyFirst2(applySecond2(charSingleQuote)(parseChar))(charSingleQuote));
    var parseStringEscape = map7(function(v) {
      return {
        raw: v.raw,
        string: singleton7(v["char"])
      };
    })(applySecond2(charBackslash)(parseEscape(isCharCodePoint)));
    var parseStringPart = alt5(parseStringChars)(alt5(parseStringSpaceEscape)(parseStringEscape));
    var parseString2 = map7(function(v) {
      var v1 = fold12(v);
      return new TokString(v1.raw, v1.string);
    })(applyFirst2(applySecond2(charQuote)(many(parseStringPart)))(charQuote));
    var parseStringLiteral = alt5(parseRawString)(parseString2);
    return alt5(parseHole2)(alt5(parseModuleName)(alt5(parseCharLiteral)(alt5(parseStringLiteral)(alt5(parseNumericLiteral)(alt5(tokenLeftParen)(alt5(tokenRightParen)(alt5(tokenLeftBrace)(alt5(tokenRightBrace)(alt5(tokenLeftSquare)(alt5(tokenRightSquare)(alt5(tokenTick)(tokenComma))))))))))));
  })();
  var trailingComments = /* @__PURE__ */ (function() {
    return many(alt5(map7(Comment.create)(comment))(map7(Space.create)(spaceComment)));
  })();
  var lexWithState$prime = function(lexLeadingComments) {
    var token$prime = apply2(apply2(map7(function(v) {
      return function(v1) {
        return function(v2) {
          return {
            token: v,
            trailing: v1,
            nextLeading: v2
          };
        };
      };
    })(token))(trailingComments))(leadingComments);
    var go2 = function(stack) {
      return function(startPos) {
        return function(leading) {
          return function(str) {
            return defer3(function(v) {
              var $303 = str === "";
              if ($303) {
                return step2(unwindLayout(startPos)(defer3(function(v12) {
                  return new TokenEOF(startPos, leading);
                }))(stack));
              }
              ;
              var v1 = token$prime(str);
              if (v1 instanceof LexFail) {
                var errPos = bumpText(startPos)(0)(take(length2(str) - length2(v1.value1) | 0)(str));
                return new TokenError(errPos, v1.value0(unit), Nothing.value, stack);
              }
              ;
              if (v1 instanceof LexSucc) {
                var endPos = bumpToken(startPos)(v1.value0.token);
                var nextStart = foldl3(bumpComment)(foldl3(bumpComment)(endPos)(v1.value0.trailing))(v1.value0.nextLeading);
                var posToken = {
                  range: {
                    start: startPos,
                    end: endPos
                  },
                  leadingComments: leading,
                  trailingComments: v1.value0.trailing,
                  value: v1.value0.token
                };
                var v2 = insertLayout(posToken)(nextStart)(stack);
                return step2(snd(consTokens2(v2.value1)(new Tuple(nextStart, go2(v2.value0)(nextStart)(v1.value0.nextLeading)(v1.value1)))));
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 228, column 7 - line 247, column 63): " + [v1.constructor.name]);
            });
          };
        };
      };
    };
    var init2 = function(initStack) {
      return function(initPos) {
        return function(str) {
          return defer3(function(v) {
            var v1 = lexLeadingComments(str);
            if (v1 instanceof LexFail) {
              return unsafeCrashWith("Leading comments can't fail.");
            }
            ;
            if (v1 instanceof LexSucc) {
              var nextPos = foldl3(bumpComment)(initPos)(v1.value0);
              return step2(go2(initStack)(nextPos)(v1.value0)(v1.value1));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 215, column 5 - line 220, column 51): " + [v1.constructor.name]);
          });
        };
      };
    };
    return init2;
  };
  var lexWithState = /* @__PURE__ */ lexWithState$prime(leadingComments);
  var lex = /* @__PURE__ */ (function() {
    return lexWithState(new Cons(new Tuple({
      line: 0,
      column: 0
    }, LytRoot.value), Nil.value))({
      line: 0,
      column: 0
    });
  })();

  // output/PureScript.CST.Parser.Monad/index.js
  var $runtime_lazy5 = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var toUnfoldable6 = /* @__PURE__ */ toUnfoldable(unfoldableArray);
  var More = /* @__PURE__ */ (function() {
    function More2(value0) {
      this.value0 = value0;
    }
    ;
    More2.create = function(value0) {
      return new More2(value0);
    };
    return More2;
  })();
  var Done2 = /* @__PURE__ */ (function() {
    function Done3(value0) {
      this.value0 = value0;
    }
    ;
    Done3.create = function(value0) {
      return new Done3(value0);
    };
    return Done3;
  })();
  var ParseFail = /* @__PURE__ */ (function() {
    function ParseFail2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseFail2.create = function(value0) {
      return function(value1) {
        return new ParseFail2(value0, value1);
      };
    };
    return ParseFail2;
  })();
  var ParseSucc = /* @__PURE__ */ (function() {
    function ParseSucc2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseSucc2.create = function(value0) {
      return function(value1) {
        return new ParseSucc2(value0, value1);
      };
    };
    return ParseSucc2;
  })();
  var lazyParser = {
    defer: function(k) {
      var parser = defer3(k);
      return function(state2, more, resume, done) {
        var v = force(parser);
        return v(state2, more, resume, done);
      };
    }
  };
  var functorParser = {
    map: function(f) {
      return function(v) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, a) {
            return done(state2, f(a));
          });
        };
      };
    }
  };
  var map8 = /* @__PURE__ */ map(functorParser);
  var applyParser = {
    apply: function(v) {
      return function(v1) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, f) {
            return more(function(v2) {
              return v1(state2, more, resume, function(state3, a) {
                return done(state3, f(a));
              });
            });
          });
        };
      };
    },
    Functor0: function() {
      return functorParser;
    }
  };
  var bindParser = {
    bind: function(v) {
      return function(k) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, a) {
            return more(function(v1) {
              var v2 = k(a);
              return v2(state2, more, resume, done);
            });
          });
        };
      };
    },
    Apply0: function() {
      return applyParser;
    }
  };
  var applicativeParser = {
    pure: function(a) {
      return function(state1, v, v1, done) {
        return done(state1, a);
      };
    },
    Apply0: function() {
      return applyParser;
    }
  };
  var pure3 = /* @__PURE__ */ pure(applicativeParser);
  var altParser = {
    alt: function(v) {
      return function(v1) {
        return function(state1, more, resume, done) {
          var state2 = (function() {
            if (state1.consumed) {
              return {
                errors: state1.errors,
                stream: state1.stream,
                consumed: false
              };
            }
            ;
            return state1;
          })();
          return v(state2, more, function(state3, error2) {
            if (state3.consumed) {
              return resume(state3, error2);
            }
            ;
            return v1(state1, more, resume, done);
          }, done);
        };
      };
    },
    Functor0: function() {
      return functorParser;
    }
  };
  var alt6 = /* @__PURE__ */ alt(altParser);
  var $$try2 = function(v) {
    return function(state1, more, resume, done) {
      return v(state1, more, function(state2, error2) {
        return resume({
          errors: state2.errors,
          stream: state2.stream,
          consumed: state1.consumed
        }, error2);
      }, done);
    };
  };
  var take4 = function(k) {
    return function(state2, v, resume, done) {
      var v1 = step2(state2.stream);
      if (v1 instanceof TokenError) {
        return resume(state2, {
          error: v1.value1,
          position: v1.value0
        });
      }
      ;
      if (v1 instanceof TokenEOF) {
        return resume(state2, {
          error: UnexpectedEof.value,
          position: v1.value0
        });
      }
      ;
      if (v1 instanceof TokenCons) {
        var v2 = k(v1.value0);
        if (v2 instanceof Left) {
          return resume(state2, {
            error: v2.value0,
            position: v1.value0.range.start
          });
        }
        ;
        if (v2 instanceof Right) {
          return done({
            errors: state2.errors,
            consumed: true,
            stream: v1.value2
          }, v2.value0);
        }
        ;
        throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 172, column 11 - line 182, column 18): " + [v2.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 166, column 7 - line 182, column 18): " + [v1.constructor.name]);
    };
  };
  var runParser$prime = function(state1) {
    return function(v) {
      var run3 = function($copy_v1) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v1) {
          if (v1 instanceof More) {
            $copy_v1 = v1.value0(unit);
            return;
          }
          ;
          if (v1 instanceof Done2) {
            $tco_done = true;
            return v1.value0;
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 241, column 9 - line 243, column 16): " + [v1.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v1);
        }
        ;
        return $tco_result;
      };
      return run3(v(state1, More.create, function(state2, error2) {
        return new Done2(new ParseFail(error2, state2));
      }, function(state2, value12) {
        return new Done2(new ParseSucc(value12, state2));
      }));
    };
  };
  var optional2 = function(p) {
    return alt6(map8(Just.create)(p))(pure3(Nothing.value));
  };
  var many2 = function(v) {
    return function(state1, more, resume, done) {
      var $lazy_go = $runtime_lazy5("go", "PureScript.CST.Parser.Monad", function() {
        return function(acc, state2) {
          var state2$prime = (function() {
            if (state2.consumed) {
              return {
                errors: state2.errors,
                stream: state2.stream,
                consumed: false
              };
            }
            ;
            return state2;
          })();
          return v(state2$prime, more, function(state3, error2) {
            if (state3.consumed) {
              return resume(state3, error2);
            }
            ;
            return done(state2, reverse(toUnfoldable6(acc)));
          }, function(state3, value12) {
            return $lazy_go(225)(new Cons(value12, acc), state3);
          });
        };
      });
      var go2 = $lazy_go(212);
      return go2(Nil.value, state1);
    };
  };
  var initialParserState = function(stream) {
    return {
      consumed: false,
      errors: [],
      stream
    };
  };
  var fromParserResult = function(v) {
    if (v instanceof ParseFail) {
      return new Left(v.value0);
    }
    ;
    if (v instanceof ParseSucc) {
      return new Right(new Tuple(v.value0, v.value1.errors));
    }
    ;
    throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 253, column 20 - line 257, column 29): " + [v.constructor.name]);
  };
  var runParser = function(stream) {
    var $109 = runParser$prime(initialParserState(stream));
    return function($110) {
      return fromParserResult($109($110));
    };
  };

  // output/PureScript.CST.Parser/index.js
  var $runtime_lazy6 = function(name14, moduleName, init2) {
    var state2 = 0;
    var val;
    return function(lineNumber) {
      if (state2 === 2) return val;
      if (state2 === 1) throw new ReferenceError(name14 + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state2 = 1;
      val = init2();
      state2 = 2;
      return val;
    };
  };
  var bind3 = /* @__PURE__ */ bind(bindParser);
  var pure4 = /* @__PURE__ */ pure(applicativeParser);
  var apply3 = /* @__PURE__ */ apply(applyParser);
  var map9 = /* @__PURE__ */ map(functorParser);
  var member5 = /* @__PURE__ */ member2(ordString);
  var alt7 = /* @__PURE__ */ alt(altParser);
  var defer4 = /* @__PURE__ */ defer(lazyParser);
  var wrapped = function(openTok) {
    return function(closeTok) {
      return function(valueParser) {
        return bind3(openTok)(function(open) {
          return bind3(valueParser)(function(value12) {
            return bind3(closeTok)(function(close2) {
              return pure4({
                open,
                value: value12,
                close: close2
              });
            });
          });
        });
      };
    };
  };
  var separated = function(sepParser) {
    return function(valueParser) {
      return apply3(map9(function(v) {
        return function(v1) {
          return {
            head: v,
            tail: v1
          };
        };
      })(valueParser))(many2(apply3(map9(Tuple.create)(sepParser))(valueParser)));
    };
  };
  var reservedKeywords = /* @__PURE__ */ fromFoldable2(foldableArray)(ordString)(["ado", "case", "class", "data", "derive", "do", "else", "false", "foreign", "if", "import", "in", "infix", "infixl", "infixr", "instance", "let", "module", "newtype", "of", "then", "true", "type", "where"]);
  var many1 = function(parser) {
    return apply3(map9(cons$prime)(parser))(many2(parser));
  };
  var expectMap = function(k) {
    return take4(function(tok) {
      var v = k(tok);
      if (v instanceof Just) {
        return new Right(v.value0);
      }
      ;
      if (v instanceof Nothing) {
        return new Left(new UnexpectedToken(tok.value));
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Parser (line 46, column 3 - line 50, column 39): " + [v.constructor.name]);
    });
  };
  var parseHole = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokHole) {
      return new Just({
        token: v,
        name: v.value.value0
      });
    }
    ;
    return Nothing.value;
  });
  var parseIdent = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && !member5(v.value.value1)(reservedKeywords))) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var $$parseInt = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokInt) {
      return new Just(new Tuple(v, v.value.value1));
    }
    ;
    return Nothing.value;
  });
  var parseLabel = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokRawString) {
      return new Just({
        token: v,
        name: v.value.value0
      });
    }
    ;
    if (v.value instanceof TokString) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    if (v.value instanceof TokLowerName && v.value.value0 instanceof Nothing) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedOperator = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokOperator) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedProper = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokUpperName) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedSymbol = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokSymbolName) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseString = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokString) {
      return new Just(new Tuple(v, v.value.value1));
    }
    ;
    if (v.value instanceof TokRawString) {
      return new Just(new Tuple(v, v.value.value0));
    }
    ;
    return Nothing.value;
  });
  var expect = function(pred) {
    return expectMap(function(tok) {
      var $244 = pred(tok.value);
      if ($244) {
        return new Just(tok);
      }
      ;
      return Nothing.value;
    });
  };
  var tokAt = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokAt) {
      return true;
    }
    ;
    return false;
  });
  var tokComma = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokComma) {
      return true;
    }
    ;
    return false;
  });
  var tokDot = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokDot) {
      return true;
    }
    ;
    return false;
  });
  var tokDoubleColon = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokDoubleColon) {
      return true;
    }
    ;
    return false;
  });
  var tokForall = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokForall) {
      return true;
    }
    ;
    return false;
  });
  var tokKeyOperator = function(sym) {
    return expect(function(v) {
      if (v instanceof TokOperator && v.value0 instanceof Nothing) {
        return sym === v.value1;
      }
      ;
      return false;
    });
  };
  var parseTypeNegative = /* @__PURE__ */ bind3(/* @__PURE__ */ tokKeyOperator("-"))(function(negative) {
    return map9(uncurry(TypeInt.create(new Just(negative))))($$parseInt);
  });
  var tokLeftBrace = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokLeftBrace) {
      return true;
    }
    ;
    return false;
  });
  var tokLeftParen = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokLeftParen) {
      return true;
    }
    ;
    return false;
  });
  var tokPipe = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokPipe) {
      return true;
    }
    ;
    return false;
  });
  var tokRightArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokRightBrace = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightBrace) {
      return true;
    }
    ;
    return false;
  });
  var tokRightFatArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightFatArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokRightParen = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightParen) {
      return true;
    }
    ;
    return false;
  });
  var parens = /* @__PURE__ */ wrapped(tokLeftParen)(tokRightParen);
  var parseEmptyRow = function(open) {
    return bind3(tokRightParen)(function(close2) {
      return pure4(new TypeRow({
        open,
        value: {
          labels: Nothing.value,
          tail: Nothing.value
        },
        close: close2
      }));
    });
  };
  var tokSymbolArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokSymbolArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokUnderscore = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokUnderscore) {
      return true;
    }
    ;
    return false;
  });
  var braces = /* @__PURE__ */ wrapped(tokLeftBrace)(tokRightBrace);
  var parseTypeVarKinded = function(parseBindingName) {
    return map9(TypeVarKinded.create)(parens(bind3(parseBindingName)(function(label4) {
      return bind3(tokDoubleColon)(function(separator) {
        return bind3($lazy_parseType(550))(function(value12) {
          return pure4({
            label: label4,
            separator,
            value: value12
          });
        });
      });
    })));
  };
  var parseTypeVarBinding = function(parseBindingName) {
    return alt7(parseTypeVarKinded(parseBindingName))(map9(TypeVarName.create)(parseBindingName));
  };
  var parseTypeParen = function(open) {
    return bind3($lazy_parseType(507))(function(value12) {
      return bind3(tokRightParen)(function(close2) {
        return pure4(new TypeParens({
          open,
          value: value12,
          close: close2
        }));
      });
    });
  };
  var parseRowTailParen = function(open) {
    return bind3(apply3(map9(Tuple.create)(tokPipe))($lazy_parseType(477)))(function(tail2) {
      return bind3(tokRightParen)(function(close2) {
        return pure4(new TypeRow({
          open,
          value: {
            labels: Nothing.value,
            tail: new Just(tail2)
          },
          close: close2
        }));
      });
    });
  };
  var parseRowParen = function(open) {
    return bind3($$try2(apply3(map9(Tuple.create)(parseLabel))(tokDoubleColon)))(function(v) {
      return bind3($lazy_parseType(459))(function(value12) {
        return bind3(many2(apply3(map9(Tuple.create)(tokComma))($lazy_parseRowLabel(460))))(function(rest) {
          return bind3(optional2(apply3(map9(Tuple.create)(tokPipe))($lazy_parseType(461))))(function(tail2) {
            return bind3(tokRightParen)(function(close2) {
              return pure4(new TypeRow({
                open,
                value: {
                  labels: new Just({
                    head: {
                      label: v.value0,
                      separator: v.value1,
                      value: value12
                    },
                    tail: rest
                  }),
                  tail: tail2
                },
                close: close2
              }));
            });
          });
        });
      });
    });
  };
  var parseKindedVar = function(open) {
    return bind3($$try2(apply3(map9(Tuple.create)(parens(map9(TypeVar.create)(parseIdent))))(tokDoubleColon)))(function(v) {
      return bind3($lazy_parseType(497))(function(kind2) {
        return bind3(tokRightParen)(function(close2) {
          return pure4(new TypeParens({
            open,
            value: new TypeKinded(new TypeParens(v.value0), v.value1, kind2),
            close: close2
          }));
        });
      });
    });
  };
  var $lazy_parseForall = /* @__PURE__ */ $runtime_lazy6("parseForall", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return apply3(apply3(apply3(map9(TypeForall.create)(tokForall))(many1($lazy_parseTypeVarBindingWithVisibility(528))))(tokDot))($lazy_parseType1(530));
    });
  });
  var $lazy_parseRow = /* @__PURE__ */ $runtime_lazy6("parseRow", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return bind3(optional2(separated(tokComma)($lazy_parseRowLabel(513))))(function(labels9) {
        return bind3(optional2(apply3(map9(Tuple.create)(tokPipe))($lazy_parseType(514))))(function(tail2) {
          return pure4({
            labels: labels9,
            tail: tail2
          });
        });
      });
    });
  });
  var $lazy_parseRowLabel = /* @__PURE__ */ $runtime_lazy6("parseRowLabel", "PureScript.CST.Parser", function() {
    return bind3(parseLabel)(function(label4) {
      return bind3(tokDoubleColon)(function(separator) {
        return bind3($lazy_parseType(521))(function(value12) {
          return pure4({
            label: label4,
            separator,
            value: value12
          });
        });
      });
    });
  });
  var $lazy_parseType = /* @__PURE__ */ $runtime_lazy6("parseType", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return bind3($lazy_parseType1(393))(function(ty) {
        return alt7(apply3(map9(TypeKinded.create(ty))(tokDoubleColon))($lazy_parseType(394)))(pure4(ty));
      });
    });
  });
  var $lazy_parseType1 = /* @__PURE__ */ $runtime_lazy6("parseType1", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return alt7($lazy_parseForall(399))($lazy_parseType2(400));
    });
  });
  var $lazy_parseType2 = /* @__PURE__ */ $runtime_lazy6("parseType2", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return bind3($lazy_parseType3(404))(function(ty) {
        return alt7(apply3(map9(TypeArrow.create(ty))(tokRightArrow))($lazy_parseType1(405)))(alt7(apply3(map9(TypeConstrained.create(ty))(tokRightFatArrow))($lazy_parseType1(406)))(pure4(ty)));
      });
    });
  });
  var $lazy_parseType3 = /* @__PURE__ */ $runtime_lazy6("parseType3", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return bind3($lazy_parseType4(411))(function(ty) {
        return bind3(many2(apply3(map9(Tuple.create)(parseQualifiedOperator))($lazy_parseType4(412))))(function(ops) {
          return pure4((function() {
            var v1 = fromArray(ops);
            if (v1 instanceof Nothing) {
              return ty;
            }
            ;
            if (v1 instanceof Just) {
              return new TypeOp(ty, v1.value0);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Parser (line 413, column 8 - line 415, column 28): " + [v1.constructor.name]);
          })());
        });
      });
    });
  });
  var $lazy_parseType4 = /* @__PURE__ */ $runtime_lazy6("parseType4", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return alt7(parseTypeNegative)($lazy_parseType5(419));
    });
  });
  var $lazy_parseType5 = /* @__PURE__ */ $runtime_lazy6("parseType5", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return bind3($lazy_parseTypeAtom(423))(function(ty) {
        return bind3(many2($lazy_parseTypeAtom(424)))(function(args) {
          return pure4((function() {
            var v1 = fromArray(args);
            if (v1 instanceof Nothing) {
              return ty;
            }
            ;
            if (v1 instanceof Just) {
              return new TypeApp(ty, v1.value0);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Parser (line 425, column 8 - line 427, column 29): " + [v1.constructor.name]);
          })());
        });
      });
    });
  });
  var $lazy_parseTypeAtom = /* @__PURE__ */ $runtime_lazy6("parseTypeAtom", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return alt7(map9(TypeVar.create)(parseIdent))(alt7(map9(TypeConstructor.create)(parseQualifiedProper))(alt7(map9(uncurry(TypeString.create))(parseString))(alt7(map9(uncurry(TypeInt.create(Nothing.value)))($$parseInt))(alt7($lazy_parseTypeParens(435))(alt7(map9(TypeRecord.create)(braces($lazy_parseRow(436))))(alt7(map9(TypeOpName.create)(parseQualifiedSymbol))(alt7(map9(TypeHole.create)(parseHole))(alt7(map9(TypeWildcard.create)(tokUnderscore))(map9(TypeArrowName.create)(tokSymbolArrow))))))))));
    });
  });
  var $lazy_parseTypeParens = /* @__PURE__ */ $runtime_lazy6("parseTypeParens", "PureScript.CST.Parser", function() {
    return bind3(tokLeftParen)(function(open) {
      return alt7(parseRowParen(open))(alt7(parseRowTailParen(open))(alt7(parseKindedVar(open))(alt7(parseTypeParen(open))(parseEmptyRow(open)))));
    });
  });
  var $lazy_parseTypeVarBindingWithVisibility = /* @__PURE__ */ $runtime_lazy6("parseTypeVarBindingWithVisibility", "PureScript.CST.Parser", function() {
    return defer4(function(v) {
      return parseTypeVarBinding(apply3(map9(function(v1) {
        return function(v2) {
          return {
            prefix: v1,
            value: v2
          };
        };
      })(optional2(tokAt)))(parseIdent));
    });
  });
  var parseType = /* @__PURE__ */ $lazy_parseType(391);

  // output/PureScript.CST/index.js
  var ParseSucceeded = /* @__PURE__ */ (function() {
    function ParseSucceeded2(value0) {
      this.value0 = value0;
    }
    ;
    ParseSucceeded2.create = function(value0) {
      return new ParseSucceeded2(value0);
    };
    return ParseSucceeded2;
  })();
  var ParseSucceededWithErrors = /* @__PURE__ */ (function() {
    function ParseSucceededWithErrors2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseSucceededWithErrors2.create = function(value0) {
      return function(value1) {
        return new ParseSucceededWithErrors2(value0, value1);
      };
    };
    return ParseSucceededWithErrors2;
  })();
  var ParseFailed = /* @__PURE__ */ (function() {
    function ParseFailed2(value0) {
      this.value0 = value0;
    }
    ;
    ParseFailed2.create = function(value0) {
      return new ParseFailed2(value0);
    };
    return ParseFailed2;
  })();
  var toRecoveredParserResult = function(v) {
    var v1 = function(v2) {
      if (v instanceof Right && otherwise) {
        return new ParseSucceeded(v.value0.value0);
      }
      ;
      if (v instanceof Left) {
        return new ParseFailed(v.value0);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST (line 42, column 1 - line 45, column 29): " + [v.constructor.name]);
    };
    if (v instanceof Right) {
      var $21 = fromArray(v.value0.value1);
      if ($21 instanceof Just) {
        return new ParseSucceededWithErrors(v.value0.value0, $21.value0);
      }
      ;
      return v1(true);
    }
    ;
    return v1(true);
  };
  var runRecoveredParser = function(p) {
    var $31 = flip(runParser)(p);
    return function($32) {
      return toRecoveredParserResult($31($32));
    };
  };
  var parseType2 = /* @__PURE__ */ (function() {
    var $33 = runRecoveredParser(parseType);
    return function($34) {
      return $33(lex($34));
    };
  })();

  // output/CE2.Viz.TypeSignature.TypeAST/index.js
  var map10 = /* @__PURE__ */ map(functorArray);
  var append12 = /* @__PURE__ */ append(semigroupArray);
  var extractBinderName = function(v) {
    if (v instanceof TypeVarName) {
      return [v.value0.value.name];
    }
    ;
    if (v instanceof TypeVarKinded) {
      return [v.value0.value.label.value.name];
    }
    ;
    throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 105, column 21 - line 109, column 38): " + [v.constructor.name]);
  };
  var simplifyRow = function(v) {
    return {
      fields: (function() {
        if (v.labels instanceof Nothing) {
          return [];
        }
        ;
        if (v.labels instanceof Just) {
          return cons(simplifyLabel(v.labels.value0.head))(map10(function($154) {
            return simplifyLabel(snd($154));
          })(v.labels.value0.tail));
        }
        ;
        throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 113, column 13 - line 116, column 75): " + [v.labels.constructor.name]);
      })(),
      tail: (function() {
        if (v.tail instanceof Nothing) {
          return Nothing.value;
        }
        ;
        if (v.tail instanceof Just) {
          var v1 = simplify(v.tail.value0.value1);
          if (v1 instanceof TVar) {
            return new Just(v1.value0);
          }
          ;
          return new Just("...");
        }
        ;
        throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 117, column 11 - line 121, column 24): " + [v.tail.constructor.name]);
      })()
    };
  };
  var simplifyLabel = function(v) {
    return {
      label: v.label.name,
      value: simplify(v.value)
    };
  };
  var simplifyConstraint = function(v) {
    if (v instanceof TypeApp) {
      var v1 = simplify(v.value0);
      if (v1 instanceof TCon) {
        return {
          className: v1.value0,
          args: map10(simplify)(toArray(v.value1))
        };
      }
      ;
      return {
        className: "?",
        args: []
      };
    }
    ;
    if (v instanceof TypeConstructor) {
      return {
        className: v.value0.name,
        args: []
      };
    }
    ;
    return {
      className: "?",
      args: []
    };
  };
  var simplify = function(v) {
    if (v instanceof TypeVar) {
      return new TVar(v.value0.name);
    }
    ;
    if (v instanceof TypeConstructor) {
      if (v.value0.module instanceof Nothing) {
        return new TCon(v.value0.name);
      }
      ;
      if (v.value0.module instanceof Just) {
        return new TCon(v.value0.module.value0 + ("." + v.value0.name));
      }
      ;
      throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 42, column 8 - line 44, column 54): " + [v.value0.module.constructor.name]);
    }
    ;
    if (v instanceof TypeWildcard) {
      return TWildcard.value;
    }
    ;
    if (v instanceof TypeHole) {
      return new TVar("?" + v.value0.name);
    }
    ;
    if (v instanceof TypeString) {
      return new TString(v.value1);
    }
    ;
    if (v instanceof TypeInt) {
      return new TCon("<int>");
    }
    ;
    if (v instanceof TypeRow) {
      var v1 = simplifyRow(v.value0.value);
      return new TRow(v1.fields, v1.tail);
    }
    ;
    if (v instanceof TypeRecord) {
      var v1 = simplifyRow(v.value0.value);
      return new TRecord(v1.fields, v1.tail);
    }
    ;
    if (v instanceof TypeForall) {
      var vars = concatMap(extractBinderName)(toArray(v.value1));
      var inner = simplify(v.value3);
      if (inner instanceof TForall) {
        return new TForall(append12(vars)(inner.value0), inner.value1);
      }
      ;
      return new TForall(vars, inner);
    }
    ;
    if (v instanceof TypeKinded) {
      return new TKinded(simplify(v.value0), simplify(v.value2));
    }
    ;
    if (v instanceof TypeApp) {
      return new TApp(simplify(v.value0), map10(simplify)(toArray(v.value1)));
    }
    ;
    if (v instanceof TypeOp) {
      return foldl2(function(acc) {
        return function(v12) {
          return new TOperator(acc, v12.value0.name, simplify(v12.value1));
        };
      })(simplify(v.value0))(toArray(v.value1));
    }
    ;
    if (v instanceof TypeOpName) {
      return new TCon("(" + (v.value0.name + ")"));
    }
    ;
    if (v instanceof TypeArrow) {
      return new TArrow(simplify(v.value0), simplify(v.value2));
    }
    ;
    if (v instanceof TypeArrowName) {
      return new TCon("(->)");
    }
    ;
    if (v instanceof TypeConstrained) {
      var inner = simplify(v.value2);
      var c = simplifyConstraint(v.value0);
      if (inner instanceof TConstrained) {
        return new TConstrained(cons(c)(inner.value0), inner.value1);
      }
      ;
      return new TConstrained([c], inner);
    }
    ;
    if (v instanceof TypeParens) {
      return new TParens(simplify(v.value0.value));
    }
    ;
    if (v instanceof $$TypeError) {
      return new TCon("<error>");
    }
    ;
    throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 36, column 12 - line 102, column 36): " + [v.constructor.name]);
  };
  var parseToRenderType = function(input) {
    var sanitized = replaceAll(", |")(" |")(input);
    var v = parseType2(sanitized);
    if (v instanceof ParseSucceeded) {
      return new Just(simplify(v.value0));
    }
    ;
    if (v instanceof ParseSucceededWithErrors) {
      return new Just(simplify(v.value0));
    }
    ;
    if (v instanceof ParseFailed) {
      return Nothing.value;
    }
    ;
    throw new Error("Failed pattern match at CE2.Viz.TypeSignature.TypeAST (line 148, column 27 - line 151, column 27): " + [v.constructor.name]);
  };
  var elideConstraint = function(c) {
    return {
      className: c.className,
      args: map10(elideAST)(c.args)
    };
  };
  var elideAST = function(v) {
    if (v instanceof TRecord) {
      return new TCon("{..}");
    }
    ;
    if (v instanceof TRow) {
      return new TCon("(..)");
    }
    ;
    if (v instanceof TApp && (v.value0 instanceof TCon && (v.value0.value0 === "Record" && (v.value1.length === 1 && v["value1"][0] instanceof TRow)))) {
      return new TCon("{..}");
    }
    ;
    if (v instanceof TApp) {
      return new TApp(elideAST(v.value0), map10(elideAST)(v.value1));
    }
    ;
    if (v instanceof TArrow) {
      return new TArrow(elideAST(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TForall) {
      return new TForall(v.value0, elideAST(v.value1));
    }
    ;
    if (v instanceof TConstrained) {
      return new TConstrained(map10(elideConstraint)(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TParens) {
      return new TParens(elideAST(v.value0));
    }
    ;
    if (v instanceof TKinded) {
      return new TKinded(elideAST(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TOperator) {
      return new TOperator(elideAST(v.value0), v.value1, elideAST(v.value2));
    }
    ;
    return v;
  };

  // output/Effect.Console/foreign.js
  var log2 = function(s) {
    return function() {
      console.log(s);
    };
  };

  // output/CE2.SigTest.Main/index.js
  var show2 = /* @__PURE__ */ show(showInt);
  var foldM3 = /* @__PURE__ */ foldM(monadEffect);
  var renderSiglet = function(s) {
    var containerId = "siglet-" + show2(s.idx);
    var v = parseToRenderType(s.sig);
    if (v instanceof Just) {
      return function __do2() {
        createRow("siglet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(true)();
        return renderSigletInto("#" + containerId)({
          ast: elideAST(v.value0),
          maxWidth: 400
        })();
      };
    }
    ;
    if (v instanceof Nothing) {
      return function __do2() {
        createRow("siglet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(false)();
        return log2("[SigTest] Parse failed: #" + (show2(s.idx) + (" " + s.name)))();
      };
    }
    ;
    throw new Error("Failed pattern match at CE2.SigTest.Main (line 45, column 3 - line 52, column 71): " + [v.constructor.name]);
  };
  var renderSigil = function(s) {
    var containerId = "sigil-" + show2(s.idx);
    var v = parseToRenderType(s.sig);
    if (v instanceof Just) {
      return function __do2() {
        createRow("sigil-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(true)();
        return renderSignatureInto("#" + containerId)({
          name: s.name,
          sig: s.sig,
          ast: v.value0,
          typeParams: [],
          className: Nothing.value
        })();
      };
    }
    ;
    if (v instanceof Nothing) {
      return function __do2() {
        createRow("sigil-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(false)();
        return log2("[SigTest] Parse failed: #" + (show2(s.idx) + (" " + s.name)))();
      };
    }
    ;
    throw new Error("Failed pattern match at CE2.SigTest.Main (line 33, column 3 - line 40, column 71): " + [v.constructor.name]);
  };
  var main = function __do() {
    log2("[SigTest] Rendering signature gallery")();
    foldM3(function(v) {
      return function(s) {
        return renderSigil(s);
      };
    })(unit)(signatures)();
    foldM3(function(v) {
      return function(s) {
        return renderSiglet(s);
      };
    })(unit)(signatures)();
    return log2("[SigTest] Done")();
  };

  // <stdin>
  main();
})();
